{"version":3,"sources":["webpack:///static/js/app.e40141e2c17c568f4df6.js","webpack:///./examples/components/demo-block.vue","webpack:///./src/model-mixin.vue","webpack:///./src/model-obj.vue","webpack:///./src/util.js","webpack:///./src/model-collada.vue","webpack:///./examples/router/index.js","webpack:///./examples/App.vue","webpack:///./examples/index.js","webpack:///./examples/pages/index.js","webpack:///App.vue","webpack:///demo-block.vue","webpack:///demo-background.vue","webpack:///demo-basic.vue","webpack:///demo-collada.vue","webpack:///demo-event.vue","webpack:///demo-json.vue","webpack:///demo-obj-mtl.vue","webpack:///demo-obj.vue","webpack:///demo-ply.vue","webpack:///demo-rotate.vue","webpack:///demo-stl.vue","webpack:///model-collada.vue","webpack:///model-mixin.vue","webpack:///model-obj.vue","webpack:///model-ply.vue","webpack:///model-stl.vue","webpack:///model-three.vue","webpack:///./src/controls/OrbitControls.js","webpack:///./src/loaders/ColladaLoader.js","webpack:///./src/loaders/DDSLoader.js","webpack:///./src/loaders/MTLLoader.js","webpack:///./src/loaders/OBJLoader.js","webpack:///./src/loaders/PLYLoader.js","webpack:///./src/loaders/STLLoader.js","webpack:///./examples/pages/demo-background.vue?f601","webpack:///./examples/components/demo-block.vue?1794","webpack:///./examples/App.vue?3771","webpack:///./examples/pages/demo-background.vue","webpack:///./examples/pages/demo-basic.vue","webpack:///./examples/pages/demo-collada.vue","webpack:///./examples/pages/demo-event.vue","webpack:///./examples/pages/demo-json.vue","webpack:///./examples/pages/demo-obj-mtl.vue","webpack:///./examples/pages/demo-obj.vue","webpack:///./examples/pages/demo-ply.vue","webpack:///./examples/pages/demo-rotate.vue","webpack:///./examples/pages/demo-stl.vue","webpack:///./src/model-ply.vue","webpack:///./src/model-stl.vue","webpack:///./src/model-three.vue","webpack:///./examples/pages/demo-json.vue?5534","webpack:///./examples/pages/demo-stl.vue?ec03","webpack:///./examples/pages/demo-obj.vue?36e0","webpack:///./examples/pages/demo-basic.vue?1bd2","webpack:///./examples/pages/demo-background.vue?486b","webpack:///./examples/pages/demo-obj-mtl.vue?ed5c","webpack:///./examples/components/demo-block.vue?b978","webpack:///./examples/pages/demo-collada.vue?eca3","webpack:///./examples/pages/demo-ply.vue?d0e3","webpack:///./examples/pages/demo-rotate.vue?ee2b","webpack:///./examples/App.vue?3f0c","webpack:///./src/model-mixin.vue?997a","webpack:///./examples/pages/demo-event.vue?853b","webpack:///./examples/pages/demo-background.vue?7dd8","webpack:///./examples/components/demo-block.vue?c641","webpack:///./examples/App.vue?d22b"],"names":["webpackJsonp","module","exports","__webpack_require__","Component","__webpack_exports__","getSize","object","box","setFromObject","getCenter","toIndexed","bufferGeometry","exists","v","vertices","i","length","equals","raw_uvs","raw_positions","getAttribute","array","hasUV","undefined","raw_normals","hasNormal","face","face_normalss","face_uvs","tmp_indices","indices","normals","uvs","v0","__WEBPACK_IMPORTED_MODULE_0_three__","v1","v2","n0","n1","n2","uv0","uv1","uv2","x","y","z","forEach","id","push","clone","positionBuffer","Float32Array","normalBuffer","uvBuffer","i2","i3","addAttribute","setIndex","Uint32Array","d","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages__","use","routes","map","page","name","path","component","redirect","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue___default","n","__WEBPACK_IMPORTED_MODULE_2__router__","el","router","render","h","a","pages","__WEBPACK_IMPORTED_MODULE_0__demo_basic__","__WEBPACK_IMPORTED_MODULE_0__demo_basic___default","__WEBPACK_IMPORTED_MODULE_1__demo_event__","__WEBPACK_IMPORTED_MODULE_1__demo_event___default","__WEBPACK_IMPORTED_MODULE_2__demo_background__","__WEBPACK_IMPORTED_MODULE_2__demo_background___default","__WEBPACK_IMPORTED_MODULE_3__demo_rotate__","__WEBPACK_IMPORTED_MODULE_3__demo_rotate___default","__WEBPACK_IMPORTED_MODULE_4__demo_obj__","__WEBPACK_IMPORTED_MODULE_4__demo_obj___default","__WEBPACK_IMPORTED_MODULE_5__demo_obj_mtl__","__WEBPACK_IMPORTED_MODULE_5__demo_obj_mtl___default","__WEBPACK_IMPORTED_MODULE_6__demo_stl__","__WEBPACK_IMPORTED_MODULE_6__demo_stl___default","__WEBPACK_IMPORTED_MODULE_7__demo_collada__","__WEBPACK_IMPORTED_MODULE_7__demo_collada___default","__WEBPACK_IMPORTED_MODULE_8__demo_json__","__WEBPACK_IMPORTED_MODULE_8__demo_json___default","__WEBPACK_IMPORTED_MODULE_9__demo_ply__","__WEBPACK_IMPORTED_MODULE_9__demo_ply___default","__WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css__","__WEBPACK_IMPORTED_MODULE_1_highlight_js__","__WEBPACK_IMPORTED_MODULE_1_highlight_js___default","codeHandler","code","replace","props","vueCode","String","htmlCode","type","default","mounted","highlightBlock","this","$refs","data","filters","val","components","__WEBPACK_IMPORTED_MODULE_0__components_demo_block__","__WEBPACK_IMPORTED_MODULE_0__components_demo_block___default","__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__","__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default","loading","bgColor","bgAlpha","methods","onLoad","setBackground","color","alpha","ModelObj","DemoBlock","__WEBPACK_IMPORTED_MODULE_1__src_model_three_vue__","__WEBPACK_IMPORTED_MODULE_1__src_model_three_vue___default","ModelThree","__WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue__","__WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue___default","rotation","Math","PI","ModelCollada","intersected","onMouseMove","event","console","log","material","setStyle","__WEBPACK_IMPORTED_MODULE_1__src_model_ply_vue__","__WEBPACK_IMPORTED_MODULE_1__src_model_ply_vue___default","ModelPly","rotate","requestAnimationFrame","__WEBPACK_IMPORTED_MODULE_1__src_model_stl_vue__","__WEBPACK_IMPORTED_MODULE_1__src_model_stl_vue___default","ModelStl","__WEBPACK_IMPORTED_MODULE_0__loaders_ColladaLoader__","__WEBPACK_IMPORTED_MODULE_2__model_mixin_vue__","__WEBPACK_IMPORTED_MODULE_2__model_mixin_vue___default","mixins","lights","Array","position","skyColor","groundColor","intensity","smoothing","Boolean","loader","getObject","collada","scene","__WEBPACK_IMPORTED_MODULE_1__util__","__WEBPACK_IMPORTED_MODULE_2__controls_OrbitControls__","suportWebGL","canvas","document","createElement","window","WebGLRenderingContext","getContext","e","src","width","Number","height","scale","cameraPosition","cameraRotation","cameraUp","cameraLookAt","backgroundColor","backgroundAlpha","controllable","size","raycaster","mouse","camera","wrapper","renderer","controls","allLights","clock","performance","Date","computed","hasListener","events","_events","result","created","addEventListener","onResize","$el","offsetWidth","offsetHeight","antialias","shadowMap","enabled","add","load","update","onMouseDown","onMouseUp","onClick","animate","beforeDestroy","removeEventListener","watch","deep","handler","set","oldVal","updateLights","updateCamera","updateRenderer","updateControls","_this","$nextTick","pick","clientX","clientY","$emit","rect","getBoundingClientRect","left","top","setFromCamera","intersects","intersectObject","updateModel","setSize","setPixelRatio","devicePixelRatio","setClearColor","getHex","setClearAlpha","aspect","updateProjectionMatrix","up","lookAt","distance","_this2","remove","apply","item","toLowerCase","light","_color","_intensity","decay","PointLight","copy","_color2","_intensity2","target","_intensity3","dispose","_this3","arguments","process","addObject","err","center","negate","__WEBPACK_IMPORTED_MODULE_0__loaders_OBJLoader__","__WEBPACK_IMPORTED_MODULE_1__loaders_MTLLoader__","__WEBPACK_IMPORTED_MODULE_2__util__","__WEBPACK_IMPORTED_MODULE_3__model_mixin_vue__","__WEBPACK_IMPORTED_MODULE_3__model_mixin_vue___default","mtlPath","mtl","mtlLoader","traverse","child","geometry","computeVertexNormals","onError","mtlSrc","exec","setPath","materials","preload","setMaterials","__WEBPACK_IMPORTED_MODULE_0__loaders_PLYLoader__","__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__","__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default","__WEBPACK_IMPORTED_MODULE_2_three__","__WEBPACK_IMPORTED_MODULE_0__loaders_STLLoader__","OrbitControls","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default","__WEBPACK_IMPORTED_MODULE_1_three__","domElement","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","rotateLeft","angle","sphericalDelta","theta","rotateUp","phi","dollyIn","dollyScale","zoom","max","minZoom","min","maxZoom","zoomChanged","warn","enableZoom","dollyOut","handleMouseDownRotate","rotateStart","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","subVectors","element","body","clientWidth","rotateSpeed","clientHeight","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","deltaY","handleKeyDown","keyCode","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","preventDefault","button","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","dispatchEvent","startEvent","endEvent","onMouseWheel","stopPropagation","onKeyDown","enableKeys","onTouchStart","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","minDistance","maxDistance","Infinity","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","autoRotate","MIDDLE","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","reset","changeEvent","offset","quat","setFromUnitVectors","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","makeSafe","radius","panOffset","setFromSpherical","distanceToSquared","EPS","dot","quaternion","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","deltaX","targetDistance","tan","fov","matrix","right","bottom","prototype","constructor","ColladaLoader","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","manager","crossOrigin","url","onProgress","extractUrlBase","text","parse","options","convertUpAxis","setCrossOrigin","getElementsByTagName","xml","childNodes","l","nodeName","parseStrings","parts","trim","split","parseFloats","parseFloat","parseInts","parseInt","parseId","substring","isEmpty","parseAssetUnit","parseAssetUpAxis","textContent","parseLibrary","libraryName","parser","library","elements","buildLibrary","builder","build","getBuild","parseAnimation","sources","samplers","channels","nodeType","parseSource","parseAnimationSampler","parseAnimationChannel","animations","inputs","semantic","shift","sid","arraySyntax","indexOf","memberSyntax","member","sampler","buildAnimation","tracks","hasOwnProperty","channel","inputId","INPUT","outputId","OUTPUT","inputSource","outputSource","animation","buildAnimationChannel","createKeyframeTracks","getAnimation","time","stride","il","j","jl","node","nodes","object3D","getNode","transform","transforms","defaultMatrix","transpose","index","keyframes","prepareAnimationData","uuid","ascending","b","sort","transformAnimationData","times","positionData","quaternionData","scaleData","keyframe","fromArray","decompose","w","property","defaultValue","empty","createMissingKeyframes","prev","next","getPrev","getNext","interpolate","key","parseAnimationClip","start","end","clips","buildAnimationClip","duration","animationTracks","getAnimationClip","parseController","skin","parseSkin","controllers","bindShapeMatrix","joints","parseJoints","vertexWeights","parseVertexWeights","vcount","buildController","geometries","buildSkin","skinIndices","skinWeights","weights","descending","weight","jointOffset","JOINT","weightOffset","WEIGHT","jointSource","inverseSource","INV_BIND_MATRIX","jointCount","vertexSkinData","skinIndex","weightId","skinWeight","bindMatrix","boneInverse","getController","parseImage","init_from","images","buildImage","getImage","parseEffect","profile","parseEffectProfileCOMMON","effects","surfaces","parseEffectNewparam","technique","parseEffectTechnique","parseEffectSurface","parseEffectSampler","source","parameters","parseEffectParameters","parseEffectParameter","extra","parseEffectParameterTexture","parseEffectParameterTextureExtra","parseEffectParameterTextureExtraTechnique","toUpperCase","buildEffect","getEffect","parseMaterial","buildMaterial","getTexture","textureObject","effect","surface","texture","textureLoader","wrapS","wrapU","wrapT","wrapV","offsetU","offsetV","repeat","repeatU","repeatV","error","parameter","specular","specularMap","float","shininess","emissive","transparent","opacity","getMaterial","parseCamera","optics","parseCameraOptics","cameras","parseCameraTechnique","parseCameraParameters","buildCamera","yfov","aspect_ratio","znear","zfar","ymag","xmag","aspectRatio","getCamera","parseLight","parseLightTechnique","parseLightParameters","falloffAngle","f","buildLight","getLight","parseGeometry","primitives","mesh","parseGeometryVertices","parseGeometryPrimitive","accessor","primitive","count","p","groupPrimitives","buildGeometry","groupedPrimitives","buildGeometryType","normal","uv","materialKeys","triangleCount","addGroup","input","buildGeometryData","pushVector","sourceStride","sourceArray","maxcount","c","getGeometry","parseKinematicsModel","links","parseKinematicsTechniqueCommon","kinematicsModels","buildKinematicsModel","getKinematicsModel","parseKinematicsJoint","parseKinematicsLink","parseKinematicsJointParameter","axis","limits","static","zeroPosition","middlePosition","attachments","parseKinematicsAttachment","parseKinematicsTransform","joint","pop","obj","degToRad","parseKinematicsScene","bindJointAxis","parseKinematicsBindJointAxis","kinematicsScenes","param","tmpJointIndex","jointIndex","substr","buildKinematicsScene","getKinematicsScene","buildTransformList","querySelector","vector","parseNode","instanceCameras","instanceControllers","instanceLights","instanceGeometries","instanceNodes","hasAttribute","parseNodeInstance","multiply","makeTranslation","makeRotationAxis","skeletons","instances","instance","symbol","buildSkeleton","boneData","sortedBoneData","buildBoneHierarchy","bone","processed","bones","boneInverses","root","isBone","buildNode","objects","controller","newObjects","buildObjects","skeleton","isSkinnedMesh","bind","normalizeSkinWeights","resolveMaterialBinding","instanceMaterials","skinning","attributes","parseVisualScene","children","visualScenes","buildVisualScene","group","getVisualScene","DOMParser","parseFromString","timeEnd","version","asset","unit","upAxis","kinematics","kinematicsModelId","kinematicsSceneId","visualSceneId","kinematicsModel","kinematicsScene","visualScene","jointMap","targetElement","parentVisualElement","parentElement","visualElement","visualElementName","m0","getJointValue","jointData","setJointValue","identity","DDSLoader","_parser","buffer","loadMipmaps","fourCCToInt32","charCodeAt","dds","mipmaps","format","mipmapCount","FOURCC_DXT1","FOURCC_DXT3","FOURCC_DXT5","FOURCC_ETC1","header","Int32Array","blockBytes","fourCC","isRGBAUncompressed","fromCharCode","caps2","isCubemap","dataOffset","faces","byteArray","dataLength","srcBuffer","Uint8Array","dst","g","r","mipmap","MTLLoader","__WEBPACK_IMPORTED_MODULE_1__DDSLoader__","LoaderHandlers","Handlers","setTexturePath","texturePath","setBaseUrl","setMaterialOptions","materialOptions","lines","info","delimiter_pattern","materialsInfo","line","charAt","pos","ss","materialCreator","MaterialCreator","setManager","baseUrl","materialsArray","nameLookup","side","wrap","convert","converted","mn","mat","covmat","prop","save","lprop","normalizeRGB","ignoreZeroRGBs","create","getIndex","materialName","getAsArray","createMaterial_","resolveURL","test","setMapForType","mapType","params","texParams","getTextureParams","loadTexture","matParams","items","bumpScale","splice","join","mapping","get","OBJLoader","regexp","vertex_pattern","normal_pattern","uv_pattern","face_vertex","face_vertex_uv","face_vertex_uv_normal","face_vertex_normal","object_pattern","smoothing_pattern","material_library_pattern","material_use_pattern","_createParserState","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","smooth","startMaterial","libraries","previous","inherited","groupCount","mtllib","isArray","groupStart","groupEnd","cloned","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parseNormalIndex","parseUVIndex","addVertex","addVertexLine","addNormal","addUV","addUVLine","addFace","ua","ub","uc","ud","na","nb","nc","nd","vLen","ia","ib","ic","uvLen","nLen","addLineGeometry","vi","uvi","lineFirstChar","lineSecondChar","trimLeft","Error","lineParts","lineVertices","lineUVs","li","llen","container","concat","isLine","buffergeometry","createdMaterials","miLen","sourceMaterial","materialLine","shading","PLYLoader","propertyNameMapping","setResponseType","setPropertyNameMapping","parseHeader","patternHeader","headerText","headerLength","currentElement","lineType","lineValues","comments","properties","propertValues","countType","itemType","parseASCIINumber","parseASCIIElement","values","list","parseASCII","colors","patternBody","currentElementCount","handleElement","postProcess","computeBoundingSphere","elementName","nx","ny","nz","s","t","red","green","blue","vertex_indices","vertex_index","binaryRead","dataview","at","little_endian","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","binaryReadElement","read","ArrayBuffer","buf","array_buffer","TextDecoder","decode","str","byteLength","DataView","loc","STLLoader","binData","ensureBinary","face_size","n_faces","reader","solid","parseBinary","ensureString","defaultR","defaultG","defaultB","hasColors","normalX","normalY","normalZ","packedColor","vertexstart","patternFace","patternNormal","patternVertex","strArray","_vm","_h","$createElement","_c","_self","attrs","vue-code","html-code","slot","on","on-load","_v","directives","rawName","expression","staticClass","staticRenderFns","click","$event","_t","ref","_s","_f","_m","to","href","staticStyle","margin","border","padding","on-mousemove","content","locals"],"mappings":"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C,EAAA,QAAAqB,IAKAtB,EAAA+C,MAAAhD,EAAAe,EAAA,g8BAAy9B,MpCupOn9B,SAAUf,EAAQC,EAASC,GqC5pOjCD,EAAAD,EAAAC,QAAAC,EAAA,QAAAqB,IAKAtB,EAAA+C,MAAAhD,EAAAe,EAAA,4uEAAqwE,MrCqqO/vE,SAAUf,EAAQC,KAKhB,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACC,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEH,SAAUD,EAAQC,EAASC,GsCh2OjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,GAEAA,EAAA,IAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,StCy2OM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","file":"static/js/app.e40141e2c17c568f4df6.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(290)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(31),\n  /* template */\n  __webpack_require__(281),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(43),\n  /* template */\n  __webpack_require__(286),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(44),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getCenter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return toIndexed; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n\n\nvar box = new __WEBPACK_IMPORTED_MODULE_0_three__[\"r\" /* Box3 */]();\n\nfunction getSize(object) {\n\n    box.setFromObject(object);\n\n    return box.getSize();\n}\n\nfunction getCenter(object) {\n\n    box.setFromObject(object);\n\n    return box.getCenter();\n}\n\nfunction lightsDiff(lights, oldLights) {}\n\nfunction toIndexed(bufferGeometry) {\n\n    var raw_positions = bufferGeometry.getAttribute('position').array;\n\n    var raw_uvs;\n    var hasUV = bufferGeometry.getAttribute('uv') !== undefined;\n    if (hasUV) raw_uvs = bufferGeometry.getAttribute('uv').array;\n\n    var raw_normals;\n    var hasNormal = bufferGeometry.getAttribute('normal') !== undefined;\n    if (hasNormal) raw_normals = bufferGeometry.getAttribute('normal').array;\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    var face, face_normalss, face_uvs, tmp_indices;\n\n    var v0 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n    var v1 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n    var v2 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n\n    var n0 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n    var n1 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n    var n2 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n\n    var uv0 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* Vector2 */]();\n    var uv1 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* Vector2 */]();\n    var uv2 = new __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* Vector2 */]();\n\n    for (var i = 0; i < raw_positions.length; i += 9) {\n\n        v0.x = raw_positions[i];\n        v0.y = raw_positions[i + 1];\n        v0.z = raw_positions[i + 2];\n\n        v1.x = raw_positions[i + 3];\n        v1.y = raw_positions[i + 4];\n        v1.z = raw_positions[i + 5];\n\n        v2.x = raw_positions[i + 6];\n        v2.y = raw_positions[i + 7];\n        v2.z = raw_positions[i + 8];\n\n        face = [v0, v1, v2];\n\n        if (hasNormal) {\n\n            n0.x = raw_normals[i];\n            n0.y = raw_normals[i + 1];\n            n0.z = raw_normals[i + 2];\n\n            n1.x = raw_normals[i + 3];\n            n1.y = raw_normals[i + 4];\n            n1.z = raw_normals[i + 5];\n\n            n2.x = raw_normals[i + 6];\n            n2.y = raw_normals[i + 7];\n            n2.z = raw_normals[i + 8];\n\n            face_normalss = [n0, n1, n2];\n        }\n\n        if (hasUV) {\n\n            uv0.x = raw_uvs[i];\n            uv0.y = raw_uvs[i + 1];\n\n            uv1.x = raw_uvs[i + 2];\n            uv1.y = raw_uvs[i + 3];\n\n            uv2.x = raw_uvs[i + 4];\n            uv2.y = raw_uvs[i + 5];\n\n            face_uvs = [uv0, uv1, uv2];\n        }\n\n        tmp_indices = [];\n\n        face.forEach(function (v, i) {\n\n            var id = exists(v, vertices);\n            if (id == -1) {\n\n                id = vertices.length;\n                vertices.push(v.clone());\n\n                if (hasNormal) normals.push(face_normalss[i].clone());\n                if (hasUV) uvs.push(face_uvs[i].clone());\n            }\n            tmp_indices.push(id);\n        });\n\n        indices.push(tmp_indices[0], tmp_indices[1], tmp_indices[2]);\n    }\n\n    var positionBuffer = new Float32Array(vertices.length * 3);\n    if (hasNormal) var normalBuffer = new Float32Array(vertices.length * 3);\n    if (hasUV) var uvBuffer = new Float32Array(vertices.length * 2);\n\n    var i2 = 0;\n    var i3 = 0;\n    for (i = 0; i < vertices.length; i++) {\n\n        i3 = i * 3;\n\n        positionBuffer[i3] = vertices[i].x;\n        positionBuffer[i3 + 1] = vertices[i].y;\n        positionBuffer[i3 + 2] = vertices[i].z;\n\n        if (hasNormal) {\n\n            normalBuffer[i3] = normals[i].x;\n            normalBuffer[i3 + 1] = normals[i].y;\n            normalBuffer[i3 + 2] = normals[i].z;\n        }\n\n        if (hasUV) {\n\n            i2 = i * 2;\n            uvBuffer[i2] = uvs[i].x;\n            uvBuffer[i2 + 1] = uvs[i].y;\n        }\n    }\n\n    bufferGeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](positionBuffer, 3));\n    if (hasNormal) bufferGeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](normalBuffer, 3));\n    if (hasUV) bufferGeometry.addAttribute('uv', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](uvBuffer, 2));\n    bufferGeometry.setIndex(new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Uint32Array(indices), 1));\n    return bufferGeometry;\n\n    function exists(v, vertices) {\n        for (var i = 0; i < vertices.length; i++) {\n            if (v.equals(vertices[i])) return i;\n        }\n        return -1;\n    }\n}\n\n\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(42),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(288);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages__ = __webpack_require__(29);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\nvar routes = __WEBPACK_IMPORTED_MODULE_2__pages__[\"a\" /* pages */].map(function (page) {\n\n    var name = page.name;\n\n    return {\n        path: '/' + name,\n        name: name,\n        component: page\n    };\n});\n\nroutes.push({\n    path: '*',\n    redirect: '/demo-basic'\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({ routes: routes }));\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(291)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(30),\n  /* template */\n  __webpack_require__(285),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(26);\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App_vue___default.a);\n  }\n});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return pages; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__demo_basic__ = __webpack_require__(263);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__demo_basic___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__demo_basic__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__demo_event__ = __webpack_require__(265);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__demo_event___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__demo_event__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__demo_background__ = __webpack_require__(262);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__demo_background___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__demo_background__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__demo_rotate__ = __webpack_require__(270);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__demo_rotate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__demo_rotate__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__demo_obj__ = __webpack_require__(268);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__demo_obj___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__demo_obj__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__demo_obj_mtl__ = __webpack_require__(267);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__demo_obj_mtl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__demo_obj_mtl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__demo_stl__ = __webpack_require__(271);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__demo_stl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__demo_stl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__demo_collada__ = __webpack_require__(264);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__demo_collada___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__demo_collada__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__demo_json__ = __webpack_require__(266);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__demo_json___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__demo_json__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__demo_ply__ = __webpack_require__(269);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__demo_ply___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__demo_ply__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar pages = [__WEBPACK_IMPORTED_MODULE_0__demo_basic___default.a, __WEBPACK_IMPORTED_MODULE_1__demo_event___default.a, __WEBPACK_IMPORTED_MODULE_2__demo_background___default.a, __WEBPACK_IMPORTED_MODULE_3__demo_rotate___default.a, __WEBPACK_IMPORTED_MODULE_4__demo_obj___default.a, __WEBPACK_IMPORTED_MODULE_5__demo_obj_mtl___default.a, __WEBPACK_IMPORTED_MODULE_6__demo_stl___default.a, __WEBPACK_IMPORTED_MODULE_7__demo_collada___default.a, __WEBPACK_IMPORTED_MODULE_8__demo_json___default.a, __WEBPACK_IMPORTED_MODULE_9__demo_ply___default.a];\n\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app'\n});\n\n/***/ }),\n/* 31 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_github_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js__ = __webpack_require__(85);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_highlight_js__);\n\n\n\n\n\nvar codeHandler = function codeHandler(code) {\n    var scripts = '<script src=\"vue.js\"></script>\\n \\xA0 \\xA0<script src=\"vue-3d-model.min.js\"></script>';\n\n    return code.replace(/#scripts#/ig, scripts);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app',\n    props: {\n        vueCode: String,\n        htmlCode: {\n            type: String,\n            default: '// TODO'\n        }\n    },\n    mounted: function mounted() {\n        __WEBPACK_IMPORTED_MODULE_1_highlight_js___default.a.highlightBlock(this.$refs.vueCode);\n        __WEBPACK_IMPORTED_MODULE_1_highlight_js___default.a.highlightBlock(this.$refs.htmlCode);\n    },\n    data: function data() {\n        return {};\n    },\n\n    filters: {\n        code: function code(val) {\n            return codeHandler(val);\n        }\n    },\n    components: {}\n});\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <p class=\"background-text\">\\n        Vue<br>3D<br>Model<br>Background\\n    </p>\\n    <div class=\"background-buttons\">\\n        <p>Color</p>\\n        <button @click=\"bgColor = \\'#ff0\\'\">#ff0</button>\\n        <button @click=\"bgColor = \\'#f00\\'\">#f00</button>\\n        <button @click=\"bgColor = \\'#13ce66\\'\">#13ce66</button>\\n        <p>Alpha</p>\\n        <button @click=\"bgAlpha = 0.5\">0.5</button>\\n        <button @click=\"bgAlpha = 1\">1</button>\\n        <button @click=\"bgAlpha = 0\">0</button>\\n    </div>\\n    <model-obj\\n        :backgroundAlpha=\"bgAlpha\"\\n        :backgroundColor=\"bgColor\"\\n        src=\"static/models/obj/tree.obj\"></model-obj>\\n</template>\\n\\n<script>\\n    import { ModelObj } from \\'vue-3d-model\\'\\n\\n    export default {\\n        data () {\\n            return {\\n                bgColor: \\'#ff0\\',\\n                bgAlpha: 0.5\\n            }\\n        },\\n        components: {\\n            ModelObj\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <p class=\"background-text\">\\n            Vue<br>3D<br>Model<br>Background\\n        </p>\\n        <div class=\"background-buttons\">\\n            <p>Color</p>\\n            <button @click=\"bgColor = \\'#ff0\\'\">#ff0</button>\\n            <button @click=\"bgColor = \\'#f00\\'\">#f00</button>\\n            <button @click=\"bgColor = \\'#13ce66\\'\">#13ce66</button>\\n            <p>Alpha</p>\\n            <button @click=\"bgAlpha = 0.5\">0.5</button>\\n            <button @click=\"bgAlpha = 1\">1</button>\\n            <button @click=\"bgAlpha = 0\">0</button>\\n        </div>\\n        <model-obj\\n            :backgroundAlpha=\"bgAlpha\"\\n            :backgroundColor=\"bgColor\"\\n            src=\"static/models/obj/tree.obj\"></model-obj>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\',\\n            data: {\\n                bgColor: \\'#ff0\\',\\n                bgAlpha: 0.5\\n            }\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-background',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true,\n            bgColor: '#ff0',\n            bgAlpha: 0.5\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        },\n        setBackground: function setBackground(color, alpha) {}\n    },\n    components: {\n        ModelObj: __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_three_vue__ = __webpack_require__(274);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_three_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_three_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-three src=\"static/models/json/scene.json\"></model-three>\\n</template>\\n\\n<script>\\n    import { ModelThree } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelThree\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-three src=\"static/models/json/scene.json\"></model-three>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-basic',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelThree: __WEBPACK_IMPORTED_MODULE_1__src_model_three_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 34 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-collada src=\"static/models/collada/elf.dae\"></model-collada>\\n</template>\\n\\n<script>\\n    import { ModelCollada } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelCollada\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-collada src=\"static/models/collada/elf.dae\"></model-collada>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-collada',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true,\n            rotation: {\n                x: -Math.PI / 2,\n                y: 0,\n                z: 0\n            }\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelCollada: __WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__);\n\n\n\n\n\nvar code = '\\n\\n<template>\\n    <model-obj \\n        src=\"static/models/obj/tree.obj\"\\n        @on-mousemove=\"onMouseMove\">\\n    </model-obj>\\n</template>\\n\\n<script>\\n    import { ModelObj } from \\'vue-3d-model\\'\\n\\n    export default {\\n        data () {\\n            return {\\n                intersected: null\\n            }\\n        },\\n        methods: {\\n            onMouseMove ( event ) {\\n\\n                console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\\n\\n                if ( !event ) {\\n\\n                    if ( this.intersected ) {\\n                        this.intersected.material.color.setStyle( \\'#fff\\' );\\n                    }\\n\\n                    this.intersected = null;\\n                    return;\\n                }\\n\\n                this.intersected = event.object;\\n                this.intersected.material.color.setStyle( \\'#13ce66\\' );\\n            }\\n        },\\n        components: {\\n            ModelObj\\n        }\\n    }\\n</script>\\n\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-obj \\n            src=\"static/models/obj/tree.obj\"\\n            @on-mousemove=\"onMouseMove\">\\n        </model-obj>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\',\\n            data: {\\n                intersected: null\\n            },\\n            methods: {\\n                onMouseMove ( event ) {\\n\\n                    console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\\n\\n                    if ( !event ) {\\n\\n                        if ( this.intersected ) {\\n                            this.intersected.material.color.setStyle( \\'#fff\\' );\\n                        }\\n\\n                        this.intersected = null;\\n                        return;\\n                    }\\n\\n                    this.intersected = event.object;\\n                    this.intersected.material.color.setStyle( \\'#13ce66\\' );\\n                }\\n            }\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-event',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true,\n            intersected: null\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        },\n        onMouseMove: function onMouseMove(event) {\n\n            console.log(event);\n\n            if (!event) {\n\n                if (this.intersected) {\n                    this.intersected.material.color.setStyle('#fff');\n                }\n\n                this.intersected = null;\n                return;\n            }\n\n            this.intersected = event.object;\n            this.intersected.material.color.setStyle('#13ce66');\n        }\n    },\n    components: {\n        ModelObj: __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 36 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\\n</template>\\n\\n<script>\\n    import { ModelObj } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelObj\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-obj',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelObj: __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 37 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-obj \\n        src=\"static/models/obj/male02/male02.obj\"\\n        mtl=\"static/models/obj/male02/male02.mtl\"></model-obj>\\n</template>\\n\\n<script>\\n    import { ModelObj } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelObj\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-obj \\n            src=\"static/models/obj/male02/male02.obj\"\\n            mtl=\"static/models/obj/male02/male02.mtl\"></model-obj>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-obj-mtl',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelObj: __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 38 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\\n</template>\\n\\n<script>\\n    import { ModelObj } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelObj\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-obj',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelObj: __WEBPACK_IMPORTED_MODULE_1__src_model_obj_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 39 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_ply_vue__ = __webpack_require__(272);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_ply_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_ply_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-ply src=\"static/models/ply/slotted_disk.ply\"></model-ply>\\n</template>\\n\\n<script>\\n    import { ModelPly } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelPly\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-ply src=\"static/models/ply/slotted_disk.ply\" :rotation=\"rotation\"></model-ply>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-ply',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true,\n            rotation: {\n                x: 0,\n                y: Math.PI,\n                z: 0\n            }\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelPly: __WEBPACK_IMPORTED_MODULE_1__src_model_ply_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 40 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-collada\\n        :rotation=\"rotation\"\\n        @on-load=\"onLoad\"\\n        src=\"static/models/collada/elf.dae\"></model-collada>\\n</template>\\n\\n<script>\\n    import { ModelCollada } from \\'vue-3d-model\\'\\n\\n    export default {\\n        data: {\\n            rotation: {\\n                x: -Math.PI / 2,\\n                y: 0,\\n                z: 0\\n            }\\n        },\\n        methods: {\\n            onLoad () {\\n                this.rotate();\\n            },\\n            rotate () {\\n                this.rotation.z += 0.01;\\n                requestAnimationFrame( this.rotate );\\n            }\\n        },\\n        components: {\\n            ModelCollada\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-collada\\n            :rotation=\"rotation\"\\n            @on-load=\"onLoad\"\\n            src=\"static/models/collada/elf.dae\"></model-collada>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\',\\n            data: {\\n                rotation: {\\n                    x: -Math.PI / 2,\\n                    y: 0,\\n                    z: 0\\n                }\\n            },\\n            methods: {\\n                onLoad () {\\n                    this.rotate();\\n                },\\n                rotate () {\\n                    this.rotation.z += 0.01;\\n                    requestAnimationFrame( this.rotate );\\n                }\\n            }\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-rotate',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true,\n            rotation: {\n                x: -Math.PI / 2,\n                y: 0,\n                z: 0\n            }\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n            this.rotate();\n        },\n        rotate: function rotate() {\n            requestAnimationFrame(this.rotate);\n            this.rotation.z += 0.01;\n        }\n    },\n    components: {\n        ModelCollada: __WEBPACK_IMPORTED_MODULE_1__src_model_collada_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 41 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_stl_vue__ = __webpack_require__(273);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_model_stl_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__src_model_stl_vue__);\n\n\n\n\n\nvar code = '\\n<template>\\n    <model-stl src=\"static/models/stl/slotted_disk.stl\"></model-stl>\\n</template>\\n\\n<script>\\n    import { ModelStl } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelStl\\n        }\\n    }\\n</script>\\n';\n\nvar htmlCode = '\\n<body>\\n    <div id=\"app\">\\n        <model-stl src=\"static/models/stl/slotted_disk.stl\"></model-stl>\\n    </div>\\n    #scripts#\\n    <script>\\n        new Vue({\\n            el: \\'#app\\'\\n        })\\n    </script>\\n</body>\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-stl',\n    data: function data() {\n        return {\n            code: code,\n            htmlCode: htmlCode,\n            loading: true\n        };\n    },\n\n    methods: {\n        onLoad: function onLoad() {\n            this.loading = false;\n        }\n    },\n    components: {\n        ModelStl: __WEBPACK_IMPORTED_MODULE_1__src_model_stl_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 42 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__loaders_ColladaLoader__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__model_mixin_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__model_mixin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__model_mixin_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_three__ = __webpack_require__(1);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'model-collada',\n    mixins: [__WEBPACK_IMPORTED_MODULE_2__model_mixin_vue___default.a],\n    props: {\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [{\n                    type: 'HemisphereLight',\n                    position: { x: 0, y: 1, z: 0 },\n                    skyColor: 0xaaaaff,\n                    groundColor: 0x806060,\n                    intensity: 0.2\n                }, {\n                    type: 'DirectionalLight',\n                    position: { x: 1, y: 1, z: 1 },\n                    color: 0xffffff,\n                    intensity: 0.8\n                }];\n            }\n        },\n        smoothing: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data: function data() {\n\n        var loader = new __WEBPACK_IMPORTED_MODULE_0__loaders_ColladaLoader__[\"a\" /* ColladaLoader */]();\n\n        return {\n            loader: loader\n        };\n    },\n\n    methods: {\n        getObject: function getObject(collada) {\n            return collada.scene;\n        }\n    }\n});\n\n/***/ }),\n/* 43 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__controls_OrbitControls__ = __webpack_require__(48);\n\n\n\n\n\n\nvar suportWebGL = function () {\n\n    try {\n        var canvas = document.createElement('canvas');\n        return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n    } catch (e) {\n        return false;\n    }\n}();\n\nvar handler = null;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: {\n        src: {\n            type: String\n        },\n        width: {\n            type: Number\n        },\n        height: {\n            type: Number\n        },\n        position: {\n            type: Object,\n            default: function _default() {\n                return { x: 0, y: 0, z: 0 };\n            }\n        },\n        rotation: {\n            type: Object,\n            default: function _default() {\n                return { x: 0, y: 0, z: 0 };\n            }\n        },\n        scale: {\n            type: Object,\n            default: function _default() {\n                return { x: 1, y: 1, z: 1 };\n            }\n        },\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [];\n            }\n        },\n        cameraPosition: {\n            type: Object\n        },\n        cameraRotation: {\n            type: Object\n        },\n        cameraUp: {\n            type: Object\n        },\n        cameraLookAt: {\n            type: Object\n        },\n        backgroundColor: {\n            default: 0xffffff\n        },\n        backgroundAlpha: {\n            type: Number,\n            default: 1\n        },\n        controllable: {\n            type: Boolean,\n            default: true\n        }\n    },\n    data: function data() {\n        return {\n            suportWebGL: suportWebGL,\n            size: {\n                width: this.width,\n                height: this.height\n            },\n            object: null,\n            raycaster: new __WEBPACK_IMPORTED_MODULE_0_three__[\"g\" /* Raycaster */](),\n            mouse: new __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* Vector2 */](),\n            camera: new __WEBPACK_IMPORTED_MODULE_0_three__[\"i\" /* PerspectiveCamera */](45, 1, 0.1, 100000),\n            scene: new __WEBPACK_IMPORTED_MODULE_0_three__[\"j\" /* Scene */](),\n            wrapper: new __WEBPACK_IMPORTED_MODULE_0_three__[\"k\" /* Object3D */](),\n            renderer: null,\n            controls: null,\n            allLights: [],\n            clock: typeof performance === 'undefined' ? Date : performance\n        };\n    },\n\n    computed: {\n        hasListener: function hasListener() {\n            var events = this._events;\n            var result = {};\n\n            ['on-mousemove', 'on-mouseup', 'on-mousedown', 'on-click'].forEach(function (name) {\n                result[name] = !!events[name] && events[name].length > 0;\n            });\n\n            return result;\n        }\n    },\n    created: function created() {\n        window.addEventListener('resize', this.onResize, false);\n    },\n    mounted: function mounted() {\n\n        if (this.width === undefined || this.height === undefined) {\n            this.size = {\n                width: this.$el.offsetWidth,\n                height: this.$el.offsetHeight\n            };\n        }\n\n        this.renderer = new __WEBPACK_IMPORTED_MODULE_0_three__[\"l\" /* WebGLRenderer */]({ antialias: true, alpha: true, canvas: this.$refs.canvas });\n        this.renderer.shadowMap.enabled = true;\n\n        this.scene.add(this.wrapper);\n\n        this.load();\n        this.update();\n\n        this.$el.addEventListener('mousedown', this.onMouseDown, false);\n        this.$el.addEventListener('mousemove', this.onMouseMove, false);\n        this.$el.addEventListener('mouseup', this.onMouseUp, false);\n        this.$el.addEventListener('click', this.onClick, false);\n\n        this.animate();\n    },\n    beforeDestroy: function beforeDestroy() {\n\n        this.$el.removeEventListener('mousedown', this.onMouseDown, false);\n        this.$el.removeEventListener('mousemove', this.onMouseMove, false);\n        this.$el.removeEventListener('mouseup', this.onMouseUp, false);\n        this.$el.removeEventListener('click', this.onClick, false);\n    },\n\n    watch: {\n        src: function src() {\n            this.load();\n        },\n\n        rotation: {\n            deep: true,\n            handler: function handler(val) {\n                if (!this.object) return;\n                this.object.rotation.set(val.x, val.y, val.z);\n            }\n        },\n        position: {\n            deep: true,\n            handler: function handler(val) {\n                if (!this.object) return;\n                this.object.position.set(val.x, val.y, val.z);\n            }\n        },\n        scale: {\n            deep: true,\n            handler: function handler(val) {\n                if (!this.object) return;\n                this.object.scale.set(val.x, val.y, val.z);\n            }\n        },\n        lights: {\n            deep: true,\n            handler: function handler(val, oldVal) {\n                this.updateLights();\n            }\n        },\n        size: {\n            deep: true,\n            handler: function handler(val) {\n                this.updateCamera();\n                this.updateRenderer();\n            }\n        },\n        controllable: function controllable() {\n            this.updateControls();\n        },\n        backgroundAlpha: function backgroundAlpha() {\n            this.updateRenderer();\n        },\n        backgroundColor: function backgroundColor() {\n            this.updateRenderer();\n        }\n    },\n    methods: {\n        onResize: function onResize() {\n            var _this = this;\n\n            if (this.width === undefined || this.height === undefined) {\n\n                this.$nextTick(function () {\n                    _this.size = {\n                        width: _this.$el.offsetWidth,\n                        height: _this.$el.offsetHeight\n                    };\n                });\n            }\n        },\n        onMouseDown: function onMouseDown(event) {\n\n            if (!this.hasListener['on-mousedown']) return;\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-mousedown', intersected);\n        },\n        onMouseMove: function onMouseMove(event) {\n\n            if (!this.hasListener['on-mousemove']) return;\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-mousemove', intersected);\n        },\n        onMouseUp: function onMouseUp(event) {\n\n            if (!this.hasListener['on-mouseup']) return;\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-mouseup', intersected);\n        },\n        onClick: function onClick(event) {\n\n            if (!this.hasListener['on-click']) return;\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-click', intersected);\n        },\n        pick: function pick(x, y) {\n\n            if (!this.object) return;\n\n            var rect = this.$el.getBoundingClientRect();\n\n            x -= rect.left;\n            y -= rect.top;\n\n            this.mouse.x = x / this.size.width * 2 - 1;\n            this.mouse.y = -(y / this.size.height) * 2 + 1;\n\n            this.raycaster.setFromCamera(this.mouse, this.camera);\n\n            var intersects = this.raycaster.intersectObject(this.object, true);\n\n            return (intersects && intersects.length) > 0 ? intersects[0] : null;\n        },\n        update: function update() {\n\n            this.updateRenderer();\n            this.updateCamera();\n            this.updateLights();\n            this.updateControls();\n        },\n        updateModel: function updateModel() {\n\n            var object = this.object;\n\n            if (!object) return;\n\n            var position = this.position;\n            var rotation = this.rotation;\n            var scale = this.scale;\n\n            object.position.set(position.x, position.y, position.z);\n            object.rotation.set(rotation.x, rotation.y, rotation.z);\n            object.scale.set(scale.x, scale.y, scale.z);\n        },\n        updateRenderer: function updateRenderer() {\n\n            var renderer = this.renderer;\n\n            renderer.setSize(this.size.width, this.size.height);\n            renderer.setPixelRatio(window.devicePixelRatio || 1);\n            renderer.setClearColor(new __WEBPACK_IMPORTED_MODULE_0_three__[\"m\" /* Color */](this.backgroundColor).getHex());\n            renderer.setClearAlpha(this.backgroundAlpha);\n        },\n        updateCamera: function updateCamera() {\n\n            var camera = this.camera;\n            var object = this.object;\n\n            camera.aspect = this.size.width / this.size.height;\n            camera.updateProjectionMatrix();\n\n            if (!this.cameraLookAt && !this.cameraPosition && !this.cameraRotation && !this.cameraUp) {\n\n                if (!object) return;\n\n                var distance = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"a\" /* getSize */])(object).length();\n\n                camera.position.set(0, 0, 0);\n                camera.position.z = distance;\n                camera.lookAt(new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]());\n            } else {\n\n                camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n                camera.rotation.set(this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z);\n                camera.up.set(this.cameraUp.x, this.cameraUp.y, this.cameraUp.z);\n\n                camera.lookAt(new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */](this.cameraLookAt.x, this.cameraLookAt.y, this.cameraLookAt.z));\n            }\n        },\n        updateLights: function updateLights() {\n            var _this2 = this;\n\n            this.scene.remove.apply(this.scene, this.allLights);\n\n            this.allLights = [];\n\n            this.lights.forEach(function (item) {\n\n                if (!item.type) return;\n\n                var type = item.type.toLowerCase();\n\n                var light = null;\n\n                if (type === 'ambient' || type === 'ambientlight') {\n\n                    var color = item.color || 0x404040;\n                    var intensity = item.intensity || 1;\n\n                    light = new __WEBPACK_IMPORTED_MODULE_0_three__[\"o\" /* AmbientLight */](color, intensity);\n                } else if (type === 'point' || type === 'pointlight') {\n\n                    var _color = item.color || 0xffffff;\n                    var _intensity = item.intensity || 1;\n                    var distance = item.distance || 0;\n                    var decay = item.decay || 1;\n\n                    light = new PointLight(_color, _intensity, distance, decay);\n\n                    if (item.position) {\n                        light.position.copy(item.position);\n                    }\n                } else if (type === 'directional' || type === 'directionallight') {\n\n                    var _color2 = item.color || 0xffffff;\n                    var _intensity2 = item.intensity || 1;\n\n                    light = new __WEBPACK_IMPORTED_MODULE_0_three__[\"p\" /* DirectionalLight */](_color2, _intensity2);\n\n                    if (item.position) {\n                        light.position.copy(item.position);\n                    }\n\n                    if (item.target) {\n                        light.target.copy(item.target);\n                    }\n                } else if (type === 'hemisphere' || type === 'hemispherelight') {\n\n                    var skyColor = item.skyColor || 0xffffff;\n                    var groundColor = item.groundColor || 0xffffff;\n                    var _intensity3 = item.intensity || 1;\n\n                    light = new __WEBPACK_IMPORTED_MODULE_0_three__[\"q\" /* HemisphereLight */](skyColor, groundColor, _intensity3);\n\n                    if (item.position) {\n                        light.position.copy(item.position);\n                    }\n                }\n\n                _this2.allLights.push(light);\n                _this2.scene.add(light);\n            });\n        },\n        updateControls: function updateControls() {\n\n            if (this.controllable && this.controls) return;\n\n            if (this.controllable) {\n\n                if (this.controls) return;\n\n                this.controls = new __WEBPACK_IMPORTED_MODULE_2__controls_OrbitControls__[\"a\" /* OrbitControls */](this.camera, this.$el);\n                this.controls.type = 'orbit';\n            } else {\n\n                if (this.controls) {\n\n                    this.controls.dispose();\n                    this.controls = null;\n                }\n            }\n        },\n        load: function load() {\n            var _this3 = this;\n\n            if (!this.src) return;\n\n            if (this.object) {\n\n                this.wrapper.remove(this.object);\n            }\n\n            this.loader.load(this.src, function () {\n\n                var object = _this3.getObject.apply(_this3, arguments);\n\n                if (_this3.process) {\n                    _this3.process(object);\n                }\n\n                _this3.addObject(object);\n\n                _this3.$emit('on-load');\n            }, function (err) {\n\n                _this3.$emit('on-error', err);\n            });\n        },\n        getObject: function getObject(object) {\n\n            return object;\n        },\n        addObject: function addObject(object) {\n\n            var center = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"b\" /* getCenter */])(object);\n\n            this.wrapper.position.copy(center.negate());\n\n            this.object = object;\n            this.wrapper.add(object);\n\n            this.updateCamera();\n            this.updateModel();\n        },\n        animate: function animate() {\n            requestAnimationFrame(this.animate);\n            this.render();\n        },\n        render: function render() {\n\n            this.renderer.render(this.scene, this.camera);\n        }\n    }\n});\n\n/***/ }),\n/* 44 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__loaders_OBJLoader__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__loaders_MTLLoader__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__model_mixin_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__model_mixin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__model_mixin_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_three__ = __webpack_require__(1);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'model-obj',\n    mixins: [__WEBPACK_IMPORTED_MODULE_3__model_mixin_vue___default.a],\n    props: {\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [{\n                    type: 'HemisphereLight',\n                    position: { x: 0, y: 1, z: 0 },\n                    skyColor: 0xaaaaff,\n                    groundColor: 0x806060,\n                    intensity: 0.2\n                }, {\n                    type: 'DirectionalLight',\n                    position: { x: 1, y: 1, z: 1 },\n                    color: 0xffffff,\n                    intensity: 0.8\n                }];\n            }\n        },\n        smoothing: {\n            type: Boolean,\n            default: false\n        },\n        mtlPath: {\n            type: String\n        },\n        mtl: {\n            type: String\n        }\n    },\n    data: function data() {\n        return {\n            loader: new __WEBPACK_IMPORTED_MODULE_0__loaders_OBJLoader__[\"a\" /* OBJLoader */](),\n            mtlLoader: new __WEBPACK_IMPORTED_MODULE_1__loaders_MTLLoader__[\"a\" /* MTLLoader */]()\n        };\n    },\n\n    watch: {\n        mtl: function mtl() {\n            this.load();\n        }\n    },\n    methods: {\n        process: function process(object) {\n            if (this.smoothing) {\n                object.traverse(function (child) {\n                    if (child.geometry) {\n                        child.geometry = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__util__[\"c\" /* toIndexed */])(child.geometry);\n                        child.geometry.computeVertexNormals();\n                    }\n                });\n            }\n        },\n        load: function load() {\n            var _this = this;\n\n            if (!this.src) return;\n\n            if (this.object) {\n                this.wrapper.remove(this.object);\n            }\n\n            var onLoad = function onLoad(object) {\n\n                if (_this.process) {\n                    _this.process(object);\n                }\n\n                _this.addObject(object);\n\n                _this.$emit('on-load');\n            };\n\n            var onError = function onError(err) {\n\n                _this.$emit('on-error', err);\n            };\n\n            if (this.mtl) {\n\n                var mtlPath = this.mtlPath;\n                var mtlSrc = this.mtl;\n\n                if (!this.mtlPath) {\n\n                    var result = /^(.*\\/)([^/]*)$/.exec(this.mtl);\n\n                    if (result) {\n                        mtlPath = result[1];\n                        mtlSrc = result[2];\n                    }\n                }\n\n                if (mtlPath) {\n                    this.mtlLoader.setPath(mtlPath);\n                }\n\n                this.mtlLoader.load(mtlSrc, function (materials) {\n\n                    materials.preload();\n\n                    _this.loader.setMaterials(materials);\n\n                    _this.loader.load(_this.src, onLoad, onError);\n                }, onError);\n            } else {\n\n                this.loader.load(this.src, onLoad, onError);\n            }\n        }\n    }\n});\n\n/***/ }),\n/* 45 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__loaders_PLYLoader__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_three__ = __webpack_require__(1);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'model-ply',\n    mixins: [__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default.a],\n    props: {\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [{\n                    type: 'HemisphereLight',\n                    position: { x: 0, y: 1, z: 0 },\n                    skyColor: 0xaaaaff,\n                    groundColor: 0x806060,\n                    intensity: 0.2\n                }, {\n                    type: 'DirectionalLight',\n                    position: { x: 1, y: 1, z: 1 },\n                    color: 0xffffff,\n                    intensity: 0.8\n                }];\n            }\n        }\n    },\n    data: function data() {\n        return {\n            loader: new __WEBPACK_IMPORTED_MODULE_0__loaders_PLYLoader__[\"a\" /* PLYLoader */]()\n        };\n    },\n\n    methods: {\n        getObject: function getObject(geometry) {\n\n            geometry.computeVertexNormals();\n\n            return new __WEBPACK_IMPORTED_MODULE_2_three__[\"a\" /* Mesh */](geometry, new __WEBPACK_IMPORTED_MODULE_2_three__[\"b\" /* MeshStandardMaterial */]());\n        }\n    }\n});\n\n/***/ }),\n/* 46 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__loaders_STLLoader__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_three__ = __webpack_require__(1);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'model-stl',\n    mixins: [__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default.a],\n    props: {\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [{\n                    type: 'HemisphereLight',\n                    position: { x: 0, y: 1, z: 0 },\n                    skyColor: 0xaaaaff,\n                    groundColor: 0x806060,\n                    intensity: 0.2\n                }, {\n                    type: 'DirectionalLight',\n                    position: { x: 1, y: 1, z: 1 },\n                    color: 0xffffff,\n                    intensity: 0.8\n                }];\n            }\n        }\n    },\n    data: function data() {\n        return {\n            loader: new __WEBPACK_IMPORTED_MODULE_0__loaders_STLLoader__[\"a\" /* STLLoader */]()\n        };\n    },\n\n    methods: {\n        getObject: function getObject(geometry) {\n\n            return new __WEBPACK_IMPORTED_MODULE_2_three__[\"a\" /* Mesh */](geometry, new __WEBPACK_IMPORTED_MODULE_2_three__[\"B\" /* MeshPhongMaterial */]());\n        }\n    }\n});\n\n/***/ }),\n/* 47 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'model-three',\n    mixins: [__WEBPACK_IMPORTED_MODULE_1__model_mixin_vue___default.a],\n    data: function data() {\n        return {\n            loader: new __WEBPACK_IMPORTED_MODULE_0_three__[\"_2\" /* ObjectLoader */]()\n        };\n    }\n});\n\n/***/ }),\n/* 48 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OrbitControls; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_three__ = __webpack_require__(1);\n\n\n\nvar OrbitControls = function OrbitControls(object, domElement) {\n\n\t\tthis.object = object;\n\n\t\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t\tthis.enabled = true;\n\n\t\tthis.target = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\tthis.minPolarAngle = 0;\n\t\tthis.maxPolarAngle = Math.PI;\n\t\tthis.minAzimuthAngle = -Infinity;\n\t\tthis.maxAzimuthAngle = Infinity;\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0;\n\t\tthis.enableKeys = true;\n\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\tthis.mouseButtons = { ORBIT: __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* MOUSE */].LEFT, ZOOM: __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* MOUSE */].MIDDLE, PAN: __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* MOUSE */].RIGHT };\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\t\treturn spherical.phi;\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\t\treturn spherical.theta;\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\t\tscope.target0.copy(scope.target);\n\t\t\t\tscope.position0.copy(scope.object.position);\n\t\t\t\tscope.zoom0 = scope.object.zoom;\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\t\tscope.target.copy(scope.target0);\n\t\t\t\tscope.object.position.copy(scope.position0);\n\t\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tscope.update();\n\n\t\t\t\tstate = STATE.NONE;\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\t\tvar offset = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\n\t\t\t\tvar quat = new __WEBPACK_IMPORTED_MODULE_1_three__[\"u\" /* Quaternion */]().setFromUnitVectors(object.up, new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */](0, 1, 0));\n\t\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\t\tvar lastPosition = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\t\t\t\tvar lastQuaternion = new __WEBPACK_IMPORTED_MODULE_1_three__[\"u\" /* Quaternion */]();\n\n\t\t\t\treturn function update() {\n\n\t\t\t\t\t\tvar position = scope.object.position;\n\n\t\t\t\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\t\t\t\toffset.applyQuaternion(quat);\n\n\t\t\t\t\t\tspherical.setFromVector3(offset);\n\n\t\t\t\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\t\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\t\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\t\t\t\tspherical.makeSafe();\n\n\t\t\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\t\t\t\tscope.target.add(panOffset);\n\n\t\t\t\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\t\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\t\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\t\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\t\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\t\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\t\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tscale = 1;\n\t\t\t\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\t\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\t\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\t\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\t\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\t\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\t\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\t\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\t\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\t\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\t\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\t\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\t\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\t\t};\n\n\t\tvar scope = this;\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar spherical = new __WEBPACK_IMPORTED_MODULE_1_three__[\"v\" /* Spherical */]();\n\t\tvar sphericalDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"v\" /* Spherical */]();\n\n\t\tvar scale = 1;\n\t\tvar panOffset = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\t\tvar zoomChanged = false;\n\n\t\tvar rotateStart = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\t\tvar rotateEnd = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\t\tvar rotateDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\n\t\tvar panStart = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\t\tvar panEnd = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\t\tvar panDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\n\t\tvar dollyStart = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\t\tvar dollyEnd = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\t\tvar dollyDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"h\" /* Vector2 */]();\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t\t}\n\n\t\tfunction rotateLeft(angle) {\n\n\t\t\t\tsphericalDelta.theta -= angle;\n\t\t}\n\n\t\tfunction rotateUp(angle) {\n\n\t\t\t\tsphericalDelta.phi -= angle;\n\t\t}\n\n\t\tvar panLeft = function () {\n\n\t\t\t\tvar v = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\n\t\t\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\t\t\t\tv.setFromMatrixColumn(objectMatrix, 0);\n\t\t\t\t\t\tv.multiplyScalar(-distance);\n\n\t\t\t\t\t\tpanOffset.add(v);\n\t\t\t\t};\n\t\t}();\n\n\t\tvar panUp = function () {\n\n\t\t\t\tvar v = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\n\t\t\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\t\t\t\tv.setFromMatrixColumn(objectMatrix, 1);\n\t\t\t\t\t\tv.multiplyScalar(distance);\n\n\t\t\t\t\t\tpanOffset.add(v);\n\t\t\t\t};\n\t\t}();\n\n\t\tvar pan = function () {\n\n\t\t\t\tvar offset = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\n\t\t\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\t\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"i\" /* PerspectiveCamera */]) {\n\t\t\t\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\t\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\t\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\t\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\t\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"w\" /* OrthographicCamera */]) {\n\t\t\t\t\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\t\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\t\t\t\t\tscope.enablePan = false;\n\t\t\t\t\t\t}\n\t\t\t\t};\n\t\t}();\n\n\t\tfunction dollyIn(dollyScale) {\n\n\t\t\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"i\" /* PerspectiveCamera */]) {\n\n\t\t\t\t\t\tscale /= dollyScale;\n\t\t\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"w\" /* OrthographicCamera */]) {\n\n\t\t\t\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\t\tzoomChanged = true;\n\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\t\t\t\tscope.enableZoom = false;\n\t\t\t\t}\n\t\t}\n\n\t\tfunction dollyOut(dollyScale) {\n\n\t\t\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"i\" /* PerspectiveCamera */]) {\n\n\t\t\t\t\t\tscale *= dollyScale;\n\t\t\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"w\" /* OrthographicCamera */]) {\n\n\t\t\t\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\t\tzoomChanged = true;\n\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\t\t\t\tscope.enableZoom = false;\n\t\t\t\t}\n\t\t}\n\n\t\tfunction handleMouseDownRotate(event) {\n\n\t\t\t\trotateStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tfunction handleMouseDownDolly(event) {\n\n\t\t\t\tdollyStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tfunction handleMouseDownPan(event) {\n\n\t\t\t\tpanStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tfunction handleMouseMoveRotate(event) {\n\n\t\t\t\trotateEnd.set(event.clientX, event.clientY);\n\t\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleMouseMoveDolly(event) {\n\n\t\t\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy(dollyEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleMouseMovePan(event) {\n\n\t\t\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tpan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleMouseUp(event) {}\n\n\t\tfunction handleMouseWheel(event) {\n\n\t\t\t\tif (event.deltaY < 0) {\n\n\t\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t\t} else if (event.deltaY > 0) {\n\n\t\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t\t}\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleKeyDown(event) {\n\n\t\t\t\tswitch (event.keyCode) {\n\n\t\t\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction handleTouchStartRotate(event) {\n\n\t\t\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t}\n\n\t\tfunction handleTouchStartDolly(event) {\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tdollyStart.set(0, distance);\n\t\t}\n\n\t\tfunction handleTouchStartPan(event) {\n\n\t\t\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t}\n\n\t\tfunction handleTouchMoveRotate(event) {\n\n\t\t\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleTouchMoveDolly(event) {\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tdollyEnd.set(0, distance);\n\n\t\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy(dollyEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleTouchMovePan(event) {\n\n\t\t\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tpan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleTouchEnd(event) {}\n\n\t\tfunction onMouseDown(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tswitch (event.button) {\n\n\t\t\t\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseDownRotate(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseDownDolly(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseDownPan(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\n\t\t\t\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\t\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onMouseMove(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tswitch (state) {\n\n\t\t\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseMoveRotate(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseMoveDolly(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseMovePan(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onMouseUp(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\thandleMouseUp(event);\n\n\t\t\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\t\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\t\t\tscope.dispatchEvent(endEvent);\n\n\t\t\t\tstate = STATE.NONE;\n\t\t}\n\n\t\tfunction onMouseWheel(event) {\n\n\t\t\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\thandleMouseWheel(event);\n\n\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t\tscope.dispatchEvent(endEvent);\n\t\t}\n\n\t\tfunction onKeyDown(event) {\n\n\t\t\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\t\t\thandleKeyDown(event);\n\t\t}\n\n\t\tfunction onTouchStart(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 1:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 2:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 3:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\n\t\t\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onTouchMove(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 1:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\t\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return;\n\n\t\t\t\t\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 2:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\t\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return;\n\n\t\t\t\t\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 3:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\t\t\t\t\tif (state !== STATE.TOUCH_PAN) return;\n\n\t\t\t\t\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onTouchEnd(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\thandleTouchEnd(event);\n\n\t\t\t\tscope.dispatchEvent(endEvent);\n\n\t\t\t\tstate = STATE.NONE;\n\t\t}\n\n\t\tfunction onContextMenu(event) {\n\n\t\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\t\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\t\twindow.addEventListener('keydown', onKeyDown, false);\n\n\t\tthis.update();\n};\n\nOrbitControls.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_1_three__[\"x\" /* EventDispatcher */].prototype);\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ColladaLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_three__ = __webpack_require__(1);\n\n\n\nvar ColladaLoader = function ColladaLoader(manager) {\n\n\t\t\tthis.manager = manager !== undefined ? manager : __WEBPACK_IMPORTED_MODULE_1_three__[\"c\" /* DefaultLoadingManager */];\n};\n\nColladaLoader.prototype = {\n\n\t\t\tconstructor: ColladaLoader,\n\n\t\t\tcrossOrigin: 'Anonymous',\n\n\t\t\tload: function load(url, onLoad, onProgress, onError) {\n\n\t\t\t\t\t\tvar scope = this;\n\n\t\t\t\t\t\tvar path = __WEBPACK_IMPORTED_MODULE_1_three__[\"y\" /* Loader */].prototype.extractUrlBase(url);\n\n\t\t\t\t\t\tvar loader = new __WEBPACK_IMPORTED_MODULE_1_three__[\"d\" /* FileLoader */](scope.manager);\n\t\t\t\t\t\tloader.load(url, function (text) {\n\n\t\t\t\t\t\t\t\t\tonLoad(scope.parse(text, path));\n\t\t\t\t\t\t}, onProgress, onError);\n\t\t\t},\n\n\t\t\toptions: {\n\n\t\t\t\t\t\tset convertUpAxis(value) {\n\n\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.');\n\t\t\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetCrossOrigin: function setCrossOrigin(value) {\n\n\t\t\t\t\t\tthis.crossOrigin = value;\n\t\t\t},\n\n\t\t\tparse: function parse(text, path) {\n\n\t\t\t\t\t\tfunction getElementsByTagName(xml, name) {\n\n\t\t\t\t\t\t\t\t\tvar array = [];\n\t\t\t\t\t\t\t\t\tvar childNodes = xml.childNodes;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeName === name) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarray.push(child);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn array;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseStrings(text) {\n\n\t\t\t\t\t\t\t\t\tif (text.length === 0) return [];\n\n\t\t\t\t\t\t\t\t\tvar parts = text.trim().split(/\\s+/);\n\t\t\t\t\t\t\t\t\tvar array = new Array(parts.length);\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tarray[i] = parts[i];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn array;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseFloats(text) {\n\n\t\t\t\t\t\t\t\t\tif (text.length === 0) return [];\n\n\t\t\t\t\t\t\t\t\tvar parts = text.trim().split(/\\s+/);\n\t\t\t\t\t\t\t\t\tvar array = new Array(parts.length);\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tarray[i] = parseFloat(parts[i]);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn array;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseInts(text) {\n\n\t\t\t\t\t\t\t\t\tif (text.length === 0) return [];\n\n\t\t\t\t\t\t\t\t\tvar parts = text.trim().split(/\\s+/);\n\t\t\t\t\t\t\t\t\tvar array = new Array(parts.length);\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tarray[i] = parseInt(parts[i]);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn array;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseId(text) {\n\n\t\t\t\t\t\t\t\t\treturn text.substring(1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction isEmpty(object) {\n\n\t\t\t\t\t\t\t\t\treturn __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(object).length === 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAsset(xml) {\n\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\tunit: parseAssetUnit(getElementsByTagName(xml, 'unit')[0]),\n\t\t\t\t\t\t\t\t\t\t\t\tupAxis: parseAssetUpAxis(getElementsByTagName(xml, 'up_axis')[0])\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAssetUnit(xml) {\n\n\t\t\t\t\t\t\t\t\treturn xml !== undefined ? parseFloat(xml.getAttribute('meter')) : 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAssetUpAxis(xml) {\n\n\t\t\t\t\t\t\t\t\treturn xml !== undefined ? xml.textContent : 'Y_UP';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseLibrary(xml, libraryName, nodeName, parser) {\n\n\t\t\t\t\t\t\t\t\tvar library = getElementsByTagName(xml, libraryName)[0];\n\n\t\t\t\t\t\t\t\t\tif (library !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar elements = getElementsByTagName(library, nodeName);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < elements.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparser(elements[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildLibrary(data, builder) {\n\n\t\t\t\t\t\t\t\t\tfor (var name in data) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar object = data[name];\n\t\t\t\t\t\t\t\t\t\t\t\tobject.build = builder(data[name]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getBuild(data, builder) {\n\n\t\t\t\t\t\t\t\t\tif (data.build !== undefined) return data.build;\n\n\t\t\t\t\t\t\t\t\tdata.build = builder(data);\n\n\t\t\t\t\t\t\t\t\treturn data.build;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAnimation(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tsources: {},\n\t\t\t\t\t\t\t\t\t\t\t\tsamplers: {},\n\t\t\t\t\t\t\t\t\t\t\t\tchannels: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar id;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'source':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = child.getAttribute('id');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.sources[id] = parseSource(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'sampler':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = child.getAttribute('id');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.samplers[id] = parseAnimationSampler(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'channel':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = child.getAttribute('target');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.channels[id] = parseAnimationChannel(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(child);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.animations[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAnimationSampler(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tinputs: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'input':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar semantic = child.getAttribute('semantic');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.inputs[semantic] = id;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAnimationChannel(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tvar target = xml.getAttribute('target');\n\n\t\t\t\t\t\t\t\t\tvar parts = target.split('/');\n\n\t\t\t\t\t\t\t\t\tvar id = parts.shift();\n\t\t\t\t\t\t\t\t\tvar sid = parts.shift();\n\n\t\t\t\t\t\t\t\t\tvar arraySyntax = sid.indexOf('(') !== -1;\n\t\t\t\t\t\t\t\t\tvar memberSyntax = sid.indexOf('.') !== -1;\n\n\t\t\t\t\t\t\t\t\tif (memberSyntax) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tparts = sid.split('.');\n\t\t\t\t\t\t\t\t\t\t\t\tsid = parts.shift();\n\t\t\t\t\t\t\t\t\t\t\t\tdata.member = parts.shift();\n\t\t\t\t\t\t\t\t\t} else if (arraySyntax) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar indices = sid.split('(');\n\t\t\t\t\t\t\t\t\t\t\t\tsid = indices.shift();\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < indices.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindices[i] = parseInt(indices[i].replace(/\\)/, ''));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdata.indices = indices;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tdata.id = id;\n\t\t\t\t\t\t\t\t\tdata.sid = sid;\n\n\t\t\t\t\t\t\t\t\tdata.arraySyntax = arraySyntax;\n\t\t\t\t\t\t\t\t\tdata.memberSyntax = memberSyntax;\n\n\t\t\t\t\t\t\t\t\tdata.sampler = parseId(xml.getAttribute('source'));\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildAnimation(data) {\n\n\t\t\t\t\t\t\t\t\tvar tracks = [];\n\n\t\t\t\t\t\t\t\t\tvar channels = data.channels;\n\t\t\t\t\t\t\t\t\tvar samplers = data.samplers;\n\t\t\t\t\t\t\t\t\tvar sources = data.sources;\n\n\t\t\t\t\t\t\t\t\tfor (var target in channels) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (channels.hasOwnProperty(target)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar channel = channels[target];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sampler = samplers[channel.sampler];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar inputId = sampler.inputs.INPUT;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar outputId = sampler.inputs.OUTPUT;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar inputSource = sources[inputId];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar outputSource = sources[outputId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar animation = buildAnimationChannel(channel, inputSource, outputSource);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcreateKeyframeTracks(animation, tracks);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn tracks;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getAnimation(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.animations[id], buildAnimation);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildAnimationChannel(channel, inputSource, outputSource) {\n\n\t\t\t\t\t\t\t\t\tvar node = library.nodes[channel.id];\n\t\t\t\t\t\t\t\t\tvar object3D = getNode(node.id);\n\n\t\t\t\t\t\t\t\t\tvar transform = node.transforms[channel.sid];\n\t\t\t\t\t\t\t\t\tvar defaultMatrix = node.matrix.clone().transpose();\n\n\t\t\t\t\t\t\t\t\tvar time, stride;\n\t\t\t\t\t\t\t\t\tvar i, il, j, jl;\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tswitch (transform) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i = 0, il = inputSource.array.length; i < il; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttime = inputSource.array[i];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstride = i * outputSource.stride;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (data[time] === undefined) data[time] = {};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (channel.arraySyntax === true) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar value = outputSource.array[stride];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = channel.indices[0] + 4 * channel.indices[1];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[time][index] = value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (j = 0, jl = outputSource.stride; j < jl; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[time][j] = outputSource.array[stride + j];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar keyframes = prepareAnimationData(data, defaultMatrix);\n\n\t\t\t\t\t\t\t\t\tvar animation = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: object3D.uuid,\n\t\t\t\t\t\t\t\t\t\t\t\tkeyframes: keyframes\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\treturn animation;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction prepareAnimationData(data, defaultMatrix) {\n\n\t\t\t\t\t\t\t\t\tvar keyframes = [];\n\n\t\t\t\t\t\t\t\t\tfor (var time in data) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tkeyframes.push({ time: parseFloat(time), value: data[time] });\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tkeyframes.sort(ascending);\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < 16; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\ttransformAnimationData(keyframes, i, defaultMatrix.elements[i]);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn keyframes;\n\n\t\t\t\t\t\t\t\t\tfunction ascending(a, b) {\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn a.time - b.time;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar position = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\t\t\t\t\t\tvar scale = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\t\t\t\t\t\tvar quaternion = new __WEBPACK_IMPORTED_MODULE_1_three__[\"u\" /* Quaternion */]();\n\n\t\t\t\t\t\tfunction createKeyframeTracks(animation, tracks) {\n\n\t\t\t\t\t\t\t\t\tvar keyframes = animation.keyframes;\n\t\t\t\t\t\t\t\t\tvar name = animation.name;\n\n\t\t\t\t\t\t\t\t\tvar times = [];\n\t\t\t\t\t\t\t\t\tvar positionData = [];\n\t\t\t\t\t\t\t\t\tvar quaternionData = [];\n\t\t\t\t\t\t\t\t\tvar scaleData = [];\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = keyframes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar keyframe = keyframes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar time = keyframe.time;\n\t\t\t\t\t\t\t\t\t\t\t\tvar value = keyframe.value;\n\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.fromArray(value).transpose();\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix.decompose(position, quaternion, scale);\n\n\t\t\t\t\t\t\t\t\t\t\t\ttimes.push(time);\n\t\t\t\t\t\t\t\t\t\t\t\tpositionData.push(position.x, position.y, position.z);\n\t\t\t\t\t\t\t\t\t\t\t\tquaternionData.push(quaternion.x, quaternion.y, quaternion.z, quaternion.w);\n\t\t\t\t\t\t\t\t\t\t\t\tscaleData.push(scale.x, scale.y, scale.z);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (positionData.length > 0) tracks.push(new __WEBPACK_IMPORTED_MODULE_1_three__[\"O\" /* VectorKeyframeTrack */](name + '.position', times, positionData));\n\t\t\t\t\t\t\t\t\tif (quaternionData.length > 0) tracks.push(new __WEBPACK_IMPORTED_MODULE_1_three__[\"P\" /* QuaternionKeyframeTrack */](name + '.quaternion', times, quaternionData));\n\t\t\t\t\t\t\t\t\tif (scaleData.length > 0) tracks.push(new __WEBPACK_IMPORTED_MODULE_1_three__[\"O\" /* VectorKeyframeTrack */](name + '.scale', times, scaleData));\n\n\t\t\t\t\t\t\t\t\treturn tracks;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction transformAnimationData(keyframes, property, defaultValue) {\n\n\t\t\t\t\t\t\t\t\tvar keyframe;\n\n\t\t\t\t\t\t\t\t\tvar empty = true;\n\t\t\t\t\t\t\t\t\tvar i, l;\n\n\t\t\t\t\t\t\t\t\tfor (i = 0, l = keyframes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tkeyframe = keyframes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (keyframe.value[property] === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyframe.value[property] = null;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tempty = false;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (empty === true) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i = 0, l = keyframes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyframe = keyframes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyframe.value[property] = defaultValue;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcreateMissingKeyframes(keyframes, property);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction createMissingKeyframes(keyframes, property) {\n\n\t\t\t\t\t\t\t\t\tvar prev, next;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = keyframes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar keyframe = keyframes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (keyframe.value[property] === null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprev = getPrev(keyframes, i, property);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnext = getNext(keyframes, i, property);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (prev === null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyframe.value[property] = next.value[property];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (next === null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyframe.value[property] = prev.value[property];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinterpolate(keyframe, prev, next, property);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getPrev(keyframes, i, property) {\n\n\t\t\t\t\t\t\t\t\twhile (i >= 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar keyframe = keyframes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (keyframe.value[property] !== null) return keyframe;\n\n\t\t\t\t\t\t\t\t\t\t\t\ti--;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getNext(keyframes, i, property) {\n\n\t\t\t\t\t\t\t\t\twhile (i < keyframes.length) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar keyframe = keyframes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (keyframe.value[property] !== null) return keyframe;\n\n\t\t\t\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction interpolate(key, prev, next, property) {\n\n\t\t\t\t\t\t\t\t\tif (next.time - prev.time === 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tkey.value[property] = prev.value[property];\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tkey.value[property] = (key.time - prev.time) * (next.value[property] - prev.value[property]) / (next.time - prev.time) + prev.value[property];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseAnimationClip(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('id') || 'default',\n\t\t\t\t\t\t\t\t\t\t\t\tstart: parseFloat(xml.getAttribute('start') || 0),\n\t\t\t\t\t\t\t\t\t\t\t\tend: parseFloat(xml.getAttribute('end') || 0),\n\t\t\t\t\t\t\t\t\t\t\t\tanimations: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_animation':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.animations.push(parseId(child.getAttribute('url')));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.clips[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildAnimationClip(data) {\n\n\t\t\t\t\t\t\t\t\tvar tracks = [];\n\n\t\t\t\t\t\t\t\t\tvar name = data.name;\n\t\t\t\t\t\t\t\t\tvar duration = data.end - data.start || -1;\n\t\t\t\t\t\t\t\t\tvar animations = data.animations;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, il = animations.length; i < il; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar animationTracks = getAnimation(animations[i]);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0, jl = animationTracks.length; j < jl; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttracks.push(animationTracks[j]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn new __WEBPACK_IMPORTED_MODULE_1_three__[\"Q\" /* AnimationClip */](name, duration, tracks);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getAnimationClip(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.clips[id], buildAnimationClip);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseController(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'skin':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.id = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.skin = parseSkin(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'morph':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.id = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Morph target animation not supported yet.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.controllers[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseSkin(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tsources: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'bind_shape_matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.bindShapeMatrix = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'source':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id = child.getAttribute('id');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.sources[id] = parseSource(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'joints':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.joints = parseJoints(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'vertex_weights':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.vertexWeights = parseVertexWeights(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseJoints(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tinputs: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'input':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar semantic = child.getAttribute('semantic');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.inputs[semantic] = id;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseVertexWeights(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tinputs: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'input':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar semantic = child.getAttribute('semantic');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar offset = parseInt(child.getAttribute('offset'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.inputs[semantic] = { id: id, offset: offset };\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.vcount = parseInts(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.v = parseInts(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildController(data) {\n\n\t\t\t\t\t\t\t\t\tvar build = {\n\t\t\t\t\t\t\t\t\t\t\t\tid: data.id\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar geometry = library.geometries[build.id];\n\n\t\t\t\t\t\t\t\t\tif (data.skin !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuild.skin = buildSkin(data.skin);\n\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.sources.skinIndices = build.skin.indices;\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.sources.skinWeights = build.skin.weights;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn build;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildSkin(data) {\n\n\t\t\t\t\t\t\t\t\tvar BONE_LIMIT = 4;\n\n\t\t\t\t\t\t\t\t\tvar build = {\n\t\t\t\t\t\t\t\t\t\t\t\tjoints: [],\n\t\t\t\t\t\t\t\t\t\t\t\tindices: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarray: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tweights: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarray: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstride: BONE_LIMIT\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar sources = data.sources;\n\t\t\t\t\t\t\t\t\tvar vertexWeights = data.vertexWeights;\n\n\t\t\t\t\t\t\t\t\tvar vcount = vertexWeights.vcount;\n\t\t\t\t\t\t\t\t\tvar v = vertexWeights.v;\n\t\t\t\t\t\t\t\t\tvar jointOffset = vertexWeights.inputs.JOINT.offset;\n\t\t\t\t\t\t\t\t\tvar weightOffset = vertexWeights.inputs.WEIGHT.offset;\n\n\t\t\t\t\t\t\t\t\tvar jointSource = data.sources[data.joints.inputs.JOINT];\n\t\t\t\t\t\t\t\t\tvar inverseSource = data.sources[data.joints.inputs.INV_BIND_MATRIX];\n\n\t\t\t\t\t\t\t\t\tvar weights = sources[vertexWeights.inputs.WEIGHT.id].array;\n\t\t\t\t\t\t\t\t\tvar stride = 0;\n\n\t\t\t\t\t\t\t\t\tvar i, j, l;\n\n\t\t\t\t\t\t\t\t\tfor (i = 0, l = vcount.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar jointCount = vcount[i];\n\t\t\t\t\t\t\t\t\t\t\t\tvar vertexSkinData = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (j = 0; j < jointCount; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar skinIndex = v[stride + jointOffset];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar weightId = v[stride + weightOffset];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar skinWeight = weights[weightId];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvertexSkinData.push({ index: skinIndex, weight: skinWeight });\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstride += 2;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvertexSkinData.sort(descending);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (j = 0; j < BONE_LIMIT; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar d = vertexSkinData[j];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuild.indices.array.push(d.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuild.weights.array.push(d.weight);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuild.indices.array.push(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuild.weights.array.push(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tbuild.bindMatrix = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]().fromArray(data.bindShapeMatrix).transpose();\n\n\t\t\t\t\t\t\t\t\tfor (i = 0, l = jointSource.array.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar name = jointSource.array[i];\n\t\t\t\t\t\t\t\t\t\t\t\tvar boneInverse = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]().fromArray(inverseSource.array, i * inverseSource.stride).transpose();\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuild.joints.push({ name: name, boneInverse: boneInverse });\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn build;\n\n\t\t\t\t\t\t\t\t\tfunction descending(a, b) {\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn b.weight - a.weight;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getController(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.controllers[id], buildController);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseImage(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tinit_from: getElementsByTagName(xml, 'init_from')[0].textContent\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tlibrary.images[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildImage(data) {\n\n\t\t\t\t\t\t\t\t\tif (data.build !== undefined) return data.build;\n\n\t\t\t\t\t\t\t\t\treturn data.init_from;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getImage(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.images[id], buildImage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffect(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'profile_COMMON':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.profile = parseEffectProfileCOMMON(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.effects[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectProfileCOMMON(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tsurfaces: {},\n\t\t\t\t\t\t\t\t\t\t\t\tsamplers: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'newparam':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseEffectNewparam(child, data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique = parseEffectTechnique(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectNewparam(xml, data) {\n\n\t\t\t\t\t\t\t\t\tvar sid = xml.getAttribute('sid');\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'surface':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.surfaces[sid] = parseEffectSurface(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'sampler2D':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.samplers[sid] = parseEffectSampler(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectSurface(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'init_from':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.init_from = child.textContent;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectSampler(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'source':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.source = child.textContent;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectTechnique(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'constant':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'lambert':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'blinn':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'phong':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.type = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.parameters = parseEffectParameters(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectParameters(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'emission':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'specular':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'shininess':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[child.nodeName] = parseEffectParameter(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectParameter(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'color':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[child.nodeName] = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'float':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[child.nodeName] = parseFloat(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'texture':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[child.nodeName] = { id: child.getAttribute('texture'), extra: parseEffectParameterTexture(child) };\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectParameterTexture(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\ttechnique: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseEffectParameterTextureExtra(child, data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectParameterTextureExtra(xml, data) {\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'technique':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseEffectParameterTextureExtraTechnique(child, data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseEffectParameterTextureExtraTechnique(xml, data) {\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'repeatU':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'repeatV':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'offsetU':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'offsetV':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = parseFloat(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'wrapU':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'wrapV':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (child.textContent.toUpperCase() === 'TRUE') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (child.textContent.toUpperCase() === 'FALSE') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique[child.nodeName] = parseInt(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildEffect(data) {\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getEffect(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.effects[id], buildEffect);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseMaterial(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name')\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_effect':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.url = parseId(child.getAttribute('url'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.materials[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildMaterial(data) {\n\n\t\t\t\t\t\t\t\t\tvar effect = getEffect(data.url);\n\t\t\t\t\t\t\t\t\tvar technique = effect.profile.technique;\n\n\t\t\t\t\t\t\t\t\tvar material;\n\n\t\t\t\t\t\t\t\t\tswitch (technique.type) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'phong':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'blinn':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"B\" /* MeshPhongMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'lambert':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"S\" /* MeshLambertMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = new __WEBPACK_IMPORTED_MODULE_1_three__[\"T\" /* MeshBasicMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tmaterial.name = data.name;\n\n\t\t\t\t\t\t\t\t\tfunction getTexture(textureObject) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar sampler = effect.profile.samplers[textureObject.id];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (sampler !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar surface = effect.profile.surfaces[sampler.source];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar texture = textureLoader.load(getImage(surface.init_from));\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar extra = textureObject.extra;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (extra !== undefined && extra.technique !== undefined && isEmpty(extra.technique) === false) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar technique = extra.technique;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttexture.wrapS = technique.wrapU ? __WEBPACK_IMPORTED_MODULE_1_three__[\"A\" /* RepeatWrapping */] : __WEBPACK_IMPORTED_MODULE_1_three__[\"U\" /* ClampToEdgeWrapping */];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttexture.wrapT = technique.wrapV ? __WEBPACK_IMPORTED_MODULE_1_three__[\"A\" /* RepeatWrapping */] : __WEBPACK_IMPORTED_MODULE_1_three__[\"U\" /* ClampToEdgeWrapping */];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttexture.offset.set(technique.offsetU || 0, technique.offsetV || 0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttexture.repeat.set(technique.repeatU || 1, technique.repeatV || 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttexture.wrapS = __WEBPACK_IMPORTED_MODULE_1_three__[\"A\" /* RepeatWrapping */];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttexture.wrapT = __WEBPACK_IMPORTED_MODULE_1_three__[\"A\" /* RepeatWrapping */];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn texture;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.error('ColladaLoader: Undefined sampler', textureObject.id);\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar parameters = technique.parameters;\n\n\t\t\t\t\t\t\t\t\tfor (var key in parameters) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar parameter = parameters[key];\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (key) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'diffuse':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.color) material.color.fromArray(parameter.color);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.texture) material.map = getTexture(parameter.texture);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'specular':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.color && material.specular) material.specular.fromArray(parameter.color);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.texture) material.specularMap = getTexture(parameter.texture);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'shininess':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.float && material.shininess) material.shininess = parameter.float;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'emission':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.color && material.emissive) material.emissive.fromArray(parameter.color);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.transparent = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parameter.float !== undefined) material.opacity = parameter.float;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.transparent = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn material;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getMaterial(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.materials[id], buildMaterial);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseCamera(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name')\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'optics':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.optics = parseCameraOptics(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.cameras[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseCameraOptics(xml) {\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn parseCameraTechnique(child);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseCameraTechnique(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'perspective':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'orthographic':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.parameters = parseCameraParameters(child);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseCameraParameters(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'xfov':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'yfov':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'xmag':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'ymag':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'znear':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'zfar':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'aspect_ratio':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[child.nodeName] = parseFloat(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildCamera(data) {\n\n\t\t\t\t\t\t\t\t\tvar camera;\n\n\t\t\t\t\t\t\t\t\tswitch (data.optics.technique) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'perspective':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcamera = new __WEBPACK_IMPORTED_MODULE_1_three__[\"i\" /* PerspectiveCamera */](data.optics.parameters.yfov, data.optics.parameters.aspect_ratio, data.optics.parameters.znear, data.optics.parameters.zfar);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'orthographic':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ymag = data.optics.parameters.ymag;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar xmag = data.optics.parameters.xmag;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar aspectRatio = data.optics.parameters.aspect_ratio;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmag = xmag === undefined ? ymag * aspectRatio : xmag;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tymag = ymag === undefined ? xmag / aspectRatio : ymag;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmag *= 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tymag *= 0.5;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcamera = new __WEBPACK_IMPORTED_MODULE_1_three__[\"w\" /* OrthographicCamera */](-xmag, xmag, ymag, -ymag, data.optics.parameters.znear, data.optics.parameters.zfar);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcamera = new __WEBPACK_IMPORTED_MODULE_1_three__[\"i\" /* PerspectiveCamera */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcamera.name = data.name;\n\n\t\t\t\t\t\t\t\t\treturn camera;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getCamera(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.cameras[id], buildCamera);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseLight(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata = parseLightTechnique(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.lights[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseLightTechnique(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'directional':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'point':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'spot':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'ambient':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.technique = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.parameters = parseLightParameters(child);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseLightParameters(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'color':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.color = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Color */]().fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'falloff_angle':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.falloffAngle = parseFloat(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'quadratic_attenuation':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar f = parseFloat(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.distance = f ? Math.sqrt(1 / f) : 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildLight(data) {\n\n\t\t\t\t\t\t\t\t\tvar light;\n\n\t\t\t\t\t\t\t\t\tswitch (data.technique) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'directional':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlight = new __WEBPACK_IMPORTED_MODULE_1_three__[\"p\" /* DirectionalLight */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'point':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlight = new __WEBPACK_IMPORTED_MODULE_1_three__[\"V\" /* PointLight */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'spot':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlight = new __WEBPACK_IMPORTED_MODULE_1_three__[\"W\" /* SpotLight */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'ambient':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlight = new __WEBPACK_IMPORTED_MODULE_1_three__[\"o\" /* AmbientLight */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (data.parameters.color) light.color.copy(data.parameters.color);\n\t\t\t\t\t\t\t\t\tif (data.parameters.distance) light.distance = data.parameters.distance;\n\n\t\t\t\t\t\t\t\t\treturn light;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getLight(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.lights[id], buildLight);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseGeometry(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name'),\n\t\t\t\t\t\t\t\t\t\t\t\tsources: {},\n\t\t\t\t\t\t\t\t\t\t\t\tvertices: {},\n\t\t\t\t\t\t\t\t\t\t\t\tprimitives: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar mesh = getElementsByTagName(xml, 'mesh')[0];\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < mesh.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = mesh.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar id = child.getAttribute('id');\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'source':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.sources[id] = parseSource(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'vertices':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.vertices = parseGeometryVertices(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'polygons':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Unsupported primitive type: ', child.nodeName);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'lines':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'polylist':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.primitives.push(parseGeometryPrimitive(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(child);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.geometries[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseSource(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tarray: [],\n\t\t\t\t\t\t\t\t\t\t\t\tstride: 3\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'float_array':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'Name_array':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.array = parseStrings(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar accessor = getElementsByTagName(child, 'accessor')[0];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (accessor !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.stride = parseInt(accessor.getAttribute('stride'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseGeometryVertices(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tdata[child.getAttribute('semantic')] = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseGeometryPrimitive(xml) {\n\n\t\t\t\t\t\t\t\t\tvar primitive = {\n\t\t\t\t\t\t\t\t\t\t\t\ttype: xml.nodeName,\n\t\t\t\t\t\t\t\t\t\t\t\tmaterial: xml.getAttribute('material'),\n\t\t\t\t\t\t\t\t\t\t\t\tcount: parseInt(xml.getAttribute('count')),\n\t\t\t\t\t\t\t\t\t\t\t\tinputs: {},\n\t\t\t\t\t\t\t\t\t\t\t\tstride: 0\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = xml.childNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'input':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id = parseId(child.getAttribute('source'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar semantic = child.getAttribute('semantic');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar offset = parseInt(child.getAttribute('offset'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimitive.inputs[semantic] = { id: id, offset: offset };\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimitive.stride = Math.max(primitive.stride, offset + 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'vcount':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimitive.vcount = parseInts(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'p':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimitive.p = parseInts(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn primitive;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction groupPrimitives(primitives) {\n\n\t\t\t\t\t\t\t\t\tvar build = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < primitives.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar primitive = primitives[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (build[primitive.type] === undefined) build[primitive.type] = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuild[primitive.type].push(primitive);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn build;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildGeometry(data) {\n\n\t\t\t\t\t\t\t\t\tvar build = {};\n\n\t\t\t\t\t\t\t\t\tvar sources = data.sources;\n\t\t\t\t\t\t\t\t\tvar vertices = data.vertices;\n\t\t\t\t\t\t\t\t\tvar primitives = data.primitives;\n\n\t\t\t\t\t\t\t\t\tif (primitives.length === 0) return {};\n\n\t\t\t\t\t\t\t\t\tvar groupedPrimitives = groupPrimitives(primitives);\n\n\t\t\t\t\t\t\t\t\tfor (var type in groupedPrimitives) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuild[type] = buildGeometryType(groupedPrimitives[type], sources, vertices);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn build;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildGeometryType(primitives, sources, vertices) {\n\n\t\t\t\t\t\t\t\t\tvar build = {};\n\n\t\t\t\t\t\t\t\t\tvar position = { array: [], stride: 0 };\n\t\t\t\t\t\t\t\t\tvar normal = { array: [], stride: 0 };\n\t\t\t\t\t\t\t\t\tvar uv = { array: [], stride: 0 };\n\t\t\t\t\t\t\t\t\tvar color = { array: [], stride: 0 };\n\n\t\t\t\t\t\t\t\t\tvar skinIndex = { array: [], stride: 4 };\n\t\t\t\t\t\t\t\t\tvar skinWeight = { array: [], stride: 4 };\n\n\t\t\t\t\t\t\t\t\tvar geometry = new __WEBPACK_IMPORTED_MODULE_1_three__[\"e\" /* BufferGeometry */]();\n\n\t\t\t\t\t\t\t\t\tvar materialKeys = [];\n\n\t\t\t\t\t\t\t\t\tvar start = 0,\n\t\t\t\t\t\t\t\t\t    count = 0;\n\n\t\t\t\t\t\t\t\t\tfor (var p = 0; p < primitives.length; p++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar primitive = primitives[p];\n\t\t\t\t\t\t\t\t\t\t\t\tvar inputs = primitive.inputs;\n\t\t\t\t\t\t\t\t\t\t\t\tvar triangleCount = 1;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (primitive.vcount && primitive.vcount[0] === 4) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttriangleCount = 2;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (primitive.type === 'lines' || primitive.type === 'linestrips') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount = primitive.count * 2;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcount = primitive.count * 3 * triangleCount;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.addGroup(start, count, p);\n\t\t\t\t\t\t\t\t\t\t\t\tstart += count;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (primitive.material) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterialKeys.push(primitive.material);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var name in inputs) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar input = inputs[name];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (name) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'VERTEX':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var key in vertices) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id = vertices[key];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (key) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'POSITION':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, position.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition.stride = sources[id].stride;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sources.skinWeights && sources.skinIndices) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources.skinIndices, input.offset, skinIndex.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources.skinWeights, input.offset, skinWeight.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, normal.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[id].stride;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, color.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[id].stride;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[id], input.offset, uv.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuv.stride = sources[id].stride;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'NORMAL':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, normal.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[input.id].stride;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'COLOR':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, color.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[input.id].stride;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData(primitive, sources[input.id], input.offset, uv.array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuv.stride = sources[input.id].stride;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (position.array.length > 0) geometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_1_three__[\"f\" /* Float32BufferAttribute */](position.array, position.stride));\n\t\t\t\t\t\t\t\t\tif (normal.array.length > 0) geometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_1_three__[\"f\" /* Float32BufferAttribute */](normal.array, normal.stride));\n\t\t\t\t\t\t\t\t\tif (color.array.length > 0) geometry.addAttribute('color', new __WEBPACK_IMPORTED_MODULE_1_three__[\"f\" /* Float32BufferAttribute */](color.array, color.stride));\n\t\t\t\t\t\t\t\t\tif (uv.array.length > 0) geometry.addAttribute('uv', new __WEBPACK_IMPORTED_MODULE_1_three__[\"f\" /* Float32BufferAttribute */](uv.array, uv.stride));\n\n\t\t\t\t\t\t\t\t\tif (skinIndex.array.length > 0) geometry.addAttribute('skinIndex', new __WEBPACK_IMPORTED_MODULE_1_three__[\"f\" /* Float32BufferAttribute */](skinIndex.array, skinIndex.stride));\n\t\t\t\t\t\t\t\t\tif (skinWeight.array.length > 0) geometry.addAttribute('skinWeight', new __WEBPACK_IMPORTED_MODULE_1_three__[\"f\" /* Float32BufferAttribute */](skinWeight.array, skinWeight.stride));\n\n\t\t\t\t\t\t\t\t\tbuild.data = geometry;\n\t\t\t\t\t\t\t\t\tbuild.type = primitives[0].type;\n\t\t\t\t\t\t\t\t\tbuild.materialKeys = materialKeys;\n\n\t\t\t\t\t\t\t\t\treturn build;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildGeometryData(primitive, source, offset, array) {\n\n\t\t\t\t\t\t\t\t\tvar indices = primitive.p;\n\t\t\t\t\t\t\t\t\tvar stride = primitive.stride;\n\t\t\t\t\t\t\t\t\tvar vcount = primitive.vcount;\n\n\t\t\t\t\t\t\t\t\tfunction pushVector(i) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar index = indices[i + offset] * sourceStride;\n\t\t\t\t\t\t\t\t\t\t\t\tvar length = index + sourceStride;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (; index < length; index++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tarray.push(sourceArray[index]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar maxcount = 0;\n\n\t\t\t\t\t\t\t\t\tvar sourceArray = source.array;\n\t\t\t\t\t\t\t\t\tvar sourceStride = source.stride;\n\n\t\t\t\t\t\t\t\t\tif (primitive.vcount !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar index = 0;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0, l = vcount.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar count = vcount[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (count === 4) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar a = index + stride * 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar b = index + stride * 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar c = index + stride * 2;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar d = index + stride * 3;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpushVector(a);pushVector(b);pushVector(d);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpushVector(b);pushVector(c);pushVector(d);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (count === 3) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar a = index + stride * 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar b = index + stride * 1;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar c = index + stride * 2;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpushVector(a);pushVector(b);pushVector(c);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxcount = Math.max(maxcount, count);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex += stride * count;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (maxcount > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('ColladaLoader: Geometry has faces with more than 4 vertices.');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0, l = indices.length; i < l; i += stride) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpushVector(i);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getGeometry(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.geometries[id], buildGeometry);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsModel(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name') || '',\n\t\t\t\t\t\t\t\t\t\t\t\tjoints: {},\n\t\t\t\t\t\t\t\t\t\t\t\tlinks: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'technique_common':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseKinematicsTechniqueCommon(child, data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.kinematicsModels[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildKinematicsModel(data) {\n\n\t\t\t\t\t\t\t\t\tif (data.build !== undefined) return data.build;\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getKinematicsModel(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.kinematicsModels[id], buildKinematicsModel);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsTechniqueCommon(xml, data) {\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'joint':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.joints[child.getAttribute('sid')] = parseKinematicsJoint(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'link':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.links.push(parseKinematicsLink(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsJoint(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata = parseKinematicsJointParameter(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsJointParameter(xml, data) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tsid: xml.getAttribute('sid'),\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name') || '',\n\t\t\t\t\t\t\t\t\t\t\t\taxis: new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */](),\n\t\t\t\t\t\t\t\t\t\t\t\tlimits: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax: 0\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\ttype: xml.nodeName,\n\t\t\t\t\t\t\t\t\t\t\t\tstatic: false,\n\t\t\t\t\t\t\t\t\t\t\t\tzeroPosition: 0,\n\t\t\t\t\t\t\t\t\t\t\t\tmiddlePosition: 0\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.axis.fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'limits':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar max = child.getElementsByTagName('max')[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar min = child.getElementsByTagName('min')[0];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.limits.max = parseFloat(max.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.limits.min = parseFloat(min.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (data.limits.min >= data.limits.max) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tdata.static = true;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tdata.middlePosition = (data.limits.min + data.limits.max) / 2.0;\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsLink(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tsid: xml.getAttribute('sid'),\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name') || '',\n\t\t\t\t\t\t\t\t\t\t\t\tattachments: [],\n\t\t\t\t\t\t\t\t\t\t\t\ttransforms: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'attachment_full':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.attachments.push(parseKinematicsAttachment(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.transforms.push(parseKinematicsTransform(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsAttachment(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tjoint: xml.getAttribute('joint').split('/').pop(),\n\t\t\t\t\t\t\t\t\t\t\t\ttransforms: [],\n\t\t\t\t\t\t\t\t\t\t\t\tlinks: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'link':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.links.push(parseKinematicsLink(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.transforms.push(parseKinematicsTransform(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsTransform(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\ttype: xml.nodeName\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar array = parseFloats(xml.textContent);\n\n\t\t\t\t\t\t\t\t\tswitch (data.type) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.obj = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.obj.fromArray(array).transpose();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.obj = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.obj.fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.obj = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.obj.fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.angle = __WEBPACK_IMPORTED_MODULE_1_three__[\"X\" /* Math */].degToRad(array[3]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsScene(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tbindJointAxis: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'bind_joint_axis':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.bindJointAxis.push(parseKinematicsBindJointAxis(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.kinematicsScenes[parseId(xml.getAttribute('url'))] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseKinematicsBindJointAxis(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\ttarget: xml.getAttribute('target').split('/').pop()\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'axis':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar param = child.getElementsByTagName('param')[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.axis = param.textContent;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar tmpJointIndex = data.axis.split('inst_').pop().split('axis')[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.jointIndex = tmpJointIndex.substr(0, tmpJointIndex.length - 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildKinematicsScene(data) {\n\n\t\t\t\t\t\t\t\t\tif (data.build !== undefined) return data.build;\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getKinematicsScene(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.kinematicsScenes[id], buildKinematicsScene);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction setupKinematics() {\n\n\t\t\t\t\t\t\t\t\tvar kinematicsModelId = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(library.kinematicsModels)[0];\n\t\t\t\t\t\t\t\t\tvar kinematicsSceneId = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(library.kinematicsScenes)[0];\n\t\t\t\t\t\t\t\t\tvar visualSceneId = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(library.visualScenes)[0];\n\n\t\t\t\t\t\t\t\t\tif (kinematicsModelId === undefined || kinematicsSceneId === undefined) return;\n\n\t\t\t\t\t\t\t\t\tvar kinematicsModel = getKinematicsModel(kinematicsModelId);\n\t\t\t\t\t\t\t\t\tvar kinematicsScene = getKinematicsScene(kinematicsSceneId);\n\t\t\t\t\t\t\t\t\tvar visualScene = getVisualScene(visualSceneId);\n\n\t\t\t\t\t\t\t\t\tvar bindJointAxis = kinematicsScene.bindJointAxis;\n\t\t\t\t\t\t\t\t\tvar jointMap = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = bindJointAxis.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar axis = bindJointAxis[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar targetElement = collada.querySelector('[sid=\"' + axis.target + '\"]');\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (targetElement) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar parentVisualElement = targetElement.parentElement;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconnect(axis.jointIndex, parentVisualElement);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfunction connect(jointIndex, visualElement) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar visualElementName = visualElement.getAttribute('name');\n\t\t\t\t\t\t\t\t\t\t\t\tvar joint = kinematicsModel.joints[jointIndex];\n\n\t\t\t\t\t\t\t\t\t\t\t\tvisualScene.traverse(function (object) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (object.name === visualElementName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjointMap[jointIndex] = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject: object,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransforms: buildTransformList(visualElement),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjoint: joint,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: joint.zeroPosition\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar m0 = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]();\n\n\t\t\t\t\t\t\t\t\tkinematics = {\n\n\t\t\t\t\t\t\t\t\t\t\t\tjoints: kinematicsModel && kinematicsModel.joints,\n\n\t\t\t\t\t\t\t\t\t\t\t\tgetJointValue: function getJointValue(jointIndex) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar jointData = jointMap[jointIndex];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (jointData) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn jointData.position;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tsetJointValue: function setJointValue(jointIndex, value) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar jointData = jointMap[jointIndex];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (jointData) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar joint = jointData.joint;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value > joint.limits.max || value < joint.limits.min) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (joint.static) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Joint ' + jointIndex + ' is static.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar object = jointData.object;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar axis = joint.axis;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar transforms = jointData.transforms;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.identity();\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < transforms.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar transform = transforms[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (transform.sid && transform.sid.indexOf(jointIndex) !== -1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (joint.type) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'revolute':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeRotationAxis(axis, __WEBPACK_IMPORTED_MODULE_1_three__[\"X\" /* Math */].degToRad(value)));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeTranslation(axis.x * value, axis.y * value, axis.z * value));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.warn('ColladaLoader: Unknown joint type: ' + joint.type);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (transform.type) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(transform.obj);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeTranslation(transform.obj.x, transform.obj.y, transform.obj.z));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.scale(transform.obj);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply(m0.makeRotationAxis(transform.obj, transform.angle));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.matrix.copy(matrix);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.matrix.decompose(object.position, object.quaternion, object.scale);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjointMap[jointIndex].position = value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('ColladaLoader: ' + jointIndex + ' does not exist.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildTransformList(node) {\n\n\t\t\t\t\t\t\t\t\tvar transforms = [];\n\n\t\t\t\t\t\t\t\t\tvar xml = collada.querySelector('[id=\"' + node.id + '\"]');\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar matrix = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]().fromArray(array).transpose();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransforms.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsid: child.getAttribute('sid'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobj: matrix\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar vector = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]().fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransforms.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsid: child.getAttribute('sid'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobj: vector\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar vector = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]().fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar angle = __WEBPACK_IMPORTED_MODULE_1_three__[\"X\" /* Math */].degToRad(array[3]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransforms.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsid: child.getAttribute('sid'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: child.nodeName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobj: vector,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tangle: angle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn transforms;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar matrix = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]();\n\t\t\t\t\t\tvar vector = new __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* Vector3 */]();\n\n\t\t\t\t\t\tfunction parseNode(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name'),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: xml.getAttribute('type'),\n\t\t\t\t\t\t\t\t\t\t\t\tid: xml.getAttribute('id'),\n\t\t\t\t\t\t\t\t\t\t\t\tsid: xml.getAttribute('sid'),\n\t\t\t\t\t\t\t\t\t\t\t\tmatrix: new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */](),\n\t\t\t\t\t\t\t\t\t\t\t\tnodes: [],\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceCameras: [],\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceControllers: [],\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceLights: [],\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceGeometries: [],\n\t\t\t\t\t\t\t\t\t\t\t\tinstanceNodes: [],\n\t\t\t\t\t\t\t\t\t\t\t\ttransforms: {}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.nodeType !== 1) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'node':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (child.hasAttribute('id')) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.nodes.push(child.getAttribute('id'));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparseNode(child);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_camera':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.instanceCameras.push(parseId(child.getAttribute('url')));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_controller':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.instanceControllers.push(parseNodeInstance(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_light':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.instanceLights.push(parseId(child.getAttribute('url')));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_geometry':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.instanceGeometries.push(parseNodeInstance(child));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'instance_node':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.instanceNodes.push(parseId(child.getAttribute('url')));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'matrix':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.matrix.multiply(matrix.fromArray(array).transpose());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'translate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvector.fromArray(array);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.matrix.multiply(matrix.makeTranslation(vector.x, vector.y, vector.z));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'rotate':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar angle = __WEBPACK_IMPORTED_MODULE_1_three__[\"X\" /* Math */].degToRad(array[3]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.matrix.multiply(matrix.makeRotationAxis(vector.fromArray(array), angle));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'scale':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar array = parseFloats(child.textContent);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.matrix.scale(vector.fromArray(array));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.transforms[child.getAttribute('sid')] = child.nodeName;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'extra':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(child);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (xml.hasAttribute('id')) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tlibrary.nodes[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseNodeInstance(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tid: parseId(xml.getAttribute('url')),\n\t\t\t\t\t\t\t\t\t\t\t\tmaterials: {},\n\t\t\t\t\t\t\t\t\t\t\t\tskeletons: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < xml.childNodes.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = xml.childNodes[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (child.nodeName) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'bind_material':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar instances = child.getElementsByTagName('instance_material');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < instances.length; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar instance = instances[j];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar symbol = instance.getAttribute('symbol');\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar target = instance.getAttribute('target');\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.materials[symbol] = parseId(target);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'skeleton':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.skeletons.push(parseId(child.textContent));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildSkeleton(skeletons, joints) {\n\n\t\t\t\t\t\t\t\t\tvar boneData = [];\n\t\t\t\t\t\t\t\t\tvar sortedBoneData = [];\n\n\t\t\t\t\t\t\t\t\tvar i, j, data;\n\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < skeletons.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar skeleton = skeletons[i];\n\t\t\t\t\t\t\t\t\t\t\t\tvar root = getNode(skeleton);\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuildBoneHierarchy(root, joints, boneData);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < joints.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (j = 0; j < boneData.length; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata = boneData[j];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (data.bone.name === joints[i].name) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortedBoneData[i] = data;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.processed = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < boneData.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tdata = boneData[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (data.processed === false) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortedBoneData.push(data);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.processed = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < sortedBoneData.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tdata = sortedBoneData[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tbones.push(data.bone);\n\t\t\t\t\t\t\t\t\t\t\t\tboneInverses.push(data.boneInverse);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn new __WEBPACK_IMPORTED_MODULE_1_three__[\"Y\" /* Skeleton */](bones, boneInverses);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildBoneHierarchy(root, joints, boneData) {\n\n\t\t\t\t\t\t\t\t\troot.traverse(function (object) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (object.isBone === true) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar boneInverse;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < joints.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar joint = joints[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (joint.name === object.name) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboneInverse = joint.boneInverse;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (boneInverse === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboneInverse = new __WEBPACK_IMPORTED_MODULE_1_three__[\"R\" /* Matrix4 */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboneData.push({ bone: object, boneInverse: boneInverse, processed: false });\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildNode(data) {\n\n\t\t\t\t\t\t\t\t\tvar objects = [];\n\n\t\t\t\t\t\t\t\t\tvar matrix = data.matrix;\n\t\t\t\t\t\t\t\t\tvar nodes = data.nodes;\n\t\t\t\t\t\t\t\t\tvar type = data.type;\n\t\t\t\t\t\t\t\t\tvar instanceCameras = data.instanceCameras;\n\t\t\t\t\t\t\t\t\tvar instanceControllers = data.instanceControllers;\n\t\t\t\t\t\t\t\t\tvar instanceLights = data.instanceLights;\n\t\t\t\t\t\t\t\t\tvar instanceGeometries = data.instanceGeometries;\n\t\t\t\t\t\t\t\t\tvar instanceNodes = data.instanceNodes;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(getNode(nodes[i]));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = instanceCameras.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(getCamera(instanceCameras[i]).clone());\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = instanceControllers.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar instance = instanceControllers[i];\n\t\t\t\t\t\t\t\t\t\t\t\tvar controller = getController(instance.id);\n\t\t\t\t\t\t\t\t\t\t\t\tvar geometries = getGeometry(controller.id);\n\t\t\t\t\t\t\t\t\t\t\t\tvar newObjects = buildObjects(geometries, instance.materials);\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar skeletons = instance.skeletons;\n\t\t\t\t\t\t\t\t\t\t\t\tvar joints = controller.skin.joints;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar skeleton = buildSkeleton(skeletons, joints);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0, jl = newObjects.length; j < jl; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar object = newObjects[j];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (object.isSkinnedMesh) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.bind(skeleton, controller.skin.bindMatrix);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.normalizeSkinWeights();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(object);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = instanceLights.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(getLight(instanceLights[i]).clone());\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = instanceGeometries.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar instance = instanceGeometries[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar geometries = getGeometry(instance.id);\n\t\t\t\t\t\t\t\t\t\t\t\tvar newObjects = buildObjects(geometries, instance.materials);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0, jl = newObjects.length; j < jl; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(newObjects[j]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = instanceNodes.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(getNode(instanceNodes[i]).clone());\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar object;\n\n\t\t\t\t\t\t\t\t\tif (nodes.length === 0 && objects.length === 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tobject = objects[0];\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\tobject = type === 'JOINT' ? new __WEBPACK_IMPORTED_MODULE_1_three__[\"Z\" /* Bone */]() : new __WEBPACK_IMPORTED_MODULE_1_three__[\"J\" /* Group */]();\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < objects.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.add(objects[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tobject.name = type === 'JOINT' ? data.sid : data.name;\n\t\t\t\t\t\t\t\t\tobject.matrix.copy(matrix);\n\t\t\t\t\t\t\t\t\tobject.matrix.decompose(object.position, object.quaternion, object.scale);\n\n\t\t\t\t\t\t\t\t\treturn object;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction resolveMaterialBinding(keys, instanceMaterials) {\n\n\t\t\t\t\t\t\t\t\tvar materials = [];\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar id = instanceMaterials[keys[i]];\n\t\t\t\t\t\t\t\t\t\t\t\tmaterials.push(getMaterial(id));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn materials;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildObjects(geometries, instanceMaterials) {\n\n\t\t\t\t\t\t\t\t\tvar objects = [];\n\n\t\t\t\t\t\t\t\t\tfor (var type in geometries) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar geometry = geometries[type];\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar materials = resolveMaterialBinding(geometry.materialKeys, instanceMaterials);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (materials.length === 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (type === 'lines' || type === 'linestrips') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterials.push(new __WEBPACK_IMPORTED_MODULE_1_three__[\"K\" /* LineBasicMaterial */]());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterials.push(new __WEBPACK_IMPORTED_MODULE_1_three__[\"B\" /* MeshPhongMaterial */]());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar skinning = geometry.data.attributes.skinIndex !== undefined;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (skinning) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0, l = materials.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterials[i].skinning = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar material = materials.length === 1 ? materials[0] : materials;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar object;\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (type) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'lines':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject = new __WEBPACK_IMPORTED_MODULE_1_three__[\"N\" /* LineSegments */](geometry.data, material);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'linestrips':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject = new __WEBPACK_IMPORTED_MODULE_1_three__[\"_0\" /* Line */](geometry.data, material);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'triangles':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'polylist':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (skinning) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject = new __WEBPACK_IMPORTED_MODULE_1_three__[\"_1\" /* SkinnedMesh */](geometry.data, material);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject = new __WEBPACK_IMPORTED_MODULE_1_three__[\"a\" /* Mesh */](geometry.data, material);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tobjects.push(object);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn objects;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getNode(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.nodes[id], buildNode);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseVisualScene(xml) {\n\n\t\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\t\t\t\tname: xml.getAttribute('name'),\n\t\t\t\t\t\t\t\t\t\t\t\tchildren: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar elements = getElementsByTagName(xml, 'node');\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < elements.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tdata.children.push(parseNode(elements[i]));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tlibrary.visualScenes[xml.getAttribute('id')] = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction buildVisualScene(data) {\n\n\t\t\t\t\t\t\t\t\tvar group = new __WEBPACK_IMPORTED_MODULE_1_three__[\"J\" /* Group */]();\n\t\t\t\t\t\t\t\t\tgroup.name = data.name;\n\n\t\t\t\t\t\t\t\t\tvar children = data.children;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar child = children[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (child.id === null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroup.add(buildNode(child));\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroup.add(getNode(child.id));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn group;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getVisualScene(id) {\n\n\t\t\t\t\t\t\t\t\treturn getBuild(library.visualScenes[id], buildVisualScene);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseScene(xml) {\n\n\t\t\t\t\t\t\t\t\tvar instance = getElementsByTagName(xml, 'instance_visual_scene')[0];\n\t\t\t\t\t\t\t\t\treturn getVisualScene(parseId(instance.getAttribute('url')));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction setupAnimations() {\n\n\t\t\t\t\t\t\t\t\tvar clips = library.clips;\n\n\t\t\t\t\t\t\t\t\tif (isEmpty(clips) === true) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (isEmpty(library.animations) === false) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar tracks = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var id in library.animations) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar animationTracks = getAnimation(id);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0, l = animationTracks.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttracks.push(animationTracks[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimations.push(new __WEBPACK_IMPORTED_MODULE_1_three__[\"Q\" /* AnimationClip */]('default', -1, tracks));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var id in clips) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimations.push(getAnimationClip(id));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.time('ColladaLoader');\n\n\t\t\t\t\t\tif (text.length === 0) {\n\n\t\t\t\t\t\t\t\t\treturn { scene: new __WEBPACK_IMPORTED_MODULE_1_three__[\"j\" /* Scene */]() };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.time('ColladaLoader: DOMParser');\n\n\t\t\t\t\t\tvar xml = new DOMParser().parseFromString(text, 'application/xml');\n\n\t\t\t\t\t\tconsole.timeEnd('ColladaLoader: DOMParser');\n\n\t\t\t\t\t\tvar collada = getElementsByTagName(xml, 'COLLADA')[0];\n\n\t\t\t\t\t\tvar version = collada.getAttribute('version');\n\t\t\t\t\t\tconsole.log('ColladaLoader: File version', version);\n\n\t\t\t\t\t\tvar asset = parseAsset(getElementsByTagName(collada, 'asset')[0]);\n\t\t\t\t\t\tvar textureLoader = new __WEBPACK_IMPORTED_MODULE_1_three__[\"C\" /* TextureLoader */](this.manager);\n\t\t\t\t\t\ttextureLoader.setPath(path).setCrossOrigin(this.crossOrigin);\n\n\t\t\t\t\t\tvar animations = [];\n\t\t\t\t\t\tvar kinematics = {};\n\n\t\t\t\t\t\tvar library = {\n\t\t\t\t\t\t\t\t\tanimations: {},\n\t\t\t\t\t\t\t\t\tclips: {},\n\t\t\t\t\t\t\t\t\tcontrollers: {},\n\t\t\t\t\t\t\t\t\timages: {},\n\t\t\t\t\t\t\t\t\teffects: {},\n\t\t\t\t\t\t\t\t\tmaterials: {},\n\t\t\t\t\t\t\t\t\tcameras: {},\n\t\t\t\t\t\t\t\t\tlights: {},\n\t\t\t\t\t\t\t\t\tgeometries: {},\n\t\t\t\t\t\t\t\t\tnodes: {},\n\t\t\t\t\t\t\t\t\tvisualScenes: {},\n\t\t\t\t\t\t\t\t\tkinematicsModels: {},\n\t\t\t\t\t\t\t\t\tkinematicsScenes: {}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconsole.time('ColladaLoader: Parse');\n\n\t\t\t\t\t\tparseLibrary(collada, 'library_animations', 'animation', parseAnimation);\n\t\t\t\t\t\tparseLibrary(collada, 'library_animation_clips', 'animation_clip', parseAnimationClip);\n\t\t\t\t\t\tparseLibrary(collada, 'library_controllers', 'controller', parseController);\n\t\t\t\t\t\tparseLibrary(collada, 'library_images', 'image', parseImage);\n\t\t\t\t\t\tparseLibrary(collada, 'library_effects', 'effect', parseEffect);\n\t\t\t\t\t\tparseLibrary(collada, 'library_materials', 'material', parseMaterial);\n\t\t\t\t\t\tparseLibrary(collada, 'library_cameras', 'camera', parseCamera);\n\t\t\t\t\t\tparseLibrary(collada, 'library_lights', 'light', parseLight);\n\t\t\t\t\t\tparseLibrary(collada, 'library_geometries', 'geometry', parseGeometry);\n\t\t\t\t\t\tparseLibrary(collada, 'library_nodes', 'node', parseNode);\n\t\t\t\t\t\tparseLibrary(collada, 'library_visual_scenes', 'visual_scene', parseVisualScene);\n\t\t\t\t\t\tparseLibrary(collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel);\n\t\t\t\t\t\tparseLibrary(collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene);\n\n\t\t\t\t\t\tconsole.timeEnd('ColladaLoader: Parse');\n\n\t\t\t\t\t\tconsole.time('ColladaLoader: Build');\n\n\t\t\t\t\t\tbuildLibrary(library.animations, buildAnimation);\n\t\t\t\t\t\tbuildLibrary(library.clips, buildAnimationClip);\n\t\t\t\t\t\tbuildLibrary(library.controllers, buildController);\n\t\t\t\t\t\tbuildLibrary(library.images, buildImage);\n\t\t\t\t\t\tbuildLibrary(library.effects, buildEffect);\n\t\t\t\t\t\tbuildLibrary(library.materials, buildMaterial);\n\t\t\t\t\t\tbuildLibrary(library.cameras, buildCamera);\n\t\t\t\t\t\tbuildLibrary(library.lights, buildLight);\n\t\t\t\t\t\tbuildLibrary(library.geometries, buildGeometry);\n\t\t\t\t\t\tbuildLibrary(library.visualScenes, buildVisualScene);\n\n\t\t\t\t\t\tconsole.timeEnd('ColladaLoader: Build');\n\n\t\t\t\t\t\tsetupAnimations();\n\t\t\t\t\t\tsetupKinematics();\n\n\t\t\t\t\t\tvar scene = parseScene(getElementsByTagName(collada, 'scene')[0]);\n\n\t\t\t\t\t\tif (asset.upAxis === 'Z_UP') {\n\n\t\t\t\t\t\t\t\t\tscene.rotation.x = -Math.PI / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tscene.scale.multiplyScalar(asset.unit);\n\n\t\t\t\t\t\tconsole.timeEnd('ColladaLoader');\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tanimations: animations,\n\t\t\t\t\t\t\t\t\tkinematics: kinematics,\n\t\t\t\t\t\t\t\t\tlibrary: library,\n\t\t\t\t\t\t\t\t\tscene: scene\n\t\t\t\t\t\t};\n\t\t\t}\n\n};\n\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DDSLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_three__ = __webpack_require__(1);\n\n\n\nvar DDSLoader = function DDSLoader() {\n\n\tthis._parser = DDSLoader.parse;\n};\n\nDDSLoader.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_1_three__[\"D\" /* CompressedTextureLoader */].prototype);\nDDSLoader.prototype.constructor = DDSLoader;\n\nDDSLoader.parse = function (buffer, loadMipmaps) {\n\n\tvar dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\n\n\tvar DDS_MAGIC = 0x20534444;\n\n\tvar DDSD_CAPS = 0x1,\n\t    DDSD_HEIGHT = 0x2,\n\t    DDSD_WIDTH = 0x4,\n\t    DDSD_PITCH = 0x8,\n\t    DDSD_PIXELFORMAT = 0x1000,\n\t    DDSD_MIPMAPCOUNT = 0x20000,\n\t    DDSD_LINEARSIZE = 0x80000,\n\t    DDSD_DEPTH = 0x800000;\n\n\tvar DDSCAPS_COMPLEX = 0x8,\n\t    DDSCAPS_MIPMAP = 0x400000,\n\t    DDSCAPS_TEXTURE = 0x1000;\n\n\tvar DDSCAPS2_CUBEMAP = 0x200,\n\t    DDSCAPS2_CUBEMAP_POSITIVEX = 0x400,\n\t    DDSCAPS2_CUBEMAP_NEGATIVEX = 0x800,\n\t    DDSCAPS2_CUBEMAP_POSITIVEY = 0x1000,\n\t    DDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000,\n\t    DDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000,\n\t    DDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000,\n\t    DDSCAPS2_VOLUME = 0x200000;\n\n\tvar DDPF_ALPHAPIXELS = 0x1,\n\t    DDPF_ALPHA = 0x2,\n\t    DDPF_FOURCC = 0x4,\n\t    DDPF_RGB = 0x40,\n\t    DDPF_YUV = 0x200,\n\t    DDPF_LUMINANCE = 0x20000;\n\n\tfunction fourCCToInt32(value) {\n\n\t\treturn value.charCodeAt(0) + (value.charCodeAt(1) << 8) + (value.charCodeAt(2) << 16) + (value.charCodeAt(3) << 24);\n\t}\n\n\tfunction int32ToFourCC(value) {\n\n\t\treturn String.fromCharCode(value & 0xff, value >> 8 & 0xff, value >> 16 & 0xff, value >> 24 & 0xff);\n\t}\n\n\tfunction loadARGBMip(buffer, dataOffset, width, height) {\n\n\t\tvar dataLength = width * height * 4;\n\t\tvar srcBuffer = new Uint8Array(buffer, dataOffset, dataLength);\n\t\tvar byteArray = new Uint8Array(dataLength);\n\t\tvar dst = 0;\n\t\tvar src = 0;\n\t\tfor (var y = 0; y < height; y++) {\n\n\t\t\tfor (var x = 0; x < width; x++) {\n\n\t\t\t\tvar b = srcBuffer[src];src++;\n\t\t\t\tvar g = srcBuffer[src];src++;\n\t\t\t\tvar r = srcBuffer[src];src++;\n\t\t\t\tvar a = srcBuffer[src];src++;\n\t\t\t\tbyteArray[dst] = r;dst++;\n\t\t\t\tbyteArray[dst] = g;dst++;\n\t\t\t\tbyteArray[dst] = b;dst++;\n\t\t\t\tbyteArray[dst] = a;dst++;\n\t\t\t}\n\t\t}\n\t\treturn byteArray;\n\t}\n\n\tvar FOURCC_DXT1 = fourCCToInt32(\"DXT1\");\n\tvar FOURCC_DXT3 = fourCCToInt32(\"DXT3\");\n\tvar FOURCC_DXT5 = fourCCToInt32(\"DXT5\");\n\tvar FOURCC_ETC1 = fourCCToInt32(\"ETC1\");\n\n\tvar headerLengthInt = 31;\n\n\tvar off_magic = 0;\n\n\tvar off_size = 1;\n\tvar off_flags = 2;\n\tvar off_height = 3;\n\tvar off_width = 4;\n\n\tvar off_mipmapCount = 7;\n\n\tvar off_pfFlags = 20;\n\tvar off_pfFourCC = 21;\n\tvar off_RGBBitCount = 22;\n\tvar off_RBitMask = 23;\n\tvar off_GBitMask = 24;\n\tvar off_BBitMask = 25;\n\tvar off_ABitMask = 26;\n\n\tvar off_caps = 27;\n\tvar off_caps2 = 28;\n\tvar off_caps3 = 29;\n\tvar off_caps4 = 30;\n\n\tvar header = new Int32Array(buffer, 0, headerLengthInt);\n\n\tif (header[off_magic] !== DDS_MAGIC) {\n\n\t\tconsole.error('DDSLoader.parse: Invalid magic number in DDS header.');\n\t\treturn dds;\n\t}\n\n\tif (!header[off_pfFlags] & DDPF_FOURCC) {\n\n\t\tconsole.error('DDSLoader.parse: Unsupported format, must contain a FourCC code.');\n\t\treturn dds;\n\t}\n\n\tvar blockBytes;\n\n\tvar fourCC = header[off_pfFourCC];\n\n\tvar isRGBAUncompressed = false;\n\n\tswitch (fourCC) {\n\n\t\tcase FOURCC_DXT1:\n\n\t\t\tblockBytes = 8;\n\t\t\tdds.format = __WEBPACK_IMPORTED_MODULE_1_three__[\"E\" /* RGB_S3TC_DXT1_Format */];\n\t\t\tbreak;\n\n\t\tcase FOURCC_DXT3:\n\n\t\t\tblockBytes = 16;\n\t\t\tdds.format = __WEBPACK_IMPORTED_MODULE_1_three__[\"F\" /* RGBA_S3TC_DXT3_Format */];\n\t\t\tbreak;\n\n\t\tcase FOURCC_DXT5:\n\n\t\t\tblockBytes = 16;\n\t\t\tdds.format = __WEBPACK_IMPORTED_MODULE_1_three__[\"G\" /* RGBA_S3TC_DXT5_Format */];\n\t\t\tbreak;\n\n\t\tcase FOURCC_ETC1:\n\n\t\t\tblockBytes = 8;\n\t\t\tdds.format = __WEBPACK_IMPORTED_MODULE_1_three__[\"H\" /* RGB_ETC1_Format */];\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tif (header[off_RGBBitCount] === 32 && header[off_RBitMask] & 0xff0000 && header[off_GBitMask] & 0xff00 && header[off_BBitMask] & 0xff && header[off_ABitMask] & 0xff000000) {\n\n\t\t\t\tisRGBAUncompressed = true;\n\t\t\t\tblockBytes = 64;\n\t\t\t\tdds.format = __WEBPACK_IMPORTED_MODULE_1_three__[\"I\" /* RGBAFormat */];\n\t\t\t} else {\n\n\t\t\t\tconsole.error('DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC(fourCC));\n\t\t\t\treturn dds;\n\t\t\t}\n\t}\n\n\tdds.mipmapCount = 1;\n\n\tif (header[off_flags] & DDSD_MIPMAPCOUNT && loadMipmaps !== false) {\n\n\t\tdds.mipmapCount = Math.max(1, header[off_mipmapCount]);\n\t}\n\n\tvar caps2 = header[off_caps2];\n\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\n\tif (dds.isCubemap && (!(caps2 & DDSCAPS2_CUBEMAP_POSITIVEX) || !(caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX) || !(caps2 & DDSCAPS2_CUBEMAP_POSITIVEY) || !(caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY) || !(caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ) || !(caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ))) {\n\n\t\tconsole.error('DDSLoader.parse: Incomplete cubemap faces');\n\t\treturn dds;\n\t}\n\n\tdds.width = header[off_width];\n\tdds.height = header[off_height];\n\n\tvar dataOffset = header[off_size] + 4;\n\n\tvar faces = dds.isCubemap ? 6 : 1;\n\n\tfor (var face = 0; face < faces; face++) {\n\n\t\tvar width = dds.width;\n\t\tvar height = dds.height;\n\n\t\tfor (var i = 0; i < dds.mipmapCount; i++) {\n\n\t\t\tif (isRGBAUncompressed) {\n\n\t\t\t\tvar byteArray = loadARGBMip(buffer, dataOffset, width, height);\n\t\t\t\tvar dataLength = byteArray.length;\n\t\t\t} else {\n\n\t\t\t\tvar dataLength = Math.max(4, width) / 4 * Math.max(4, height) / 4 * blockBytes;\n\t\t\t\tvar byteArray = new Uint8Array(buffer, dataOffset, dataLength);\n\t\t\t}\n\n\t\t\tvar mipmap = { \"data\": byteArray, \"width\": width, \"height\": height };\n\t\t\tdds.mipmaps.push(mipmap);\n\n\t\t\tdataOffset += dataLength;\n\n\t\t\twidth = Math.max(width >> 1, 1);\n\t\t\theight = Math.max(height >> 1, 1);\n\t\t}\n\t}\n\n\treturn dds;\n};\n\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MTLLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__DDSLoader__ = __webpack_require__(50);\n\n\n\nvar LoaderHandlers = __WEBPACK_IMPORTED_MODULE_0_three__[\"y\" /* Loader */].Handlers;\nLoaderHandlers.add(/\\.dds$/i, new __WEBPACK_IMPORTED_MODULE_1__DDSLoader__[\"a\" /* DDSLoader */]());\n\nvar MTLLoader = function MTLLoader(manager) {\n\n\t\tthis.manager = manager !== undefined ? manager : __WEBPACK_IMPORTED_MODULE_0_three__[\"c\" /* DefaultLoadingManager */];\n};\n\nMTLLoader.prototype = {\n\n\t\tconstructor: MTLLoader,\n\n\t\tload: function load(url, onLoad, onProgress, onError) {\n\n\t\t\t\tvar scope = this;\n\n\t\t\t\tvar loader = new __WEBPACK_IMPORTED_MODULE_0_three__[\"d\" /* FileLoader */](this.manager);\n\t\t\t\tloader.setPath(this.path);\n\t\t\t\tloader.load(url, function (text) {\n\n\t\t\t\t\t\tonLoad(scope.parse(text));\n\t\t\t\t}, onProgress, onError);\n\t\t},\n\n\t\tsetPath: function setPath(path) {\n\n\t\t\t\tthis.path = path;\n\t\t},\n\n\t\tsetTexturePath: function setTexturePath(path) {\n\n\t\t\t\tthis.texturePath = path;\n\t\t},\n\n\t\tsetBaseUrl: function setBaseUrl(path) {\n\n\t\t\t\tconsole.warn('MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.');\n\n\t\t\t\tthis.setTexturePath(path);\n\t\t},\n\n\t\tsetCrossOrigin: function setCrossOrigin(value) {\n\n\t\t\t\tthis.crossOrigin = value;\n\t\t},\n\n\t\tsetMaterialOptions: function setMaterialOptions(value) {\n\n\t\t\t\tthis.materialOptions = value;\n\t\t},\n\n\t\tparse: function parse(text) {\n\n\t\t\t\tvar lines = text.split('\\n');\n\t\t\t\tvar info = {};\n\t\t\t\tvar delimiter_pattern = /\\s+/;\n\t\t\t\tvar materialsInfo = {};\n\n\t\t\t\tfor (var i = 0; i < lines.length; i++) {\n\n\t\t\t\t\t\tvar line = lines[i];\n\t\t\t\t\t\tline = line.trim();\n\n\t\t\t\t\t\tif (line.length === 0 || line.charAt(0) === '#') {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar pos = line.indexOf(' ');\n\n\t\t\t\t\t\tvar key = pos >= 0 ? line.substring(0, pos) : line;\n\t\t\t\t\t\tkey = key.toLowerCase();\n\n\t\t\t\t\t\tvar value = pos >= 0 ? line.substring(pos + 1) : '';\n\t\t\t\t\t\tvalue = value.trim();\n\n\t\t\t\t\t\tif (key === 'newmtl') {\n\n\t\t\t\t\t\t\t\tinfo = { name: value };\n\t\t\t\t\t\t\t\tmaterialsInfo[value] = info;\n\t\t\t\t\t\t} else if (info) {\n\n\t\t\t\t\t\t\t\tif (key === 'ka' || key === 'kd' || key === 'ks') {\n\n\t\t\t\t\t\t\t\t\t\tvar ss = value.split(delimiter_pattern, 3);\n\t\t\t\t\t\t\t\t\t\tinfo[key] = [parseFloat(ss[0]), parseFloat(ss[1]), parseFloat(ss[2])];\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tinfo[key] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar materialCreator = new MTLLoader.MaterialCreator(this.texturePath || this.path, this.materialOptions);\n\t\t\t\tmaterialCreator.setCrossOrigin(this.crossOrigin);\n\t\t\t\tmaterialCreator.setManager(this.manager);\n\t\t\t\tmaterialCreator.setMaterials(materialsInfo);\n\t\t\t\treturn materialCreator;\n\t\t}\n\n};\n\nMTLLoader.MaterialCreator = function (baseUrl, options) {\n\n\t\tthis.baseUrl = baseUrl || '';\n\t\tthis.options = options;\n\t\tthis.materialsInfo = {};\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t\tthis.side = this.options && this.options.side ? this.options.side : __WEBPACK_IMPORTED_MODULE_0_three__[\"z\" /* FrontSide */];\n\t\tthis.wrap = this.options && this.options.wrap ? this.options.wrap : __WEBPACK_IMPORTED_MODULE_0_three__[\"A\" /* RepeatWrapping */];\n};\n\nMTLLoader.MaterialCreator.prototype = {\n\n\t\tconstructor: MTLLoader.MaterialCreator,\n\n\t\tcrossOrigin: 'Anonymous',\n\n\t\tsetCrossOrigin: function setCrossOrigin(value) {\n\n\t\t\t\tthis.crossOrigin = value;\n\t\t},\n\n\t\tsetManager: function setManager(value) {\n\n\t\t\t\tthis.manager = value;\n\t\t},\n\n\t\tsetMaterials: function setMaterials(materialsInfo) {\n\n\t\t\t\tthis.materialsInfo = this.convert(materialsInfo);\n\t\t\t\tthis.materials = {};\n\t\t\t\tthis.materialsArray = [];\n\t\t\t\tthis.nameLookup = {};\n\t\t},\n\n\t\tconvert: function convert(materialsInfo) {\n\n\t\t\t\tif (!this.options) return materialsInfo;\n\n\t\t\t\tvar converted = {};\n\n\t\t\t\tfor (var mn in materialsInfo) {\n\n\t\t\t\t\t\tvar mat = materialsInfo[mn];\n\n\t\t\t\t\t\tvar covmat = {};\n\n\t\t\t\t\t\tconverted[mn] = covmat;\n\n\t\t\t\t\t\tfor (var prop in mat) {\n\n\t\t\t\t\t\t\t\tvar save = true;\n\t\t\t\t\t\t\t\tvar value = mat[prop];\n\t\t\t\t\t\t\t\tvar lprop = prop.toLowerCase();\n\n\t\t\t\t\t\t\t\tswitch (lprop) {\n\n\t\t\t\t\t\t\t\t\t\tcase 'kd':\n\t\t\t\t\t\t\t\t\t\tcase 'ka':\n\t\t\t\t\t\t\t\t\t\tcase 'ks':\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (this.options && this.options.normalizeRGB) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = [value[0] / 255, value[1] / 255, value[2] / 255];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (this.options && this.options.ignoreZeroRGBs) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value[0] === 0 && value[1] === 0 && value[2] === 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsave = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (save) {\n\n\t\t\t\t\t\t\t\t\t\tcovmat[lprop] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn converted;\n\t\t},\n\n\t\tpreload: function preload() {\n\n\t\t\t\tfor (var mn in this.materialsInfo) {\n\n\t\t\t\t\t\tthis.create(mn);\n\t\t\t\t}\n\t\t},\n\n\t\tgetIndex: function getIndex(materialName) {\n\n\t\t\t\treturn this.nameLookup[materialName];\n\t\t},\n\n\t\tgetAsArray: function getAsArray() {\n\n\t\t\t\tvar index = 0;\n\n\t\t\t\tfor (var mn in this.materialsInfo) {\n\n\t\t\t\t\t\tthis.materialsArray[index] = this.create(mn);\n\t\t\t\t\t\tthis.nameLookup[mn] = index;\n\t\t\t\t\t\tindex++;\n\t\t\t\t}\n\n\t\t\t\treturn this.materialsArray;\n\t\t},\n\n\t\tcreate: function create(materialName) {\n\n\t\t\t\tif (this.materials[materialName] === undefined) {\n\n\t\t\t\t\t\tthis.createMaterial_(materialName);\n\t\t\t\t}\n\n\t\t\t\treturn this.materials[materialName];\n\t\t},\n\n\t\tcreateMaterial_: function createMaterial_(materialName) {\n\n\t\t\t\tvar scope = this;\n\t\t\t\tvar mat = this.materialsInfo[materialName];\n\t\t\t\tvar params = {\n\n\t\t\t\t\t\tname: materialName,\n\t\t\t\t\t\tside: this.side\n\n\t\t\t\t};\n\n\t\t\t\tfunction resolveURL(baseUrl, url) {\n\n\t\t\t\t\t\tif (typeof url !== 'string' || url === '') return '';\n\n\t\t\t\t\t\tif (/^https?:\\/\\//i.test(url)) return url;\n\n\t\t\t\t\t\treturn baseUrl + url;\n\t\t\t\t}\n\n\t\t\t\tfunction setMapForType(mapType, value) {\n\n\t\t\t\t\t\tif (params[mapType]) return;\n\n\t\t\t\t\t\tvar texParams = scope.getTextureParams(value, params);\n\t\t\t\t\t\tvar map = scope.loadTexture(resolveURL(scope.baseUrl, texParams.url));\n\n\t\t\t\t\t\tmap.repeat.copy(texParams.scale);\n\t\t\t\t\t\tmap.offset.copy(texParams.offset);\n\n\t\t\t\t\t\tmap.wrapS = scope.wrap;\n\t\t\t\t\t\tmap.wrapT = scope.wrap;\n\n\t\t\t\t\t\tparams[mapType] = map;\n\t\t\t\t}\n\n\t\t\t\tfor (var prop in mat) {\n\n\t\t\t\t\t\tvar value = mat[prop];\n\t\t\t\t\t\tvar n;\n\n\t\t\t\t\t\tif (value === '') continue;\n\n\t\t\t\t\t\tswitch (prop.toLowerCase()) {\n\n\t\t\t\t\t\t\t\tcase 'kd':\n\n\t\t\t\t\t\t\t\t\t\tparams.color = new __WEBPACK_IMPORTED_MODULE_0_three__[\"m\" /* Color */]().fromArray(value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'ks':\n\t\t\t\t\t\t\t\t\t\tparams.specular = new __WEBPACK_IMPORTED_MODULE_0_three__[\"m\" /* Color */]().fromArray(value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'map_kd':\n\n\t\t\t\t\t\t\t\t\t\tsetMapForType(\"map\", value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'map_ks':\n\n\t\t\t\t\t\t\t\t\t\tsetMapForType(\"specularMap\", value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'norm':\n\n\t\t\t\t\t\t\t\t\t\tsetMapForType(\"normalMap\", value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'map_bump':\n\t\t\t\t\t\t\t\tcase 'bump':\n\n\t\t\t\t\t\t\t\t\t\tsetMapForType(\"bumpMap\", value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'ns':\n\n\t\t\t\t\t\t\t\t\t\tparams.shininess = parseFloat(value);\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\t\t\t\tn = parseFloat(value);\n\n\t\t\t\t\t\t\t\t\t\tif (n < 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tparams.opacity = n;\n\t\t\t\t\t\t\t\t\t\t\t\tparams.transparent = true;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 'tr':\n\t\t\t\t\t\t\t\t\t\tn = parseFloat(value);\n\n\t\t\t\t\t\t\t\t\t\tif (n > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tparams.opacity = 1 - n;\n\t\t\t\t\t\t\t\t\t\t\t\tparams.transparent = true;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.materials[materialName] = new __WEBPACK_IMPORTED_MODULE_0_three__[\"B\" /* MeshPhongMaterial */](params);\n\t\t\t\treturn this.materials[materialName];\n\t\t},\n\n\t\tgetTextureParams: function getTextureParams(value, matParams) {\n\n\t\t\t\tvar texParams = {\n\n\t\t\t\t\t\tscale: new __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* Vector2 */](1, 1),\n\t\t\t\t\t\toffset: new __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* Vector2 */](0, 0)\n\n\t\t\t\t};\n\n\t\t\t\tvar items = value.split(/\\s+/);\n\t\t\t\tvar pos;\n\n\t\t\t\tpos = items.indexOf('-bm');\n\n\t\t\t\tif (pos >= 0) {\n\n\t\t\t\t\t\tmatParams.bumpScale = parseFloat(items[pos + 1]);\n\t\t\t\t\t\titems.splice(pos, 2);\n\t\t\t\t}\n\n\t\t\t\tpos = items.indexOf('-s');\n\n\t\t\t\tif (pos >= 0) {\n\n\t\t\t\t\t\ttexParams.scale.set(parseFloat(items[pos + 1]), parseFloat(items[pos + 2]));\n\t\t\t\t\t\titems.splice(pos, 4);\n\t\t\t\t}\n\n\t\t\t\tpos = items.indexOf('-o');\n\n\t\t\t\tif (pos >= 0) {\n\n\t\t\t\t\t\ttexParams.offset.set(parseFloat(items[pos + 1]), parseFloat(items[pos + 2]));\n\t\t\t\t\t\titems.splice(pos, 4);\n\t\t\t\t}\n\n\t\t\t\ttexParams.url = items.join(' ').trim();\n\t\t\t\treturn texParams;\n\t\t},\n\n\t\tloadTexture: function loadTexture(url, mapping, onLoad, onProgress, onError) {\n\n\t\t\t\tvar texture;\n\t\t\t\tvar loader = LoaderHandlers.get(url);\n\t\t\t\tvar manager = this.manager !== undefined ? this.manager : __WEBPACK_IMPORTED_MODULE_0_three__[\"c\" /* DefaultLoadingManager */];\n\n\t\t\t\tif (loader === null) {\n\n\t\t\t\t\t\tloader = new __WEBPACK_IMPORTED_MODULE_0_three__[\"C\" /* TextureLoader */](manager);\n\t\t\t\t}\n\n\t\t\t\tif (loader.setCrossOrigin) loader.setCrossOrigin(this.crossOrigin);\n\t\t\t\ttexture = loader.load(url, onLoad, onProgress, onError);\n\n\t\t\t\tif (mapping !== undefined) texture.mapping = mapping;\n\n\t\t\t\treturn texture;\n\t\t}\n\n};\n\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OBJLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n\n\nvar OBJLoader = function OBJLoader(manager) {\n\n\t\t\t\tthis.manager = manager !== undefined ? manager : __WEBPACK_IMPORTED_MODULE_0_three__[\"c\" /* DefaultLoadingManager */];\n\n\t\t\t\tthis.materials = null;\n\n\t\t\t\tthis.regexp = {\n\t\t\t\t\t\t\t\tvertex_pattern: /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n\n\t\t\t\t\t\t\t\tnormal_pattern: /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n\n\t\t\t\t\t\t\t\tuv_pattern: /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n\n\t\t\t\t\t\t\t\tface_vertex: /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tface_vertex_uv: /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tface_vertex_uv_normal: /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tface_vertex_normal: /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tobject_pattern: /^[og]\\s*(.+)?/,\n\n\t\t\t\t\t\t\t\tsmoothing_pattern: /^s\\s+(\\d+|on|off)/,\n\n\t\t\t\t\t\t\t\tmaterial_library_pattern: /^mtllib /,\n\n\t\t\t\t\t\t\t\tmaterial_use_pattern: /^usemtl /\n\t\t\t\t};\n};\n\nOBJLoader.prototype = {\n\n\t\t\t\tconstructor: OBJLoader,\n\n\t\t\t\tload: function load(url, onLoad, onProgress, onError) {\n\n\t\t\t\t\t\t\t\tvar scope = this;\n\n\t\t\t\t\t\t\t\tvar loader = new __WEBPACK_IMPORTED_MODULE_0_three__[\"d\" /* FileLoader */](scope.manager);\n\t\t\t\t\t\t\t\tloader.setPath(this.path);\n\t\t\t\t\t\t\t\tloader.load(url, function (text) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tonLoad(scope.parse(text));\n\t\t\t\t\t\t\t\t}, onProgress, onError);\n\t\t\t\t},\n\n\t\t\t\tsetPath: function setPath(value) {\n\n\t\t\t\t\t\t\t\tthis.path = value;\n\t\t\t\t},\n\n\t\t\t\tsetMaterials: function setMaterials(materials) {\n\n\t\t\t\t\t\t\t\tthis.materials = materials;\n\t\t\t\t},\n\n\t\t\t\t_createParserState: function _createParserState() {\n\n\t\t\t\t\t\t\t\tvar state = {\n\t\t\t\t\t\t\t\t\t\t\t\tobjects: [],\n\t\t\t\t\t\t\t\t\t\t\t\tobject: {},\n\n\t\t\t\t\t\t\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\t\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\t\t\t\t\t\t\tuvs: [],\n\n\t\t\t\t\t\t\t\t\t\t\t\tmaterialLibraries: [],\n\n\t\t\t\t\t\t\t\t\t\t\t\tstartObject: function startObject(name, fromDeclaration) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.object && this.object.fromDeclaration === false) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.fromDeclaration = fromDeclaration !== false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar previousMaterial = this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.object && typeof this.object._finalize === 'function') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object._finalize(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfromDeclaration: fromDeclaration !== false,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeometry: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuvs: []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterials: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartMaterial: function startMaterial(name, libraries) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar previous = this._finalize(false);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (previous && (previous.inherited || previous.groupCount <= 0)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.splice(previous.index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar material = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmtllib: Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: previous !== undefined ? previous.smooth : this.smooth,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupStart: previous !== undefined ? previous.groupEnd : 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupEnd: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupCount: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclone: function clone(index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar cloned = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex: typeof index === 'number' ? index : this.index,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupEnd: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupCount: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind(cloned);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn cloned;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.push(material);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn material;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentMaterial: function currentMaterial() {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.materials.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn this.materials[this.materials.length - 1];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_finalize: function _finalize(end) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (end && this.materials.length > 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var mi = this.materials.length - 1; mi >= 0; mi--) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.materials[mi].groupCount <= 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.splice(mi, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (end && this.materials.length === 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn lastMultiMaterial;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === \"function\") {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar declared = previousMaterial.clone(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.materials.push(declared);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.objects.push(this.object);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tfinalize: function finalize() {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.object && typeof this.object._finalize === 'function') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object._finalize(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tparseVertexIndex: function parseVertexIndex(value, len) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 3) * 3;\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tparseNormalIndex: function parseNormalIndex(value, len) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 3) * 3;\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tparseUVIndex: function parseUVIndex(value, len) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 2) * 2;\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddVertex: function addVertex(a, b, c) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.vertices;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddVertexLine: function addVertexLine(a) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.vertices;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddNormal: function addNormal(a, b, c) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.normals;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddUV: function addUV(a, b, c) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.uvs;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddUVLine: function addUVLine(a) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.uvs;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddFace: function addFace(a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ia = this.parseVertexIndex(a, vLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ib = this.parseVertexIndex(b, vLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ic = this.parseVertexIndex(c, vLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertex(ia, ib, ic);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = this.parseVertexIndex(d, vLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertex(ia, ib, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertex(ib, ic, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ua !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tia = this.parseUVIndex(ua, uvLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tib = this.parseUVIndex(ub, uvLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tic = this.parseUVIndex(uc, uvLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUV(ia, ib, ic);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = this.parseUVIndex(ud, uvLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUV(ia, ib, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUV(ib, ic, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (na !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar nLen = this.normals.length;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tia = this.parseNormalIndex(na, nLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex(nb, nLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex(nc, nLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addNormal(ia, ib, ic);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = this.parseNormalIndex(nd, nLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addNormal(ia, ib, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addNormal(ib, ic, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddLineGeometry: function addLineGeometry(vertices, uvs) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar vLen = this.vertices.length;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var vi = 0, l = vertices.length; vi < l; vi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var uvi = 0, l = uvs.length; uvi < l; uvi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tstate.startObject('', false);\n\n\t\t\t\t\t\t\t\treturn state;\n\t\t\t\t},\n\n\t\t\t\tparse: function parse(text) {\n\n\t\t\t\t\t\t\t\tconsole.time('OBJLoader');\n\n\t\t\t\t\t\t\t\tvar state = this._createParserState();\n\n\t\t\t\t\t\t\t\tif (text.indexOf('\\r\\n') !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\ttext = text.replace(/\\r\\n/g, '\\n');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (text.indexOf('\\\\\\n') !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\ttext = text.replace(/\\\\\\n/g, '');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar lines = text.split('\\n');\n\t\t\t\t\t\t\t\tvar line = '',\n\t\t\t\t\t\t\t\t    lineFirstChar = '',\n\t\t\t\t\t\t\t\t    lineSecondChar = '';\n\t\t\t\t\t\t\t\tvar lineLength = 0;\n\t\t\t\t\t\t\t\tvar result = [];\n\n\t\t\t\t\t\t\t\tvar trimLeft = typeof ''.trimLeft === 'function';\n\n\t\t\t\t\t\t\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tline = lines[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\t\t\t\t\t\t\t\t\t\tlineLength = line.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (lineLength === 0) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tlineFirstChar = line.charAt(0);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (lineFirstChar === '#') continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (lineFirstChar === 'v') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineSecondChar = line.charAt(1);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (lineSecondChar === ' ' && (result = this.regexp.vertex_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.vertices.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineSecondChar === 'n' && (result = this.regexp.normal_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.normals.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineSecondChar === 't' && (result = this.regexp.uv_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.uvs.push(parseFloat(result[1]), parseFloat(result[2]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Unexpected vertex/normal/uv line: '\" + line + \"'\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineFirstChar === \"f\") {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((result = this.regexp.face_vertex_uv_normal.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[4], result[7], result[10], result[2], result[5], result[8], result[11], result[3], result[6], result[9], result[12]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.face_vertex_uv.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[3], result[5], result[7], result[2], result[4], result[6], result[8]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.face_vertex_normal.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[3], result[5], result[7], undefined, undefined, undefined, undefined, result[2], result[4], result[6], result[8]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.face_vertex.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[2], result[3], result[4]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Unexpected face line: '\" + line + \"'\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineFirstChar === \"l\") {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar lineParts = line.substring(1).trim().split(\" \");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar lineVertices = [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    lineUVs = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (line.indexOf(\"/\") === -1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineVertices = lineParts;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var li = 0, llen = lineParts.length; li < llen; li++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar parts = lineParts[li].split(\"/\");\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parts[0] !== \"\") lineVertices.push(parts[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parts[1] !== \"\") lineUVs.push(parts[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addLineGeometry(lineVertices, lineUVs);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.object_pattern.exec(line)) !== null) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar name = (\" \" + result[0].substr(1).trim()).substr(1);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.startObject(name);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (this.regexp.material_use_pattern.test(line)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (this.regexp.material_library_pattern.test(line)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.materialLibraries.push(line.substring(7).trim());\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.smoothing_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar value = result[1].trim().toLowerCase();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.object.smooth = value === '1' || value === 'on';\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (material) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.smooth = state.object.smooth;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (line === '\\0') continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Unexpected line: '\" + line + \"'\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tstate.finalize();\n\n\t\t\t\t\t\t\t\tvar container = new __WEBPACK_IMPORTED_MODULE_0_three__[\"J\" /* Group */]();\n\t\t\t\t\t\t\t\tcontainer.materialLibraries = [].concat(state.materialLibraries);\n\n\t\t\t\t\t\t\t\tfor (var i = 0, l = state.objects.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar object = state.objects[i];\n\t\t\t\t\t\t\t\t\t\t\t\tvar geometry = object.geometry;\n\t\t\t\t\t\t\t\t\t\t\t\tvar materials = object.materials;\n\t\t\t\t\t\t\t\t\t\t\t\tvar isLine = geometry.type === 'Line';\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (geometry.vertices.length === 0) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar buffergeometry = new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferGeometry */]();\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(geometry.vertices), 3));\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (geometry.normals.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(geometry.normals), 3));\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (geometry.uvs.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addAttribute('uv', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(geometry.uvs), 2));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar createdMaterials = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sourceMaterial = materials[mi];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar material = undefined;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.materials !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = this.materials.create(sourceMaterial.name);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (isLine && material && !(material instanceof __WEBPACK_IMPORTED_MODULE_0_three__[\"K\" /* LineBasicMaterial */])) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar materialLine = new __WEBPACK_IMPORTED_MODULE_0_three__[\"K\" /* LineBasicMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterialLine.copy(material);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = materialLine;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!material) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = !isLine ? new __WEBPACK_IMPORTED_MODULE_0_three__[\"B\" /* MeshPhongMaterial */]() : new __WEBPACK_IMPORTED_MODULE_0_three__[\"K\" /* LineBasicMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.shading = sourceMaterial.smooth ? __WEBPACK_IMPORTED_MODULE_0_three__[\"L\" /* SmoothShading */] : __WEBPACK_IMPORTED_MODULE_0_three__[\"M\" /* FlatShading */];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcreatedMaterials.push(material);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar mesh;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (createdMaterials.length > 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sourceMaterial = materials[mi];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmesh = !isLine ? new __WEBPACK_IMPORTED_MODULE_0_three__[\"a\" /* Mesh */](buffergeometry, createdMaterials) : new __WEBPACK_IMPORTED_MODULE_0_three__[\"N\" /* LineSegments */](buffergeometry, createdMaterials);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmesh = !isLine ? new __WEBPACK_IMPORTED_MODULE_0_three__[\"a\" /* Mesh */](buffergeometry, createdMaterials[0]) : new __WEBPACK_IMPORTED_MODULE_0_three__[\"N\" /* LineSegments */](buffergeometry, createdMaterials[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tmesh.name = object.name;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcontainer.add(mesh);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconsole.timeEnd('OBJLoader');\n\n\t\t\t\t\t\t\t\treturn container;\n\t\t\t\t}\n\n};\n\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PLYLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n\n\nvar PLYLoader = function PLYLoader(manager) {\n\n\t\t\tthis.manager = manager !== undefined ? manager : __WEBPACK_IMPORTED_MODULE_0_three__[\"c\" /* DefaultLoadingManager */];\n\n\t\t\tthis.propertyNameMapping = {};\n};\n\nPLYLoader.prototype = {\n\n\t\t\tconstructor: PLYLoader,\n\n\t\t\tload: function load(url, onLoad, onProgress, onError) {\n\n\t\t\t\t\t\tvar scope = this;\n\n\t\t\t\t\t\tvar loader = new __WEBPACK_IMPORTED_MODULE_0_three__[\"d\" /* FileLoader */](this.manager);\n\t\t\t\t\t\tloader.setResponseType('arraybuffer');\n\t\t\t\t\t\tloader.load(url, function (text) {\n\n\t\t\t\t\t\t\t\t\tonLoad(scope.parse(text));\n\t\t\t\t\t\t}, onProgress, onError);\n\t\t\t},\n\n\t\t\tsetPropertyNameMapping: function setPropertyNameMapping(mapping) {\n\n\t\t\t\t\t\tthis.propertyNameMapping = mapping;\n\t\t\t},\n\n\t\t\tparse: function parse(data) {\n\n\t\t\t\t\t\tfunction bin2str(buf) {\n\n\t\t\t\t\t\t\t\t\tvar array_buffer = new Uint8Array(buf);\n\n\t\t\t\t\t\t\t\t\tif (window.TextDecoder !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn new TextDecoder().decode(array_buffer);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar str = '';\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0, il = buf.byteLength; i < il; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tstr += String.fromCharCode(array_buffer[i]);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn str;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseHeader(data) {\n\n\t\t\t\t\t\t\t\t\tvar patternHeader = /ply([\\s\\S]*)end_header\\s/;\n\t\t\t\t\t\t\t\t\tvar headerText = '';\n\t\t\t\t\t\t\t\t\tvar headerLength = 0;\n\t\t\t\t\t\t\t\t\tvar result = patternHeader.exec(data);\n\n\t\t\t\t\t\t\t\t\tif (result !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\theaderText = result[1];\n\t\t\t\t\t\t\t\t\t\t\t\theaderLength = result[0].length;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar header = {\n\t\t\t\t\t\t\t\t\t\t\t\tcomments: [],\n\t\t\t\t\t\t\t\t\t\t\t\telements: [],\n\t\t\t\t\t\t\t\t\t\t\t\theaderLength: headerLength\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar lines = headerText.split('\\n');\n\t\t\t\t\t\t\t\t\tvar currentElement;\n\t\t\t\t\t\t\t\t\tvar lineType, lineValues;\n\n\t\t\t\t\t\t\t\t\tfunction make_ply_element_property(propertValues, propertyNameMapping) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar property = { type: propertValues[0] };\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (property.type === 'list') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty.name = propertValues[3];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty.countType = propertValues[1];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty.itemType = propertValues[2];\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty.name = propertValues[1];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (property.name in propertyNameMapping) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty.name = propertyNameMapping[property.name];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn property;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < lines.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar line = lines[i];\n\t\t\t\t\t\t\t\t\t\t\t\tline = line.trim();\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (line === '') continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tlineValues = line.split(/\\s+/);\n\t\t\t\t\t\t\t\t\t\t\t\tlineType = lineValues.shift();\n\t\t\t\t\t\t\t\t\t\t\t\tline = lineValues.join(' ');\n\n\t\t\t\t\t\t\t\t\t\t\t\tswitch (lineType) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'format':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theader.format = lineValues[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theader.version = lineValues[1];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'comment':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theader.comments.push(line);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'element':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (currentElement !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theader.elements.push(currentElement);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElement = {};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElement.name = lineValues[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElement.count = parseInt(lineValues[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElement.properties = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase 'property':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElement.properties.push(make_ply_element_property(lineValues, scope.propertyNameMapping));\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('unhandled', lineType, lineValues);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (currentElement !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\theader.elements.push(currentElement);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn header;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseASCIINumber(n, type) {\n\n\t\t\t\t\t\t\t\t\tswitch (type) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'char':case 'uchar':case 'short':case 'ushort':case 'int':case 'uint':\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'int8':case 'uint8':case 'int16':case 'uint16':case 'int32':case 'uint32':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn parseInt(n);\n\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'float':case 'double':case 'float32':case 'float64':\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn parseFloat(n);\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseASCIIElement(properties, line) {\n\n\t\t\t\t\t\t\t\t\tvar values = line.split(/\\s+/);\n\n\t\t\t\t\t\t\t\t\tvar element = {};\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < properties.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (properties[i].type === 'list') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar list = [];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar n = parseASCIINumber(values.shift(), properties[i].countType);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < n; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist.push(parseASCIINumber(values.shift(), properties[i].itemType));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement[properties[i].name] = list;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement[properties[i].name] = parseASCIINumber(values.shift(), properties[i].type);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseASCII(data, header) {\n\n\t\t\t\t\t\t\t\t\tvar buffer = {\n\t\t\t\t\t\t\t\t\t\t\t\tindices: [],\n\t\t\t\t\t\t\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\t\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\t\t\t\t\t\t\tuvs: [],\n\t\t\t\t\t\t\t\t\t\t\t\tcolors: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar result;\n\n\t\t\t\t\t\t\t\t\tvar patternBody = /end_header\\s([\\s\\S]*)$/;\n\t\t\t\t\t\t\t\t\tvar body = '';\n\t\t\t\t\t\t\t\t\tif ((result = patternBody.exec(data)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tbody = result[1];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar lines = body.split('\\n');\n\t\t\t\t\t\t\t\t\tvar currentElement = 0;\n\t\t\t\t\t\t\t\t\tvar currentElementCount = 0;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < lines.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar line = lines[i];\n\t\t\t\t\t\t\t\t\t\t\t\tline = line.trim();\n\t\t\t\t\t\t\t\t\t\t\t\tif (line === '') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (currentElementCount >= header.elements[currentElement].count) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElement++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentElementCount = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar element = parseASCIIElement(header.elements[currentElement].properties, line);\n\n\t\t\t\t\t\t\t\t\t\t\t\thandleElement(buffer, header.elements[currentElement].name, element);\n\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentElementCount++;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn postProcess(buffer);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction postProcess(buffer) {\n\n\t\t\t\t\t\t\t\t\tvar geometry = new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferGeometry */]();\n\n\t\t\t\t\t\t\t\t\tif (buffer.indices.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.setIndex(buffer.indices);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tgeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* Float32BufferAttribute */](buffer.vertices, 3));\n\n\t\t\t\t\t\t\t\t\tif (buffer.normals.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* Float32BufferAttribute */](buffer.normals, 3));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (buffer.uvs.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.addAttribute('uv', new __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* Float32BufferAttribute */](buffer.uvs, 2));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (buffer.colors.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tgeometry.addAttribute('color', new __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* Float32BufferAttribute */](buffer.colors, 3));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\t\t\t\t\t\t\treturn geometry;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction handleElement(buffer, elementName, element) {\n\n\t\t\t\t\t\t\t\t\tif (elementName === 'vertex') {\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuffer.vertices.push(element.x, element.y, element.z);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ('nx' in element && 'ny' in element && 'nz' in element) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffer.normals.push(element.nx, element.ny, element.nz);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ('s' in element && 't' in element) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffer.uvs.push(element.s, element.t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif ('red' in element && 'green' in element && 'blue' in element) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffer.colors.push(element.red / 255.0, element.green / 255.0, element.blue / 255.0);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if (elementName === 'face') {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar vertex_indices = element.vertex_indices || element.vertex_index;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (vertex_indices.length === 3) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffer.indices.push(vertex_indices[0], vertex_indices[1], vertex_indices[2]);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (vertex_indices.length === 4) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffer.indices.push(vertex_indices[0], vertex_indices[1], vertex_indices[3]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffer.indices.push(vertex_indices[1], vertex_indices[2], vertex_indices[3]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction binaryRead(dataview, at, type, little_endian) {\n\n\t\t\t\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'int8':case 'char':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getInt8(at), 1];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'uint8':case 'uchar':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getUint8(at), 1];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'int16':case 'short':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getInt16(at, little_endian), 2];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'uint16':case 'ushort':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getUint16(at, little_endian), 2];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'int32':case 'int':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getInt32(at, little_endian), 4];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'uint32':case 'uint':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getUint32(at, little_endian), 4];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'float32':case 'float':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getFloat32(at, little_endian), 4];\n\t\t\t\t\t\t\t\t\t\t\t\tcase 'float64':case 'double':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn [dataview.getFloat64(at, little_endian), 8];\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction binaryReadElement(dataview, at, properties, little_endian) {\n\n\t\t\t\t\t\t\t\t\tvar element = {};\n\t\t\t\t\t\t\t\t\tvar result,\n\t\t\t\t\t\t\t\t\t    read = 0;\n\n\t\t\t\t\t\t\t\t\tfor (var i = 0; i < properties.length; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (properties[i].type === 'list') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar list = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult = binaryRead(dataview, at + read, properties[i].countType, little_endian);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar n = result[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tread += result[1];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < n; j++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult = binaryRead(dataview, at + read, properties[i].itemType, little_endian);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist.push(result[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tread += result[1];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement[properties[i].name] = list;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult = binaryRead(dataview, at + read, properties[i].type, little_endian);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement[properties[i].name] = result[0];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tread += result[1];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn [element, read];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction parseBinary(data, header) {\n\n\t\t\t\t\t\t\t\t\tvar buffer = {\n\t\t\t\t\t\t\t\t\t\t\t\tindices: [],\n\t\t\t\t\t\t\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\t\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\t\t\t\t\t\t\tuvs: [],\n\t\t\t\t\t\t\t\t\t\t\t\tcolors: []\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar little_endian = header.format === 'binary_little_endian';\n\t\t\t\t\t\t\t\t\tvar body = new DataView(data, header.headerLength);\n\t\t\t\t\t\t\t\t\tvar result,\n\t\t\t\t\t\t\t\t\t    loc = 0;\n\n\t\t\t\t\t\t\t\t\tfor (var currentElement = 0; currentElement < header.elements.length; currentElement++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var currentElementCount = 0; currentElementCount < header.elements[currentElement].count; currentElementCount++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult = binaryReadElement(body, loc, header.elements[currentElement].properties, little_endian);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloc += result[1];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar element = result[0];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleElement(buffer, header.elements[currentElement].name, element);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn postProcess(buffer);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar geometry;\n\t\t\t\t\t\tvar scope = this;\n\n\t\t\t\t\t\tif (data instanceof ArrayBuffer) {\n\n\t\t\t\t\t\t\t\t\tvar text = bin2str(data);\n\t\t\t\t\t\t\t\t\tvar header = parseHeader(text);\n\n\t\t\t\t\t\t\t\t\tgeometry = header.format === 'ascii' ? parseASCII(text, header) : parseBinary(data, header);\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tgeometry = parseASCII(data, parseHeader(data));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn geometry;\n\t\t\t}\n\n};\n\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return STLLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(1);\n\n\nvar STLLoader = function STLLoader(manager) {\n\n\t\tthis.manager = manager !== undefined ? manager : __WEBPACK_IMPORTED_MODULE_0_three__[\"c\" /* DefaultLoadingManager */];\n};\n\nSTLLoader.prototype = {\n\n\t\tconstructor: STLLoader,\n\n\t\tload: function load(url, onLoad, onProgress, onError) {\n\n\t\t\t\tvar scope = this;\n\n\t\t\t\tvar loader = new __WEBPACK_IMPORTED_MODULE_0_three__[\"d\" /* FileLoader */](scope.manager);\n\t\t\t\tloader.setResponseType('arraybuffer');\n\t\t\t\tloader.load(url, function (text) {\n\n\t\t\t\t\t\tonLoad(scope.parse(text));\n\t\t\t\t}, onProgress, onError);\n\t\t},\n\n\t\tparse: function parse(data) {\n\n\t\t\t\tvar isBinary = function isBinary() {\n\n\t\t\t\t\t\tvar expect, face_size, n_faces, reader;\n\t\t\t\t\t\treader = new DataView(binData);\n\t\t\t\t\t\tface_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n\t\t\t\t\t\tn_faces = reader.getUint32(80, true);\n\t\t\t\t\t\texpect = 80 + 32 / 8 + n_faces * face_size;\n\n\t\t\t\t\t\tif (expect === reader.byteLength) {\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar solid = [115, 111, 108, 105, 100];\n\n\t\t\t\t\t\tfor (var i = 0; i < 5; i++) {\n\n\t\t\t\t\t\t\t\tif (solid[i] != reader.getUint8(i, false)) return true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\tvar binData = this.ensureBinary(data);\n\n\t\t\t\treturn isBinary() ? this.parseBinary(binData) : this.parseASCII(this.ensureString(data));\n\t\t},\n\n\t\tparseBinary: function parseBinary(data) {\n\n\t\t\t\tvar reader = new DataView(data);\n\t\t\t\tvar faces = reader.getUint32(80, true);\n\n\t\t\t\tvar r,\n\t\t\t\t    g,\n\t\t\t\t    b,\n\t\t\t\t    hasColors = false,\n\t\t\t\t    colors;\n\t\t\t\tvar defaultR, defaultG, defaultB, alpha;\n\n\t\t\t\tfor (var index = 0; index < 80 - 10; index++) {\n\n\t\t\t\t\t\tif (reader.getUint32(index, false) == 0x434F4C4F && reader.getUint8(index + 4) == 0x52 && reader.getUint8(index + 5) == 0x3D) {\n\n\t\t\t\t\t\t\t\thasColors = true;\n\t\t\t\t\t\t\t\tcolors = [];\n\n\t\t\t\t\t\t\t\tdefaultR = reader.getUint8(index + 6) / 255;\n\t\t\t\t\t\t\t\tdefaultG = reader.getUint8(index + 7) / 255;\n\t\t\t\t\t\t\t\tdefaultB = reader.getUint8(index + 8) / 255;\n\t\t\t\t\t\t\t\talpha = reader.getUint8(index + 9) / 255;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar dataOffset = 84;\n\t\t\t\tvar faceLength = 12 * 4 + 2;\n\n\t\t\t\tvar geometry = new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferGeometry */]();\n\n\t\t\t\tvar vertices = [];\n\t\t\t\tvar normals = [];\n\n\t\t\t\tfor (var face = 0; face < faces; face++) {\n\n\t\t\t\t\t\tvar start = dataOffset + face * faceLength;\n\t\t\t\t\t\tvar normalX = reader.getFloat32(start, true);\n\t\t\t\t\t\tvar normalY = reader.getFloat32(start + 4, true);\n\t\t\t\t\t\tvar normalZ = reader.getFloat32(start + 8, true);\n\n\t\t\t\t\t\tif (hasColors) {\n\n\t\t\t\t\t\t\t\tvar packedColor = reader.getUint16(start + 48, true);\n\n\t\t\t\t\t\t\t\tif ((packedColor & 0x8000) === 0) {\n\n\t\t\t\t\t\t\t\t\t\tr = (packedColor & 0x1F) / 31;\n\t\t\t\t\t\t\t\t\t\tg = (packedColor >> 5 & 0x1F) / 31;\n\t\t\t\t\t\t\t\t\t\tb = (packedColor >> 10 & 0x1F) / 31;\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tr = defaultR;\n\t\t\t\t\t\t\t\t\t\tg = defaultG;\n\t\t\t\t\t\t\t\t\t\tb = defaultB;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var i = 1; i <= 3; i++) {\n\n\t\t\t\t\t\t\t\tvar vertexstart = start + i * 12;\n\n\t\t\t\t\t\t\t\tvertices.push(reader.getFloat32(vertexstart, true));\n\t\t\t\t\t\t\t\tvertices.push(reader.getFloat32(vertexstart + 4, true));\n\t\t\t\t\t\t\t\tvertices.push(reader.getFloat32(vertexstart + 8, true));\n\n\t\t\t\t\t\t\t\tnormals.push(normalX, normalY, normalZ);\n\n\t\t\t\t\t\t\t\tif (hasColors) {\n\n\t\t\t\t\t\t\t\t\t\tcolors.push(r, g, b);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(vertices), 3));\n\t\t\t\tgeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(normals), 3));\n\n\t\t\t\tif (hasColors) {\n\n\t\t\t\t\t\tgeometry.addAttribute('color', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(colors), 3));\n\t\t\t\t\t\tgeometry.hasColors = true;\n\t\t\t\t\t\tgeometry.alpha = alpha;\n\t\t\t\t}\n\n\t\t\t\treturn geometry;\n\t\t},\n\n\t\tparseASCII: function parseASCII(data) {\n\n\t\t\t\tvar geometry, length, patternFace, patternNormal, patternVertex, result, text;\n\t\t\t\tgeometry = new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferGeometry */]();\n\t\t\t\tpatternFace = /facet([\\s\\S]*?)endfacet/g;\n\n\t\t\t\tvar vertices = [];\n\t\t\t\tvar normals = [];\n\n\t\t\t\tvar normal = new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* Vector3 */]();\n\n\t\t\t\twhile ((result = patternFace.exec(data)) !== null) {\n\n\t\t\t\t\t\ttext = result[0];\n\t\t\t\t\t\tpatternNormal = /normal[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\n\n\t\t\t\t\t\twhile ((result = patternNormal.exec(text)) !== null) {\n\n\t\t\t\t\t\t\t\tnormal.x = parseFloat(result[1]);\n\t\t\t\t\t\t\t\tnormal.y = parseFloat(result[3]);\n\t\t\t\t\t\t\t\tnormal.z = parseFloat(result[5]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpatternVertex = /vertex[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\n\n\t\t\t\t\t\twhile ((result = patternVertex.exec(text)) !== null) {\n\n\t\t\t\t\t\t\t\tvertices.push(parseFloat(result[1]), parseFloat(result[3]), parseFloat(result[5]));\n\t\t\t\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(vertices), 3));\n\t\t\t\tgeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* BufferAttribute */](new Float32Array(normals), 3));\n\n\t\t\t\treturn geometry;\n\t\t},\n\n\t\tensureString: function ensureString(buf) {\n\n\t\t\t\tif (typeof buf !== \"string\") {\n\n\t\t\t\t\t\tvar array_buffer = new Uint8Array(buf);\n\t\t\t\t\t\tvar strArray = [];\n\t\t\t\t\t\tfor (var i = 0; i < buf.byteLength; i++) {\n\n\t\t\t\t\t\t\t\tstrArray.push(String.fromCharCode(array_buffer[i]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn strArray.join('');\n\t\t\t\t} else {\n\n\t\t\t\t\t\treturn buf;\n\t\t\t\t}\n\t\t},\n\n\t\tensureBinary: function ensureBinary(buf) {\n\n\t\t\t\tif (typeof buf === \"string\") {\n\n\t\t\t\t\t\tvar array_buffer = new Uint8Array(buf.length);\n\t\t\t\t\t\tfor (var i = 0; i < buf.length; i++) {\n\n\t\t\t\t\t\t\t\tarray_buffer[i] = buf.charCodeAt(i) & 0xff;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn array_buffer.buffer || array_buffer;\n\t\t\t\t} else {\n\n\t\t\t\t\t\treturn buf;\n\t\t\t\t}\n\t\t}\n\n};\n\n\n\n/***/ }),\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(12)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".background-text{position:absolute;top:50%;left:0;z-index:1;width:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:center;font-size:60px}.background-buttons{position:absolute;top:0;left:10px;z-index:3}.background-buttons>p{margin-top:15px;color:#000}.background-buttons>button{background:#fff;padding:4px 6px;margin-top:5px;outline:none;border:1px solid #c4c4c4}.model-box{position:relative;z-index:2}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(12)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".demo-block{width:100%;height:100%;background-color:#fff;border-radius:3px}.demo-block .demo-block-preview{width:50%;height:100%;float:left;position:relative}.demo-block .demo-block-code{width:50%;height:100%;background:#f9fafc;border-left:1px solid #dfe2e7;font-size:13px;float:left}.demo-block .demo-block-code pre code{font:normal 10pt Consolas,Monaco,monospace}.demo-block .demo-block-code .demo-block-code-box{width:100%;height:50%;position:relative;overflow:hidden}.demo-block .demo-block-code-box:after{content:\\\"\\\";display:block;position:absolute;bottom:0;left:0;width:90%;height:1px;background:-webkit-linear-gradient(left,#dfe2e7 80%,rgba(223,226,231,0))}.demo-block .demo-block-code-box h3{width:100%;padding:10px 20px;font-size:16px;font-weight:700;position:absolute}.demo-block .demo-block-code-box-content{position:absolute;top:40px;bottom:10px;left:20px;right:20px;overflow:auto}.demo-block .demo-block-code code{position:absolute;top:0;left:0}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(12)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"*{margin:0;border:0;padding:0;box-sizing:border-box}li,ol,ul{list-style:none}a{color:#657180;text-decoration:none}.examples,body,html{width:100%;height:100%;color:#657180}body{background:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background:#fff}.examples-header{position:absolute;top:0;width:100%;background:#f3f6fb;text-shadow:0 1px 0 hsla(0,0%,100%,.5);border-bottom:1px solid #dfe2e7;padding:15px 15px 15px 30px;line-height:20px}.examples-header .title{font-weight:700;font-size:18px;display:inline-block}.examples-header .github{color:#39f;display:inline-block;font-size:12px;float:right}.examples-content{width:100%;height:100%;padding-top:52px;overflow:hidden}.examples-menu{float:left;width:230px;height:100%;border-right:1px solid #dfe2e7;padding:10px 30px}.examples-menu .examples-menu-item{display:block;width:100%;height:30px;line-height:30px;font-size:14px;cursor:pointer}.examples-menu .examples-menu-item>a{display:block;width:100%;height:100%}.examples-menu .examples-menu-title{display:block;width:100%;padding:6px 0;margin-top:10px;font-size:14px;font-weight:700}.examples-menu .examples-menu-item:hover>a{color:#39f}.examples-pages{height:100%;overflow:hidden}.example-loading{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.example-loading:before{border-radius:100%;margin:2px;border:3px solid #20a0ff;border-bottom-color:transparent;height:36px;width:36px;-webkit-animation:loading-rotate .75s 0s linear infinite;animation:loading-rotate .75s 0s linear infinite}.example-loading:after,.example-loading:before{content:\\\"\\\";display:inline-block;vertical-align:middle}.example-loading:after{height:100%;width:0}@-webkit-keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}@keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */,\n/* 221 */,\n/* 222 */,\n/* 223 */,\n/* 224 */,\n/* 225 */,\n/* 226 */,\n/* 227 */,\n/* 228 */,\n/* 229 */,\n/* 230 */,\n/* 231 */,\n/* 232 */,\n/* 233 */,\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */,\n/* 238 */,\n/* 239 */,\n/* 240 */,\n/* 241 */,\n/* 242 */,\n/* 243 */,\n/* 244 */,\n/* 245 */,\n/* 246 */,\n/* 247 */,\n/* 248 */,\n/* 249 */,\n/* 250 */,\n/* 251 */,\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */,\n/* 256 */,\n/* 257 */,\n/* 258 */,\n/* 259 */,\n/* 260 */,\n/* 261 */,\n/* 262 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(289)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(32),\n  /* template */\n  __webpack_require__(279),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 263 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(33),\n  /* template */\n  __webpack_require__(278),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 264 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(34),\n  /* template */\n  __webpack_require__(282),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 265 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(35),\n  /* template */\n  __webpack_require__(287),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 266 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(36),\n  /* template */\n  __webpack_require__(275),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 267 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(37),\n  /* template */\n  __webpack_require__(280),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 268 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(38),\n  /* template */\n  __webpack_require__(277),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 269 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(39),\n  /* template */\n  __webpack_require__(283),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 270 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(40),\n  /* template */\n  __webpack_require__(284),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 271 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(41),\n  /* template */\n  __webpack_require__(276),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 272 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(45),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 273 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(46),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 274 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(47),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 275 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 276 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-stl', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/stl/gear.stl\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 277 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 278 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-three', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/json/scene.json\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 279 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('p', {\n    staticClass: \"background-text\"\n  }, [_vm._v(\"\\n            Vue\"), _c('br'), _vm._v(\"3D\"), _c('br'), _vm._v(\"Model\"), _c('br'), _vm._v(\"Background\\n        \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-buttons\"\n  }, [_c('p', [_vm._v(\"Color\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgColor = '#ff0'\n      }\n    }\n  }, [_vm._v(\"#ff0\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgColor = '#f00'\n      }\n    }\n  }, [_vm._v(\"#f00\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgColor = '#13ce66'\n      }\n    }\n  }, [_vm._v(\"#13ce66\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Alpha\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgAlpha = 0.5\n      }\n    }\n  }, [_vm._v(\"0.5\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgAlpha = 1\n      }\n    }\n  }, [_vm._v(\"1\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgAlpha = 0\n      }\n    }\n  }, [_vm._v(\"0\")])]), _vm._v(\" \"), _c('model-obj', {\n    staticClass: \"model-box\",\n    attrs: {\n      \"backgroundAlpha\": _vm.bgAlpha,\n      \"backgroundColor\": _vm.bgColor,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/male02/male02.obj\",\n      \"mtl\": \"static/models/obj/male02/male02.mtl\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-block\"\n  }, [_c('div', {\n    staticClass: \"demo-block-preview\"\n  }, [_vm._t(\"preview\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code\"\n  }, [_c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"Vue Component & Webpack\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"vueCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.vueCode)))]), _vm._v(\"\\n                \")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"HTML & JS\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"htmlCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.htmlCode)))]), _vm._v(\"\\n                \")])])])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-collada', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"rotation\": _vm.rotation,\n      \"src\": \"static/models/collada/elf/elf.dae\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 283 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-ply', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"rotation\": _vm.rotation,\n      \"src\": \"static/models/ply/binary/Lucy100k.ply\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 284 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-collada', {\n    ref: \"collada\",\n    attrs: {\n      \"rotation\": _vm.rotation,\n      \"src\": \"static/models/collada/elf/elf.dae\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 285 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"examples-content\"\n  }, [_c('ul', {\n    staticClass: \"examples-menu\"\n  }, [_c('li', {\n    staticClass: \"examples-menu-title\"\n  }, [_vm._v(\"Examples\")]), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-basic\"\n    }\n  }, [_vm._v(\"basic\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-rotate\"\n    }\n  }, [_vm._v(\"rotate\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-background\"\n    }\n  }, [_vm._v(\"background\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-title\"\n  }, [_vm._v(\"Events\")]), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-event\"\n    }\n  }, [_vm._v(\"mousemove\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-title\"\n  }, [_vm._v(\"Model Formats\")]), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-basic\"\n    }\n  }, [_vm._v(\"JSON Model (.json)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-obj\"\n    }\n  }, [_vm._v(\"OBJ Model (.obj)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-obj-mtl\"\n    }\n  }, [_vm._v(\"OBJ + MTL (.obj + .mtl)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-stl\"\n    }\n  }, [_vm._v(\"STL Model (.stl)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-collada\"\n    }\n  }, [_vm._v(\"Collada Model (.dae)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-ply\"\n    }\n  }, [_vm._v(\"PLY Model (.ply)\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"examples-pages\"\n  }, [_c('router-view')], 1)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples-header\"\n  }, [_c('a', {\n    staticClass: \"title\",\n    attrs: {\n      \"href\": \"https://github.com/hujiulong/vue-3d-model\"\n    }\n  }, [_vm._v(\"Vue3DModel\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"github\",\n    attrs: {\n      \"href\": \"https://github.com/hujiulong/vue-3d-model\"\n    }\n  }, [_vm._v(\"View on GitHub\")])])\n}]}\n\n/***/ }),\n/* 286 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"border\": \"0\",\n      \"padding\": \"0\"\n    }\n  }, [(_vm.suportWebGL) ? _c('canvas', {\n    ref: \"canvas\",\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }\n  }) : _c('div', [_vm._t(\"default\", [_vm._v(\"\\n            Your browser does not seem to support \"), _c('a', {\n    staticStyle: {\n      \"color\": \"#000\"\n    },\n    attrs: {\n      \"href\": \"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\"\n    }\n  }, [_vm._v(\"WebGL\")]), _vm._v(\".\"), _c('br'), _vm._v(\"'\\n        \")])], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n/* 287 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    ref: \"model\",\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad,\n      \"on-mousemove\": _vm.onMouseMove\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n/***/ }),\n/* 288 */,\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(80);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(13)(\"cae0e19c\", content, true);\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(81);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(13)(\"4f0853e4\", content, true);\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(82);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(13)(\"3781cf10\", content, true);\n\n/***/ })\n],[28]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.e40141e2c17c568f4df6.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-5d8f5ef3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./demo-block.vue\")\n\nvar Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-block.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d8f5ef3\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-block.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/components/demo-block.vue\n// module id = 2\n// module chunks = 1","var Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./model-mixin.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b82a4cf6\\\"}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./model-mixin.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-mixin.vue\n// module id = 3\n// module chunks = 1","var Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./model-obj.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-obj.vue\n// module id = 4\n// module chunks = 1","import { Box3, Vector3, Vector2, BufferAttribute } from 'three';\r\n\r\nlet box = new Box3();\r\n\r\nfunction getSize( object ) {\r\n\r\n    box.setFromObject( object );\r\n\r\n    return box.getSize();\r\n}\r\n\r\nfunction getCenter( object ) {\r\n\r\n    box.setFromObject( object );\r\n\r\n    return box.getCenter();\r\n}\r\n\r\nfunction lightsDiff( lights, oldLights ) {\r\n\r\n}\r\n\r\nfunction toIndexed ( bufferGeometry ) {\r\n\r\n    var raw_positions = bufferGeometry.getAttribute( 'position' ).array;\r\n\r\n    var raw_uvs;\r\n    var hasUV = bufferGeometry.getAttribute( 'uv' ) !== undefined;\r\n    if ( hasUV ) raw_uvs = bufferGeometry.getAttribute( 'uv' ).array;\r\n\r\n    var raw_normals;\r\n    var hasNormal = bufferGeometry.getAttribute( 'normal' ) !== undefined;\r\n    if ( hasNormal ) raw_normals = bufferGeometry.getAttribute( 'normal' ).array;\r\n\r\n    var indices = [];\r\n    var vertices = [];\r\n    var normals = [];\r\n    var uvs = [];\r\n\r\n    var face, face_normalss, face_uvs, tmp_indices;\r\n\r\n    var v0 = new Vector3();\r\n    var v1 = new Vector3();\r\n    var v2 = new Vector3();\r\n\r\n    var n0 = new Vector3();\r\n    var n1 = new Vector3();\r\n    var n2 = new Vector3();\r\n\r\n    var uv0 = new Vector2();\r\n    var uv1 = new Vector2();\r\n    var uv2 = new Vector2();\r\n\r\n    for ( var i = 0; i < raw_positions.length; i += 9 ) {\r\n\r\n        v0.x = raw_positions[ i ];\r\n        v0.y = raw_positions[ i + 1 ];\r\n        v0.z = raw_positions[ i + 2 ];\r\n\r\n        v1.x = raw_positions[ i + 3 ];\r\n        v1.y = raw_positions[ i + 4 ];\r\n        v1.z = raw_positions[ i + 5 ];\r\n\r\n        v2.x = raw_positions[ i + 6 ];\r\n        v2.y = raw_positions[ i + 7 ];\r\n        v2.z = raw_positions[ i + 8 ];\r\n\r\n        face = [ v0, v1, v2 ];\r\n\r\n        if ( hasNormal ) {\r\n\r\n            n0.x = raw_normals[ i ];\r\n            n0.y = raw_normals[ i + 1 ];\r\n            n0.z = raw_normals[ i + 2 ];\r\n\r\n            n1.x = raw_normals[ i + 3 ];\r\n            n1.y = raw_normals[ i + 4 ];\r\n            n1.z = raw_normals[ i + 5 ];\r\n\r\n            n2.x = raw_normals[ i + 6 ];\r\n            n2.y = raw_normals[ i + 7 ];\r\n            n2.z = raw_normals[ i + 8 ];\r\n\r\n            face_normalss = [ n0, n1, n2 ];\r\n\r\n        }\r\n\r\n        if ( hasUV ) {\r\n\r\n            uv0.x = raw_uvs[ i ];\r\n            uv0.y = raw_uvs[ i + 1 ];\r\n\r\n            uv1.x = raw_uvs[ i + 2 ];\r\n            uv1.y = raw_uvs[ i + 3 ];\r\n\r\n            uv2.x = raw_uvs[ i + 4 ];\r\n            uv2.y = raw_uvs[ i + 5 ];\r\n\r\n            face_uvs = [ uv0, uv1, uv2 ];\r\n\r\n        }\r\n\r\n        tmp_indices = [];\r\n\r\n        face.forEach( function ( v, i ) {\r\n\r\n            var id = exists( v, vertices );\r\n            if ( id == -1 ) {\r\n\r\n                id = vertices.length;\r\n                vertices.push( v.clone() );\r\n\r\n                if ( hasNormal ) normals.push( face_normalss[ i ].clone() );\r\n                if ( hasUV ) uvs.push( face_uvs[ i ].clone() );\r\n\r\n            }\r\n            tmp_indices.push( id );\r\n\r\n        } );\r\n\r\n        indices.push( tmp_indices[ 0 ], tmp_indices[ 1 ], tmp_indices[ 2 ] );\r\n\r\n    }\r\n\r\n    var positionBuffer = new Float32Array( vertices.length * 3 );\r\n    if ( hasNormal ) var normalBuffer = new Float32Array( vertices.length * 3 );\r\n    if ( hasUV ) var uvBuffer = new Float32Array( vertices.length * 2 );\r\n\r\n    var i2 = 0;\r\n    var i3 = 0;\r\n    for ( i = 0; i < vertices.length; i++ ) {\r\n\r\n        i3 = i * 3;\r\n\r\n        positionBuffer[ i3 ] = vertices[ i ].x;\r\n        positionBuffer[ i3 + 1 ] = vertices[ i ].y;\r\n        positionBuffer[ i3 + 2 ] = vertices[ i ].z;\r\n\r\n        if ( hasNormal ) {\r\n\r\n            normalBuffer[ i3 ] = normals[ i ].x;\r\n            normalBuffer[ i3 + 1 ] = normals[ i ].y;\r\n            normalBuffer[ i3 + 2 ] = normals[ i ].z;\r\n\r\n        }\r\n\r\n        if ( hasUV ) {\r\n\r\n            i2 = i * 2;\r\n            uvBuffer[ i2 ] = uvs[ i ].x;\r\n            uvBuffer[ i2 + 1 ] = uvs[ i ].y;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    bufferGeometry.addAttribute( 'position', new BufferAttribute( positionBuffer, 3 ) );\r\n    if ( hasNormal ) bufferGeometry.addAttribute( 'normal', new BufferAttribute( normalBuffer, 3 ) );\r\n    if ( hasUV ) bufferGeometry.addAttribute( 'uv', new BufferAttribute( uvBuffer, 2 ) );\r\n    bufferGeometry.setIndex( new BufferAttribute( new Uint32Array( indices ), 1 ) );\r\n    return bufferGeometry;\r\n\r\n    function exists( v, vertices ) {\r\n        for ( var i = 0; i < vertices.length; i++ ) {\r\n            if ( v.equals( vertices[ i ] ) ) return i;\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\nexport { getSize, getCenter, toIndexed }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","var Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./model-collada.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-collada.vue\n// module id = 25\n// module chunks = 1","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n// import DemoBasic from '../pages/demo-basic'\r\n// import DemoEvent from '../pages/demo-event'\r\n// import DemoBackground from '../pages/demo-background'\r\n// import DemoRotate from '../pages/demo-rotate'\r\n// import DemoObj from '../pages/demo-obj'\r\n// // import DemoGltf from '../pages/demo-gltf'\r\n// import DemoStl from '../pages/demo-stl'\r\n// import DemoCollada from '../pages/demo-collada'\r\n// // import DemoSea3d from '../pages/demo-sea3d'\r\n// import DemoJson from '../pages/demo-json'\r\n\r\nimport { pages } from '../pages'\r\n\r\nVue.use( Router )\r\n\r\nconst routes = pages.map( page => {\r\n    \r\n    const name = page.name;\r\n\r\n    return {\r\n        path: `/${ name }`,\r\n        name,\r\n        component: page\r\n    }\r\n} )\r\n\r\nroutes.push( {\r\n    path: '*',\r\n    redirect: '/demo-basic'\r\n} )\r\n\r\nexport default new Router( { routes } )\n\n\n// WEBPACK FOOTER //\n// ./examples/router/index.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7a736b78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a736b78\\\"}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/App.vue\n// module id = 27\n// module chunks = 1","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  render: h => h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./examples/index.js","import DemoBasic from './demo-basic'\r\nimport DemoEvent from './demo-event'\r\nimport DemoBackground from './demo-background'\r\nimport DemoRotate from './demo-rotate'\r\nimport DemoObj from './demo-obj'\r\nimport DemoObjMtl from './demo-obj-mtl'\r\n// import DemoGltf from './demo-gltf'\r\nimport DemoStl from './demo-stl'\r\nimport DemoCollada from './demo-collada'\r\n// import DemoSea3d from './demo-sea3d'\r\nimport DemoJson from './demo-json'\r\nimport DemoPly from './demo-ply'\r\n\r\nconst pages = [\r\n    DemoBasic,\r\n    DemoEvent,\r\n    DemoBackground,\r\n    DemoRotate,\r\n    DemoObj,\r\n    DemoObjMtl,\r\n    DemoStl,\r\n    DemoCollada,\r\n    DemoJson,\r\n    DemoPly\r\n]\r\n\r\nexport { pages };\r\n\n\n\n// WEBPACK FOOTER //\n// ./examples/pages/index.js","<template>\r\n    <div class=\"examples\">\r\n        <div class=\"examples-header\">\r\n            <a href=\"https://github.com/hujiulong/vue-3d-model\" class=\"title\">Vue3DModel</a>\r\n            <a href=\"https://github.com/hujiulong/vue-3d-model\" class=\"github\">View on GitHub</a>\r\n        </div>\r\n        <div class=\"examples-content\">\r\n            <ul class=\"examples-menu\">\r\n                <li class=\"examples-menu-title\">Examples</li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-basic\">basic</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-rotate\">rotate</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-background\">background</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-title\">Events</li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-event\">mousemove</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-title\">Model Formats</li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-basic\">JSON Model (.json)</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-obj\">OBJ Model (.obj)</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-obj-mtl\">OBJ + MTL (.obj + .mtl)</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-stl\">STL Model (.stl)</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-collada\">Collada Model (.dae)</router-link>\r\n                </li>\r\n                <li class=\"examples-menu-item\">\r\n                    <router-link to=\"demo-ply\">PLY Model (.ply)</router-link>\r\n                </li>\r\n            </ul>\r\n            <div class=\"examples-pages\">\r\n                <router-view></router-view>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'app'\r\n}\r\n</script>\r\n<style>\r\n* {\r\n    margin: 0;\r\n    border: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nul, ol, li {\r\n    list-style: none;\r\n}\r\n\r\na {\r\n    color: #657180;\r\n    text-decoration: none;\r\n}\r\n\r\nhtml, body, .examples {\r\n    width: 100%;\r\n    height: 100%;\r\n    color: #657180;\r\n}\r\n\r\nbody {\r\n    background: #eee;\r\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\r\n                 \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",\r\n                 SimSun, sans-serif;\r\n    background: #fff;\r\n}\r\n\r\n.examples-header {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    background: #f3f6fb;\r\n    text-shadow: 0 1px 0 rgba(255,255,255,0.5);\r\n    border-bottom: solid 1px #dfe2e7;\r\n    padding: 15px 15px 15px 30px;\r\n    line-height: 20px;\r\n}\r\n\r\n.examples-header .title {\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    display: inline-block;\r\n}\r\n\r\n.examples-header .github {\r\n    color: #39f;\r\n    display: inline-block;\r\n    font-size: 12px;\r\n    float: right;\r\n}\r\n\r\n.examples-content {\r\n    width: 100%;\r\n    height: 100%;\r\n    padding-top: 52px;\r\n    overflow: hidden;\r\n}\r\n\r\n.examples-menu {\r\n    float: left;\r\n    width: 230px;\r\n    height: 100%;\r\n    border-right: solid 1px #dfe2e7;\r\n    padding: 10px 30px;\r\n}\r\n\r\n.examples-menu .examples-menu-item {\r\n    display: block;\r\n    width: 100%;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n\r\n.examples-menu .examples-menu-item > a {\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.examples-menu .examples-menu-title {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 6px 0;\r\n    margin-top: 10px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n}\r\n\r\n.examples-menu .examples-menu-item:hover > a {\r\n    color: #39f;\r\n}\r\n\r\n.examples-pages {\r\n    height: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.example-loading {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n}\r\n.example-loading::before {\r\n    content: '';\r\n    border-radius: 100%;\r\n    margin: 2px;\r\n    border: 3px solid #20a0ff;\r\n    border-bottom-color: transparent;\r\n    height: 36px;\r\n    width: 36px;\r\n    display: inline-block;\r\n    animation: loading-rotate .75s 0s linear infinite;\r\n    vertical-align: middle;\r\n}\r\n\r\n.example-loading::after {\r\n    content: '';\r\n    display: inline-block;\r\n    height: 100%;\r\n    width: 0;\r\n    vertical-align: middle;\r\n}\r\n\r\n@keyframes loading-rotate{\r\n    0% {\r\n        transform: rotate(0) scale(1);\r\n    }\r\n    50% {\r\n        transform: rotate(180deg) scale(.6);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg) scale(1);\r\n    }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?13c952c8","<template>\r\n    <div class=\"demo-block\">\r\n        <div class=\"demo-block-preview\">\r\n            <slot name=\"preview\"></slot>\r\n        </div>\r\n        <div class=\"demo-block-code\">\r\n            <div class=\"demo-block-code-box\">\r\n                <h3>Vue Component & Webpack</h3>\r\n                <div class=\"demo-block-code-box-content\">\r\n                    <pre>\r\n                        <code ref=\"vueCode\" class=\"html\">{{ vueCode | code }}</code>\r\n                    </pre>\r\n                </div>\r\n            </div>\r\n            <div class=\"demo-block-code-box\">\r\n                <h3>HTML & JS</h3>\r\n                <div class=\"demo-block-code-box-content\">\r\n                    <pre>\r\n                        <code ref=\"htmlCode\" class=\"html\">{{ htmlCode | code }}</code>\r\n                    </pre>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport 'highlight.js/styles/github.css';\r\nimport hljs from 'highlight.js'\r\n\r\nconst codeHandler = code => {\r\n    const scripts = `<script src=\"vue.js\"><\\/script>\r\n    <script src=\"vue-3d-model.min.js\"><\\/script>`;\r\n\r\n    return code.replace( /#scripts#/ig, scripts );\r\n}\r\n\r\nexport default {\r\n    name: 'app',\r\n    props: {\r\n        vueCode: String,\r\n        htmlCode: {\r\n            type: String,\r\n            default: '// TODO'\r\n        }\r\n    },\r\n    mounted () {\r\n        hljs.highlightBlock( this.$refs.vueCode );\r\n        hljs.highlightBlock( this.$refs.htmlCode );\r\n    },\r\n    data () {\r\n    \treturn {}\r\n    },\r\n    filters: {\r\n        code ( val ) {\r\n            return codeHandler( val );\r\n        }\r\n    },\r\n    components: {\r\n\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .demo-block {\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #fff;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .demo-block .demo-block-preview {\r\n        width: 50%;\r\n        height: 100%;\r\n        float: left;\r\n        position: relative;\r\n    }\r\n\r\n    .demo-block .demo-block-code {\r\n        width: 50%;\r\n        height: 100%;\r\n        background: #f9fafc;\r\n        border-left: solid 1px #dfe2e7;\r\n        font-size: 13px;\r\n        float: left;\r\n    }\r\n    \r\n\r\n    .demo-block .demo-block-code pre code {\r\n        font: normal 10pt Consolas, Monaco, monospace;\r\n    }\r\n\r\n\r\n    .demo-block .demo-block-code .demo-block-code-box {\r\n        width: 100%;\r\n        height: 50%;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .demo-block .demo-block-code-box::after {\r\n        content: '';\r\n        display: block;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 90%;\r\n        height: 1px;\r\n        background: -webkit-linear-gradient(left, #dfe2e7 80%, rgba(223,226,231,0) 100%);\r\n    }\r\n\r\n    .demo-block .demo-block-code-box h3 {\r\n        width: 100%;\r\n        padding: 10px 20px;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n        position: absolute;\r\n    }\r\n\r\n    .demo-block .demo-block-code-box-content {\r\n        position: absolute;\r\n        top: 40px;\r\n        bottom: 10px;\r\n        left: 20px;\r\n        right: 20px;\r\n        overflow: auto;\r\n    }\r\n\r\n    .demo-block .demo-block-code code {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-block.vue?efc057b8","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <p class=\"background-text\">\r\n                Vue<br>3D<br>Model<br>Background\r\n            </p>\r\n            <div class=\"background-buttons\">\r\n                <p>Color</p>\r\n                <button @click=\"bgColor = '#ff0'\">#ff0</button>\r\n                <button @click=\"bgColor = '#f00'\">#f00</button>\r\n                <button @click=\"bgColor = '#13ce66'\">#13ce66</button>\r\n                <p>Alpha</p>\r\n                <button @click=\"bgAlpha = 0.5\">0.5</button>\r\n                <button @click=\"bgAlpha = 1\">1</button>\r\n                <button @click=\"bgAlpha = 0\">0</button>\r\n            </div>\r\n            <model-obj\r\n                class=\"model-box\"\r\n                :backgroundAlpha=\"bgAlpha\"\r\n                :backgroundColor=\"bgColor\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/obj/tree.obj\"></model-obj>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n<style>\r\n    .background-text {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 0;\r\n        z-index: 1;\r\n        width: 100%;\r\n        transform: translateY(-50%);\r\n        text-align: center; \r\n        font-size: 60px;\r\n    }\r\n    .background-buttons {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 10px;\r\n        z-index: 3;\r\n    }\r\n\r\n    .background-buttons > p {\r\n        margin-top: 15px;\r\n        color: #000;\r\n    }\r\n\r\n    .background-buttons > button {\r\n        background: #fff;\r\n        padding: 4px 6px;\r\n        margin-top: 5px;\r\n        outline: none;\r\n        border: 1px solid #c4c4c4;\r\n    }\r\n\r\n    .model-box {\r\n        position: relative;\r\n        z-index: 2;\r\n    }\r\n</style>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelObj from '../../src/model-obj.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <p class=\"background-text\">\r\n        Vue<br>3D<br>Model<br>Background\r\n    </p>\r\n    <div class=\"background-buttons\">\r\n        <p>Color</p>\r\n        <button @click=\"bgColor = '#ff0'\">#ff0</button>\r\n        <button @click=\"bgColor = '#f00'\">#f00</button>\r\n        <button @click=\"bgColor = '#13ce66'\">#13ce66</button>\r\n        <p>Alpha</p>\r\n        <button @click=\"bgAlpha = 0.5\">0.5</button>\r\n        <button @click=\"bgAlpha = 1\">1</button>\r\n        <button @click=\"bgAlpha = 0\">0</button>\r\n    </div>\r\n    <model-obj\r\n        :backgroundAlpha=\"bgAlpha\"\r\n        :backgroundColor=\"bgColor\"\r\n        src=\"static/models/obj/tree.obj\"></model-obj>\r\n</template>\r\n\r\n<script>\r\n    import { ModelObj } from 'vue-3d-model'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                bgColor: '#ff0',\r\n                bgAlpha: 0.5\r\n            }\r\n        },\r\n        components: {\r\n            ModelObj\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <p class=\"background-text\">\r\n            Vue<br>3D<br>Model<br>Background\r\n        </p>\r\n        <div class=\"background-buttons\">\r\n            <p>Color</p>\r\n            <button @click=\"bgColor = '#ff0'\">#ff0</button>\r\n            <button @click=\"bgColor = '#f00'\">#f00</button>\r\n            <button @click=\"bgColor = '#13ce66'\">#13ce66</button>\r\n            <p>Alpha</p>\r\n            <button @click=\"bgAlpha = 0.5\">0.5</button>\r\n            <button @click=\"bgAlpha = 1\">1</button>\r\n            <button @click=\"bgAlpha = 0\">0</button>\r\n        </div>\r\n        <model-obj\r\n            :backgroundAlpha=\"bgAlpha\"\r\n            :backgroundColor=\"bgColor\"\r\n            src=\"static/models/obj/tree.obj\"></model-obj>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app',\r\n            data: {\r\n                bgColor: '#ff0',\r\n                bgAlpha: 0.5\r\n            }\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-background',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true,\r\n            bgColor: '#ff0',\r\n            bgAlpha: 0.5\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        },\r\n        setBackground ( color, alpha ) {\r\n\r\n        }\r\n    },\r\n    components: {\r\n        ModelObj,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// demo-background.vue?1758268a","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-three :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/json/scene.json\"></model-three>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelThree from '../../src/model-three.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-three src=\"static/models/json/scene.json\"></model-three>\r\n</template>\r\n\r\n<script>\r\n    import { ModelThree } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelThree\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-three src=\"static/models/json/scene.json\"></model-three>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-basic',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelThree,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-basic.vue?9b7dffa6","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-collada :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                :rotation=\"rotation\"\r\n                src=\"static/models/collada/elf/elf.dae\"></model-collada>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelCollada from '../../src/model-collada.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-collada src=\"static/models/collada/elf.dae\"></model-collada>\r\n</template>\r\n\r\n<script>\r\n    import { ModelCollada } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelCollada\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-collada src=\"static/models/collada/elf.dae\"></model-collada>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-collada',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true,\r\n            rotation: {\r\n                x: -Math.PI / 2,\r\n                y: 0,\r\n                z: 0\r\n            }\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelCollada,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// demo-collada.vue?cd0ac3ec","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-obj :backgroundAlpha=\"0\"\r\n                ref=\"model\"\r\n                @on-load=\"onLoad\"\r\n                @on-mousemove=\"onMouseMove\"\r\n                src=\"static/models/obj/tree.obj\"></model-obj>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelObj from '../../src/model-obj.vue'\r\n\r\nconst code = `\r\n\r\n<template>\r\n    <model-obj \r\n        src=\"static/models/obj/tree.obj\"\r\n        @on-mousemove=\"onMouseMove\">\r\n    </model-obj>\r\n</template>\r\n\r\n<script>\r\n    import { ModelObj } from 'vue-3d-model'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                intersected: null\r\n            }\r\n        },\r\n        methods: {\r\n            onMouseMove ( event ) {\r\n\r\n                console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\r\n\r\n                if ( !event ) {\r\n\r\n                    if ( this.intersected ) {\r\n                        this.intersected.material.color.setStyle( '#fff' );\r\n                    }\r\n\r\n                    this.intersected = null;\r\n                    return;\r\n                }\r\n\r\n                this.intersected = event.object;\r\n                this.intersected.material.color.setStyle( '#13ce66' );\r\n            }\r\n        },\r\n        components: {\r\n            ModelObj\r\n        }\r\n    }\r\n<\\/script>\r\n\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-obj \r\n            src=\"static/models/obj/tree.obj\"\r\n            @on-mousemove=\"onMouseMove\">\r\n        </model-obj>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app',\r\n            data: {\r\n                intersected: null\r\n            },\r\n            methods: {\r\n                onMouseMove ( event ) {\r\n\r\n                    console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\r\n\r\n                    if ( !event ) {\r\n\r\n                        if ( this.intersected ) {\r\n                            this.intersected.material.color.setStyle( '#fff' );\r\n                        }\r\n\r\n                        this.intersected = null;\r\n                        return;\r\n                    }\r\n\r\n                    this.intersected = event.object;\r\n                    this.intersected.material.color.setStyle( '#13ce66' );\r\n                }\r\n            }\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-event',\r\n    data () {\r\n        return {\r\n            code,\r\n            htmlCode,\r\n            loading: true,\r\n            intersected: null\r\n        }\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        },\r\n        onMouseMove ( event ) {\r\n\r\n            console.log( event );\r\n\r\n            if ( !event ) {\r\n\r\n                if ( this.intersected ) {\r\n                    this.intersected.material.color.setStyle( '#fff' );\r\n                }\r\n\r\n                this.intersected = null;\r\n                return;\r\n            }\r\n\r\n            this.intersected = event.object;\r\n            this.intersected.material.color.setStyle( '#13ce66' );\r\n        }\r\n    },\r\n    components: {\r\n        ModelObj,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-event.vue?93b2d36c","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-obj :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/obj/tree.obj\"></model-obj>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelObj from '../../src/model-obj.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\r\n</template>\r\n\r\n<script>\r\n    import { ModelObj } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelObj\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-obj',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelObj,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// demo-json.vue?188bcd56","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-obj :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/obj/male02/male02.obj\"\r\n                mtl=\"static/models/obj/male02/male02.mtl\"></model-obj>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelObj from '../../src/model-obj.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-obj \r\n        src=\"static/models/obj/male02/male02.obj\"\r\n        mtl=\"static/models/obj/male02/male02.mtl\"></model-obj>\r\n</template>\r\n\r\n<script>\r\n    import { ModelObj } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelObj\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-obj \r\n            src=\"static/models/obj/male02/male02.obj\"\r\n            mtl=\"static/models/obj/male02/male02.mtl\"></model-obj>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-obj-mtl',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelObj,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// demo-obj-mtl.vue?5e4dca07","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-obj :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/obj/tree.obj\"></model-obj>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelObj from '../../src/model-obj.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\r\n</template>\r\n\r\n<script>\r\n    import { ModelObj } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelObj\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-obj',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelObj,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// demo-obj.vue?4b9aebbd","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-ply :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                :rotation=\"rotation\"\r\n                src=\"static/models/ply/binary/Lucy100k.ply\"></model-ply>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelPly from '../../src/model-ply.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-ply src=\"static/models/ply/slotted_disk.ply\"></model-ply>\r\n</template>\r\n\r\n<script>\r\n    import { ModelPly } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelPly\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-ply src=\"static/models/ply/slotted_disk.ply\" :rotation=\"rotation\"></model-ply>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-ply',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true,\r\n            rotation: {\r\n                x: 0,\r\n                y: Math.PI,\r\n                z: 0\r\n            }\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelPly,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-ply.vue?516c3f6e","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-collada\r\n                ref=\"collada\"\r\n                :rotation=\"rotation\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/collada/elf/elf.dae\"></model-collada>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelCollada from '../../src/model-collada.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-collada\r\n        :rotation=\"rotation\"\r\n        @on-load=\"onLoad\"\r\n        src=\"static/models/collada/elf.dae\"></model-collada>\r\n</template>\r\n\r\n<script>\r\n    import { ModelCollada } from 'vue-3d-model'\r\n\r\n    export default {\r\n        data: {\r\n            rotation: {\r\n                x: -Math.PI / 2,\r\n                y: 0,\r\n                z: 0\r\n            }\r\n        },\r\n        methods: {\r\n            onLoad () {\r\n                this.rotate();\r\n            },\r\n            rotate () {\r\n                this.rotation.z += 0.01;\r\n                requestAnimationFrame( this.rotate );\r\n            }\r\n        },\r\n        components: {\r\n            ModelCollada\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-collada\r\n            :rotation=\"rotation\"\r\n            @on-load=\"onLoad\"\r\n            src=\"static/models/collada/elf.dae\"></model-collada>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app',\r\n            data: {\r\n                rotation: {\r\n                    x: -Math.PI / 2,\r\n                    y: 0,\r\n                    z: 0\r\n                }\r\n            },\r\n            methods: {\r\n                onLoad () {\r\n                    this.rotate();\r\n                },\r\n                rotate () {\r\n                    this.rotation.z += 0.01;\r\n                    requestAnimationFrame( this.rotate );\r\n                }\r\n            }\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-rotate',\r\n    data () {\r\n        return {\r\n            code,\r\n            htmlCode,\r\n            loading: true,\r\n            rotation: {\r\n                x: -Math.PI / 2,\r\n                y: 0,\r\n                z: 0\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n            this.rotate();\r\n        },\r\n        rotate () {\r\n            requestAnimationFrame( this.rotate );\r\n            this.rotation.z += 0.01;\r\n        }\r\n    },\r\n    components: {\r\n        ModelCollada,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// demo-rotate.vue?7fbb3e7d","<template>\r\n    <demo-block :vue-code=\"code\" :html-code=\"htmlCode\">\r\n        <template slot=\"preview\">\r\n            <model-stl :backgroundAlpha=\"0\"\r\n                @on-load=\"onLoad\"\r\n                src=\"static/models/stl/gear.stl\"></model-stl>\r\n            <div class=\"example-loading\" v-show=\"loading\"></div>\r\n        </template>\r\n    </demo-block>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport ModelStl from '../../src/model-stl.vue'\r\n\r\nconst code = `\r\n<template>\r\n    <model-stl src=\"static/models/stl/slotted_disk.stl\"></model-stl>\r\n</template>\r\n\r\n<script>\r\n    import { ModelStl } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelStl\r\n        }\r\n    }\r\n<\\/script>\r\n`\r\n\r\nconst htmlCode = `\r\n<body>\r\n    <div id=\"app\">\r\n        <model-stl src=\"static/models/stl/slotted_disk.stl\"></model-stl>\r\n    </div>\r\n    #scripts#\r\n    <script>\r\n        new Vue({\r\n            el: '#app'\r\n        })\r\n    <\\/script>\r\n</body>\r\n`\r\n\r\nexport default {\r\n    name: 'demo-stl',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n            htmlCode,\r\n            loading: true\r\n    \t}\r\n    },\r\n    methods: {\r\n        onLoad () {\r\n            this.loading = false;\r\n        }\r\n    },\r\n    components: {\r\n        ModelStl,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-stl.vue?1f99e73b","<script>\r\nimport { ColladaLoader } from './loaders/ColladaLoader'\r\nimport { toIndexed, getCenter } from './util'\r\nimport mixin from './model-mixin.vue'\r\nimport { Object3D } from 'three'\r\n\r\nexport default {\r\n    name: 'model-collada',\r\n    mixins: [ mixin ],\r\n    props: {\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [\r\n                    {\r\n                        type: 'HemisphereLight',\r\n                        position: { x: 0, y: 1, z: 0 },\r\n                        skyColor: 0xaaaaff,\r\n                        groundColor: 0x806060,\r\n                        intensity: 0.2\r\n                    },\r\n                    {\r\n                        type: 'DirectionalLight',\r\n                        position: { x: 1, y: 1, z: 1 },\r\n                        color: 0xffffff,\r\n                        intensity: 0.8\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        smoothing: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data () {\r\n\r\n        const loader = new ColladaLoader();\r\n\r\n        return {\r\n            loader\r\n        }\r\n    },\r\n    methods: {\r\n        getObject ( collada ) {\r\n            return collada.scene\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// model-collada.vue?1bbde0e2","<template>\r\n    <div style=\"width: 100%; height: 100%; margin: 0; border: 0; padding: 0;\">\r\n        <canvas v-if=\"suportWebGL\" ref=\"canvas\" style=\"width: 100%; height: 100%;\"></canvas>\r\n        <div v-else>\r\n            <slot>\r\n                Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>'\r\n            </slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n    Object3D,\r\n    Vector2,\r\n    Vector3,\r\n    Color,\r\n    Scene,\r\n    Raycaster,\r\n    WebGLRenderer,\r\n    PerspectiveCamera,\r\n    AmbientLight,\r\n    HemisphereLight,\r\n    DirectionalLight\r\n} from 'three'\r\nimport { getSize, getCenter } from './util'\r\nimport { OrbitControls } from './controls/OrbitControls'\r\n\r\nconst suportWebGL = ( () => {\r\n\r\n    try {\r\n        var canvas = document.createElement( 'canvas' ); \r\n        return !! ( window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );\r\n    } catch ( e ) {\r\n        return false;\r\n    }\r\n\r\n} )();\r\n\r\nlet handler = null;\r\n\r\nexport default {\r\n    props: {\r\n        src: {\r\n            type: String\r\n        },\r\n        width: {\r\n            type: Number\r\n        },\r\n        height: {\r\n            type: Number\r\n        },\r\n        position: {\r\n            type: Object,\r\n            default () {\r\n                return { x: 0, y: 0, z: 0 }\r\n            }\r\n        },\r\n        rotation: {\r\n            type: Object,\r\n            default () {\r\n                return { x: 0, y: 0, z: 0 }\r\n            }\r\n        },\r\n        scale: {\r\n            type: Object,\r\n            default () {\r\n                return { x: 1, y: 1, z: 1 }\r\n            }\r\n        },\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [];\r\n            }\r\n        },\r\n        cameraPosition: {\r\n            type: Object\r\n        },\r\n        cameraRotation: {\r\n            type: Object\r\n        },\r\n        cameraUp: {\r\n            type: Object\r\n        },\r\n        cameraLookAt: {\r\n            type: Object\r\n        },\r\n        backgroundColor: {\r\n            default: 0xffffff\r\n        },\r\n        backgroundAlpha: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        controllable: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            suportWebGL,\r\n            size: {\r\n                width: this.width,\r\n                height: this.height\r\n            },\r\n            object: null,\r\n            raycaster: new Raycaster(),\r\n            mouse: new Vector2(),\r\n            camera: new PerspectiveCamera( 45, 1, 0.1, 100000 ),\r\n            scene: new Scene(),\r\n            wrapper: new Object3D(),\r\n            renderer: null,\r\n            controls: null,\r\n            allLights: [],\r\n            clock: typeof performance === 'undefined' ? Date : performance\r\n        }\r\n    },\r\n    computed: {\r\n        hasListener () {\r\n\r\n            // 判断是否有鼠标事件监听，用于减少不必要的拾取判断\r\n            const events = this._events;\r\n            let result = {};\r\n\r\n            [ 'on-mousemove', 'on-mouseup', 'on-mousedown', 'on-click' ].forEach( name => {\r\n                result[ name ] = !!events[ name ] && events[ name ].length > 0;\r\n            } )\r\n\r\n            return result;\r\n        }\r\n    },\r\n    created () {\r\n        window.addEventListener( 'resize', this.onResize, false );\r\n    },\r\n    mounted () {\r\n\r\n        if ( this.width === undefined || this.height === undefined ) {\r\n            this.size = {\r\n                width: this.$el.offsetWidth,\r\n                height: this.$el.offsetHeight\r\n            }\r\n        }\r\n\r\n        this.renderer = new WebGLRenderer( { antialias: true, alpha: true, canvas: this.$refs.canvas } )\r\n        this.renderer.shadowMap.enabled = true;\r\n\r\n        this.scene.add( this.wrapper )\r\n\r\n        this.load();\r\n        this.update();\r\n\r\n        this.$el.addEventListener( 'mousedown', this.onMouseDown, false );\r\n        this.$el.addEventListener( 'mousemove', this.onMouseMove, false );\r\n        this.$el.addEventListener( 'mouseup', this.onMouseUp, false );\r\n        this.$el.addEventListener( 'click', this.onClick, false );\r\n\r\n        this.animate();\r\n    },\r\n    beforeDestroy () {\r\n\r\n        this.$el.removeEventListener( 'mousedown', this.onMouseDown, false );\r\n        this.$el.removeEventListener( 'mousemove', this.onMouseMove, false );\r\n        this.$el.removeEventListener( 'mouseup', this.onMouseUp, false );\r\n        this.$el.removeEventListener( 'click', this.onClick, false );\r\n\r\n    },\r\n    watch: {\r\n        src () {\r\n            this.load();\r\n        },\r\n        rotation: {\r\n            deep: true,\r\n            handler( val ) {\r\n                if ( !this.object ) return;\r\n                this.object.rotation.set( val.x, val.y, val.z );\r\n            }\r\n        },\r\n        position: {\r\n            deep: true,\r\n            handler( val ) {\r\n                if ( !this.object ) return;\r\n                this.object.position.set( val.x, val.y, val.z );\r\n            }\r\n        },\r\n        scale: {\r\n            deep: true,\r\n            handler( val ) {\r\n                if ( !this.object ) return;\r\n                this.object.scale.set( val.x, val.y, val.z );\r\n            }\r\n        },\r\n        lights: {\r\n            deep: true,\r\n            handler( val, oldVal ) {\r\n                this.updateLights();\r\n            }\r\n        },\r\n        size: {\r\n            deep: true,\r\n            handler ( val ) {\r\n                this.updateCamera();\r\n                this.updateRenderer();\r\n            }\r\n        },\r\n        controllable () {\r\n            this.updateControls();\r\n        },\r\n        backgroundAlpha () {\r\n            this.updateRenderer();\r\n        },\r\n        backgroundColor () {\r\n            this.updateRenderer();\r\n        }\r\n    },\r\n    methods: {\r\n        onResize () {\r\n\r\n            if ( this.width === undefined || this.height === undefined ) {\r\n\r\n                this.$nextTick( () => {\r\n                    this.size = {\r\n                        width: this.$el.offsetWidth,\r\n                        height: this.$el.offsetHeight\r\n                    }\r\n                } )\r\n                \r\n            }\r\n        },\r\n        onMouseDown ( event ) {\r\n\r\n            if ( !this.hasListener[ 'on-mousedown' ] ) return;\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-mousedown', intersected );\r\n\r\n        },\r\n        onMouseMove ( event ) {\r\n\r\n            if ( !this.hasListener[ 'on-mousemove' ] ) return;\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-mousemove', intersected );\r\n\r\n        },\r\n        onMouseUp ( event ) {\r\n\r\n            if ( !this.hasListener[ 'on-mouseup' ] ) return;\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-mouseup', intersected );\r\n\r\n        },\r\n        onClick ( event ) {\r\n\r\n            if ( !this.hasListener[ 'on-click' ] ) return;\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-click', intersected );\r\n\r\n        },\r\n        pick ( x, y ) {\r\n\r\n            if ( !this.object ) return;\r\n\r\n            const rect = this.$el.getBoundingClientRect();\r\n\r\n            x -= rect.left;\r\n            y -= rect.top;\r\n\r\n            this.mouse.x = ( x / this.size.width ) * 2 - 1;\r\n            this.mouse.y = - ( y / this.size.height ) * 2 + 1;\r\n\r\n            this.raycaster.setFromCamera( this.mouse, this.camera );\r\n\r\n            const intersects = this.raycaster.intersectObject( this.object, true );\r\n\r\n            return ( intersects && intersects.length ) > 0 ? intersects[ 0 ] : null;\r\n\r\n        },\r\n        update () {\r\n\r\n            this.updateRenderer();\r\n            this.updateCamera();\r\n            this.updateLights();\r\n            this.updateControls();\r\n            \r\n        },\r\n        updateModel () {\r\n\r\n            const object = this.object;\r\n\r\n            if ( !object ) return;\r\n\r\n            const position = this.position;\r\n            const rotation = this.rotation;\r\n            const scale = this.scale;\r\n\r\n            object.position.set( position.x, position.y, position.z );\r\n            object.rotation.set( rotation.x, rotation.y, rotation.z );\r\n            object.scale.set( scale.x, scale.y, scale.z );\r\n\r\n        },\r\n        updateRenderer () {\r\n\r\n            let renderer = this.renderer;\r\n\r\n            renderer.setSize( this.size.width, this.size.height );\r\n            renderer.setPixelRatio( window.devicePixelRatio || 1 );\r\n            renderer.setClearColor( new Color( this.backgroundColor ).getHex() );\r\n            renderer.setClearAlpha( this.backgroundAlpha );\r\n        },\r\n        updateCamera () {\r\n\r\n            const camera = this.camera;\r\n            const object = this.object;\r\n\r\n            camera.aspect = this.size.width / this.size.height;\r\n            camera.updateProjectionMatrix();\r\n\r\n            if ( !this.cameraLookAt && !this.cameraPosition && !this.cameraRotation && !this.cameraUp ) {\r\n\r\n                if ( !object ) return;\r\n\r\n                const distance = getSize( object ).length();\r\n\r\n                camera.position.set( 0, 0, 0 );\r\n                camera.position.z = distance;\r\n                camera.lookAt( new Vector3() );\r\n\r\n            } else {\r\n                \r\n                camera.position.set( this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z )\r\n                camera.rotation.set( this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z )\r\n                camera.up.set( this.cameraUp.x, this.cameraUp.y, this.cameraUp.z )\r\n\r\n                camera.lookAt( new Vector3( this.cameraLookAt.x, this.cameraLookAt.y, this.cameraLookAt.z ) )\r\n\r\n            }\r\n\r\n        },\r\n        updateLights () {\r\n\r\n            this.scene.remove.apply( this.scene, this.allLights );\r\n\r\n            this.allLights = [];\r\n\r\n            this.lights.forEach( item => {\r\n\r\n                if ( !item.type ) return;\r\n\r\n                const type = item.type.toLowerCase();\r\n\r\n                let light = null;\r\n\r\n                if ( type === 'ambient' || type === 'ambientlight' ) {\r\n\r\n                    const color = item.color || 0x404040;\r\n                    const intensity = item.intensity || 1;\r\n\r\n                    light = new AmbientLight( color, intensity );\r\n\r\n                } else if ( type === 'point' || type === 'pointlight' ) {\r\n\r\n                    const color = item.color || 0xffffff;\r\n                    const intensity = item.intensity || 1;\r\n                    const distance = item.distance || 0;\r\n                    const decay = item.decay || 1;\r\n\r\n                    light = new PointLight( color, intensity, distance, decay );\r\n\r\n                    if ( item.position ) {\r\n                        light.position.copy( item.position );\r\n                    }\r\n\r\n                } else if ( type === 'directional' || type === 'directionallight' ) {\r\n\r\n                    const color = item.color || 0xffffff;\r\n                    const intensity = item.intensity || 1;\r\n\r\n                    light = new DirectionalLight( color, intensity );\r\n\r\n                    if ( item.position ) {\r\n                        light.position.copy( item.position );\r\n                    }\r\n\r\n                    if ( item.target ) {\r\n                        light.target.copy( item.target );\r\n                    }\r\n\r\n                } else if ( type === 'hemisphere' || type === 'hemispherelight' ) {\r\n\r\n                    const skyColor = item.skyColor || 0xffffff;\r\n                    const groundColor = item.groundColor || 0xffffff;\r\n                    const intensity = item.intensity || 1;\r\n\r\n                    light = new HemisphereLight( skyColor, groundColor, intensity );\r\n\r\n                    if ( item.position ) {\r\n                        light.position.copy( item.position );\r\n                    }\r\n\r\n                }\r\n\r\n                this.allLights.push( light );\r\n                this.scene.add( light );\r\n\r\n            } )\r\n\r\n        },\r\n        updateControls () {\r\n\r\n            if ( this.controllable && this.controls ) return;\r\n\r\n            if ( this.controllable ) {\r\n\r\n                if ( this.controls ) return;\r\n\r\n                this.controls = new OrbitControls( this.camera, this.$el );\r\n                this.controls.type = 'orbit';\r\n\r\n            } else {\r\n\r\n                if ( this.controls ) {\r\n\r\n                    this.controls.dispose();\r\n                    this.controls = null;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n        load () {\r\n\r\n            if ( !this.src ) return;\r\n\r\n            if ( this.object ) {\r\n\r\n                this.wrapper.remove( this.object );\r\n\r\n            }\r\n\r\n            this.loader.load( this.src, ( ...args ) => {\r\n\r\n                const object = this.getObject( ...args )\r\n\r\n                if ( this.process ) {\r\n                    this.process ( object );\r\n                }\r\n\r\n                this.addObject( object )\r\n\r\n                this.$emit( 'on-load' );\r\n\r\n            }, err => {\r\n\r\n                this.$emit( 'on-error', err );\r\n\r\n            } );\r\n\r\n        },\r\n        getObject( object ) {\r\n\r\n            return object\r\n\r\n        },\r\n        addObject( object ) {\r\n\r\n            const center = getCenter( object )\r\n\r\n            // correction position\r\n            this.wrapper.position.copy( center.negate() )\r\n            \r\n            this.object = object\r\n            this.wrapper.add( object )\r\n\r\n            this.updateCamera()\r\n            this.updateModel()\r\n            \r\n        },\r\n        animate () {\r\n            requestAnimationFrame( this.animate );\r\n            this.render();\r\n        },\r\n        render () {\r\n\r\n            this.renderer.render( this.scene, this.camera )\r\n\r\n        }\r\n    }\r\n}\r\n\r\n</script>\n\n\n// WEBPACK FOOTER //\n// model-mixin.vue?1d95755a","<script>\r\nimport { OBJLoader } from './loaders/OBJLoader'\r\nimport { MTLLoader } from './loaders/MTLLoader'\r\nimport { toIndexed } from './util'\r\nimport mixin from './model-mixin.vue'\r\n\r\nimport * as THREE from 'three'\r\nimport { getSize, getCenter } from './util'\r\n\r\nexport default {\r\n    name: 'model-obj',\r\n    mixins: [ mixin ],\r\n    props: {\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [\r\n                    {\r\n                        type: 'HemisphereLight',\r\n                        position: { x: 0, y: 1, z: 0 },\r\n                        skyColor: 0xaaaaff,\r\n                        groundColor: 0x806060,\r\n                        intensity: 0.2\r\n                    },\r\n                    {\r\n                        type: 'DirectionalLight',\r\n                        position: { x: 1, y: 1, z: 1 },\r\n                        color: 0xffffff,\r\n                        intensity: 0.8\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        smoothing: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        mtlPath: {\r\n            type: String\r\n        },\r\n        mtl: {\r\n            type: String\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            loader: new OBJLoader(),\r\n            mtlLoader: new MTLLoader()\r\n        }\r\n    },\r\n    watch: {\r\n        mtl () {\r\n            this.load();\r\n        }\r\n    },\r\n    methods: {\r\n        process ( object ) {\r\n            if ( this.smoothing ) {\r\n                object.traverse( child => {\r\n                    if ( child.geometry ) {\r\n                        child.geometry = toIndexed( child.geometry );\r\n                        child.geometry.computeVertexNormals();\r\n                    }\r\n                } )\r\n            }\r\n        },\r\n        load () {\r\n\r\n            if ( !this.src ) return;\r\n\r\n            if ( this.object ) {\r\n                this.wrapper.remove( this.object );\r\n            }\r\n\r\n            const onLoad = object => {\r\n                \r\n                if ( this.process ) {\r\n                    this.process ( object );\r\n                }\r\n\r\n                this.addObject( object )\r\n\r\n                this.$emit( 'on-load' );\r\n\r\n            }\r\n\r\n            const onError = err => {\r\n\r\n                this.$emit( 'on-error', err );\r\n\r\n            }\r\n\r\n            if ( this.mtl ) {\r\n\r\n                let mtlPath = this.mtlPath;\r\n                let mtlSrc = this.mtl;\r\n                \r\n                if ( !this.mtlPath ) {\r\n\r\n                    const result = /^(.*\\/)([^/]*)$/.exec( this.mtl );\r\n\r\n                    if ( result ) {\r\n                        mtlPath = result[ 1 ];\r\n                        mtlSrc = result[ 2 ];\r\n                    }\r\n\r\n                }\r\n\r\n                if ( mtlPath ) {\r\n                    this.mtlLoader.setPath( mtlPath )\r\n                }\r\n\r\n                this.mtlLoader.load( mtlSrc, materials => {\r\n\r\n                    materials.preload();\r\n\r\n                    this.loader.setMaterials( materials );\r\n\r\n                    this.loader.load( this.src, onLoad, onError );\r\n\r\n                }, onError );\r\n\r\n            } else {\r\n    \r\n                this.loader.load( this.src, onLoad, onError );\r\n\r\n            }\r\n\r\n        },\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// model-obj.vue?52ad1424","<script>\r\nimport { PLYLoader } from './loaders/PLYLoader'\r\nimport mixin from './model-mixin.vue'\r\nimport {\r\n    Mesh,\r\n    MeshStandardMaterial\r\n} from 'three'\r\n\r\nexport default {\r\n    name: 'model-ply',\r\n    mixins: [ mixin ],\r\n    props: {\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [\r\n                    {\r\n                        type: 'HemisphereLight',\r\n                        position: { x: 0, y: 1, z: 0 },\r\n                        skyColor: 0xaaaaff,\r\n                        groundColor: 0x806060,\r\n                        intensity: 0.2\r\n                    },\r\n                    {\r\n                        type: 'DirectionalLight',\r\n                        position: { x: 1, y: 1, z: 1 },\r\n                        color: 0xffffff,\r\n                        intensity: 0.8\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            loader: new PLYLoader()\r\n        }\r\n    },\r\n    methods: {\r\n        getObject( geometry ) {\r\n\r\n            geometry.computeVertexNormals()\r\n\r\n            return new Mesh( geometry, new MeshStandardMaterial() )\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// model-ply.vue?e6596762","<script>\r\nimport { STLLoader } from './loaders/STLLoader'\r\nimport mixin from './model-mixin.vue'\r\nimport {\r\n    Mesh,\r\n    MeshPhongMaterial\r\n} from 'three'\r\n\r\nexport default {\r\n    name: 'model-stl',\r\n    mixins: [ mixin ],\r\n    props: {\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [\r\n                    {\r\n                        type: 'HemisphereLight',\r\n                        position: { x: 0, y: 1, z: 0 },\r\n                        skyColor: 0xaaaaff,\r\n                        groundColor: 0x806060,\r\n                        intensity: 0.2\r\n                    },\r\n                    {\r\n                        type: 'DirectionalLight',\r\n                        position: { x: 1, y: 1, z: 1 },\r\n                        color: 0xffffff,\r\n                        intensity: 0.8\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            loader: new STLLoader()\r\n        }\r\n    },\r\n    methods: {\r\n        getObject( geometry ) {\r\n\r\n            return new Mesh( geometry, new MeshPhongMaterial() )\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// model-stl.vue?f1165cde","<script>\r\nimport { ObjectLoader } from 'three'\r\nimport mixin from './model-mixin.vue'\r\n\r\nexport default {\r\n    name: 'model-three',\r\n    mixins: [ mixin ],\r\n    data () {\r\n        return {\r\n            loader: new ObjectLoader()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// model-three.vue?de605bf0","import * as THREE from 'three';\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/controls/OrbitControls.js\r\n\r\nconst OrbitControls = function ( object, domElement ) {\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new THREE.Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.25;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().inverse();\r\n\r\n\t\tvar lastPosition = new THREE.Vector3();\r\n\t\tvar lastQuaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new THREE.Spherical();\r\n\tvar sphericalDelta = new THREE.Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new THREE.Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new THREE.Vector2();\r\n\tvar rotateEnd = new THREE.Vector2();\r\n\tvar rotateDelta = new THREE.Vector2();\r\n\r\n\tvar panStart = new THREE.Vector2();\r\n\tvar panEnd = new THREE.Vector2();\r\n\tvar panDelta = new THREE.Vector2();\r\n\r\n\tvar dollyStart = new THREE.Vector2();\r\n\tvar dollyEnd = new THREE.Vector2();\r\n\tvar dollyDelta = new THREE.Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownRotate' );\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownDolly' );\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownPan' );\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMoveRotate' );\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t// rotating across whole screen goes 360 degrees around\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMoveDolly' );\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMovePan' );\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( event ) {\r\n\r\n\t\t// console.log( 'handleMouseUp' );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\t// console.log( 'handleMouseWheel' );\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\t//console.log( 'handleKeyDown' );\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartRotate' );\r\n\r\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartDolly' );\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartPan' );\r\n\r\n\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMoveRotate' );\r\n\r\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t// rotating across whole screen goes 360 degrees around\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMoveDolly' );\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMovePan' );\r\n\r\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( event ) {\r\n\r\n\t\t//console.log( 'handleTouchEnd' );\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase scope.mouseButtons.ORBIT:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.mouseButtons.ZOOM:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.mouseButtons.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\r\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\t// one-fingered touch: rotate\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\t// two-fingered touch: dolly\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleTouchStartDolly( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3: // three-fingered touch: pan\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1: // one-fingered touch: rotate\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2: // two-fingered touch: dolly\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3: // three-fingered touch: pan\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\twindow.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\nexport { OrbitControls };\n\n\n// WEBPACK FOOTER //\n// ./src/controls/OrbitControls.js","import * as THREE from 'three'\r\n\r\nconst ColladaLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nColladaLoader.prototype = {\r\n\r\n\tconstructor: ColladaLoader,\r\n\r\n\tcrossOrigin: 'Anonymous',\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar path = THREE.Loader.prototype.extractUrlBase( url );\r\n\r\n\t\tvar loader = new THREE.FileLoader( scope.manager );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( text, path ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\toptions: {\r\n\r\n\t\tset convertUpAxis( value ) {\r\n\r\n\t\t\tconsole.warn( 'ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.' );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tparse: function ( text, path ) {\r\n\r\n\t\tfunction getElementsByTagName( xml, name ) {\r\n\r\n\t\t\t// Non recursive xml.getElementsByTagName() ...\r\n\r\n\t\t\tvar array = [];\r\n\t\t\tvar childNodes = xml.childNodes;\r\n\r\n\t\t\tfor ( var i = 0, l = childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeName === name ) {\r\n\r\n\t\t\t\t\tarray.push( child );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseStrings( text ) {\r\n\r\n\t\t\tif ( text.length === 0 ) return [];\r\n\r\n\t\t\tvar parts = text.trim().split( /\\s+/ );\r\n\t\t\tvar array = new Array( parts.length );\r\n\r\n\t\t\tfor ( var i = 0, l = parts.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ] = parts[ i ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseFloats( text ) {\r\n\r\n\t\t\tif ( text.length === 0 ) return [];\r\n\r\n\t\t\tvar parts = text.trim().split( /\\s+/ );\r\n\t\t\tvar array = new Array( parts.length );\r\n\r\n\t\t\tfor ( var i = 0, l = parts.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ] = parseFloat( parts[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseInts( text ) {\r\n\r\n\t\t\tif ( text.length === 0 ) return [];\r\n\r\n\t\t\tvar parts = text.trim().split( /\\s+/ );\r\n\t\t\tvar array = new Array( parts.length );\r\n\r\n\t\t\tfor ( var i = 0, l = parts.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tarray[ i ] = parseInt( parts[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseId( text ) {\r\n\r\n\t\t\treturn text.substring( 1 );\r\n\r\n\t\t}\r\n\r\n\t\tfunction isEmpty( object ) {\r\n\r\n\t\t\treturn Object.keys( object ).length === 0;\r\n\r\n\t\t}\r\n\r\n\t\t// asset\r\n\r\n\t\tfunction parseAsset( xml ) {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tunit: parseAssetUnit( getElementsByTagName( xml, 'unit' )[ 0 ] ),\r\n\t\t\t\tupAxis: parseAssetUpAxis( getElementsByTagName( xml, 'up_axis' )[ 0 ] )\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseAssetUnit( xml ) {\r\n\r\n\t\t\treturn xml !== undefined ? parseFloat( xml.getAttribute( 'meter' ) ) : 1;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseAssetUpAxis( xml ) {\r\n\r\n\t\t\treturn xml !== undefined ? xml.textContent : 'Y_UP';\r\n\r\n\t\t}\r\n\r\n\t\t// library\r\n\r\n\t\tfunction parseLibrary( xml, libraryName, nodeName, parser ) {\r\n\r\n\t\t\tvar library = getElementsByTagName( xml, libraryName )[ 0 ];\r\n\r\n\t\t\tif ( library !== undefined ) {\r\n\r\n\t\t\t\tvar elements = getElementsByTagName( library, nodeName );\r\n\r\n\t\t\t\tfor ( var i = 0; i < elements.length; i ++ ) {\r\n\r\n\t\t\t\t\tparser( elements[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildLibrary( data, builder ) {\r\n\r\n\t\t\tfor ( var name in data ) {\r\n\r\n\t\t\t\tvar object = data[ name ];\r\n\t\t\t\tobject.build = builder( data[ name ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t// get\r\n\r\n\t\tfunction getBuild( data, builder ) {\r\n\r\n\t\t\tif ( data.build !== undefined ) return data.build;\r\n\r\n\t\t\tdata.build = builder( data );\r\n\r\n\t\t\treturn data.build;\r\n\r\n\t\t}\r\n\r\n\t\t// animation\r\n\r\n\t\tfunction parseAnimation( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tsources: {},\r\n\t\t\t\tsamplers: {},\r\n\t\t\t\tchannels: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tvar id;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\r\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'sampler':\r\n\t\t\t\t\t\tid = child.getAttribute( 'id' );\r\n\t\t\t\t\t\tdata.samplers[ id ] = parseAnimationSampler( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'channel':\r\n\t\t\t\t\t\tid = child.getAttribute( 'target' );\r\n\t\t\t\t\t\tdata.channels[ id ] = parseAnimationChannel( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log( child );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.animations[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseAnimationSampler( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tinputs: {},\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\r\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\r\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseAnimationChannel( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tvar target = xml.getAttribute( 'target' );\r\n\r\n\t\t\t// parsing SID Addressing Syntax\r\n\r\n\t\t\tvar parts = target.split( '/' );\r\n\r\n\t\t\tvar id = parts.shift();\r\n\t\t\tvar sid = parts.shift();\r\n\r\n\t\t\t// check selection syntax\r\n\r\n\t\t\tvar arraySyntax = ( sid.indexOf( '(' ) !== - 1 );\r\n\t\t\tvar memberSyntax = ( sid.indexOf( '.' ) !== - 1 );\r\n\r\n\t\t\tif ( memberSyntax ) {\r\n\r\n\t\t\t\t//  member selection access\r\n\r\n\t\t\t\tparts = sid.split( '.' );\r\n\t\t\t\tsid = parts.shift();\r\n\t\t\t\tdata.member = parts.shift();\r\n\r\n\t\t\t} else if ( arraySyntax ) {\r\n\r\n\t\t\t\t// array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\r\n\r\n\t\t\t\tvar indices = sid.split( '(' );\r\n\t\t\t\tsid = indices.shift();\r\n\r\n\t\t\t\tfor ( var i = 0; i < indices.length; i ++ ) {\r\n\r\n\t\t\t\t\tindices[ i ] = parseInt( indices[ i ].replace( /\\)/, '' ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.indices = indices;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdata.id = id;\r\n\t\t\tdata.sid = sid;\r\n\r\n\t\t\tdata.arraySyntax = arraySyntax;\r\n\t\t\tdata.memberSyntax = memberSyntax;\r\n\r\n\t\t\tdata.sampler = parseId( xml.getAttribute( 'source' ) );\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildAnimation( data ) {\r\n\r\n\t\t\tvar tracks = [];\r\n\r\n\t\t\tvar channels = data.channels;\r\n\t\t\tvar samplers = data.samplers;\r\n\t\t\tvar sources = data.sources;\r\n\r\n\t\t\tfor ( var target in channels ) {\r\n\r\n\t\t\t\tif ( channels.hasOwnProperty( target ) ) {\r\n\r\n\t\t\t\t\tvar channel = channels[ target ];\r\n\t\t\t\t\tvar sampler = samplers[ channel.sampler ];\r\n\r\n\t\t\t\t\tvar inputId = sampler.inputs.INPUT;\r\n\t\t\t\t\tvar outputId = sampler.inputs.OUTPUT;\r\n\r\n\t\t\t\t\tvar inputSource = sources[ inputId ];\r\n\t\t\t\t\tvar outputSource = sources[ outputId ];\r\n\r\n\t\t\t\t\tvar animation = buildAnimationChannel( channel, inputSource, outputSource );\r\n\r\n\t\t\t\t\tcreateKeyframeTracks( animation, tracks );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn tracks;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getAnimation( id ) {\r\n\r\n\t\t\treturn getBuild( library.animations[ id ], buildAnimation );\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildAnimationChannel( channel, inputSource, outputSource ) {\r\n\r\n\t\t\tvar node = library.nodes[ channel.id ];\r\n\t\t\tvar object3D = getNode( node.id );\r\n\r\n\t\t\tvar transform = node.transforms[ channel.sid ];\r\n\t\t\tvar defaultMatrix = node.matrix.clone().transpose();\r\n\r\n\t\t\tvar time, stride;\r\n\t\t\tvar i, il, j, jl;\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\t// the collada spec allows the animation of data in various ways.\r\n\t\t\t// depending on the transform type (matrix, translate, rotate, scale), we execute different logic\r\n\r\n\t\t\tswitch ( transform ) {\r\n\r\n\t\t\t\tcase 'matrix':\r\n\r\n\t\t\t\t\tfor ( i = 0, il = inputSource.array.length; i < il; i ++ ) {\r\n\r\n\t\t\t\t\t\ttime = inputSource.array[ i ];\r\n\t\t\t\t\t\tstride = i * outputSource.stride;\r\n\r\n\t\t\t\t\t\tif ( data[ time ] === undefined ) data[ time ] = {};\r\n\r\n\t\t\t\t\t\tif ( channel.arraySyntax === true ) {\r\n\r\n\t\t\t\t\t\t\tvar value = outputSource.array[ stride ];\r\n\t\t\t\t\t\t\tvar index = channel.indices[ 0 ] + 4 * channel.indices[ 1 ];\r\n\r\n\t\t\t\t\t\t\tdata[ time ][ index ] = value;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tfor ( j = 0, jl = outputSource.stride; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tdata[ time ][ j ] = outputSource.array[ stride + j ];\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'translate':\r\n\t\t\t\t\tconsole.warn( 'ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'rotate':\r\n\t\t\t\t\tconsole.warn( 'ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'scale':\r\n\t\t\t\t\tconsole.warn( 'ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar keyframes = prepareAnimationData( data, defaultMatrix );\r\n\r\n\t\t\tvar animation = {\r\n\t\t\t\tname: object3D.uuid,\r\n\t\t\t\tkeyframes: keyframes\r\n\t\t\t};\r\n\r\n\t\t\treturn animation;\r\n\r\n\t\t}\r\n\r\n\t\tfunction prepareAnimationData( data, defaultMatrix ) {\r\n\r\n\t\t\tvar keyframes = [];\r\n\r\n\t\t\t// transfer data into a sortable array\r\n\r\n\t\t\tfor ( var time in data ) {\r\n\r\n\t\t\t\tkeyframes.push( { time: parseFloat( time ), value: data[ time ] } );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// ensure keyframes are sorted by time\r\n\r\n\t\t\tkeyframes.sort( ascending );\r\n\r\n\t\t\t// now we clean up all animation data, so we can use them for keyframe tracks\r\n\r\n\t\t\tfor ( var i = 0; i < 16; i ++ ) {\r\n\r\n\t\t\t\ttransformAnimationData( keyframes, i, defaultMatrix.elements[ i ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn keyframes;\r\n\r\n\t\t\t// array sort function\r\n\r\n\t\t\tfunction ascending( a, b ) {\r\n\r\n\t\t\t\treturn a.time - b.time;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar position = new THREE.Vector3();\r\n\t\tvar scale = new THREE.Vector3();\r\n\t\tvar quaternion = new THREE.Quaternion();\r\n\r\n\t\tfunction createKeyframeTracks( animation, tracks ) {\r\n\r\n\t\t\tvar keyframes = animation.keyframes;\r\n\t\t\tvar name = animation.name;\r\n\r\n\t\t\tvar times = [];\r\n\t\t\tvar positionData = [];\r\n\t\t\tvar quaternionData = [];\r\n\t\t\tvar scaleData = [];\r\n\r\n\t\t\tfor ( var i = 0, l = keyframes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar keyframe = keyframes[ i ];\r\n\r\n\t\t\t\tvar time = keyframe.time;\r\n\t\t\t\tvar value = keyframe.value;\r\n\r\n\t\t\t\tmatrix.fromArray( value ).transpose();\r\n\t\t\t\tmatrix.decompose( position, quaternion, scale );\r\n\r\n\t\t\t\ttimes.push( time );\r\n\t\t\t\tpositionData.push( position.x, position.y, position.z );\r\n\t\t\t\tquaternionData.push( quaternion.x, quaternion.y, quaternion.z, quaternion.w );\r\n\t\t\t\tscaleData.push( scale.x, scale.y, scale.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( positionData.length > 0 ) tracks.push( new THREE.VectorKeyframeTrack( name + '.position', times, positionData ) );\r\n\t\t\tif ( quaternionData.length > 0 ) tracks.push( new THREE.QuaternionKeyframeTrack( name + '.quaternion', times, quaternionData ) );\r\n\t\t\tif ( scaleData.length > 0 ) tracks.push( new THREE.VectorKeyframeTrack( name + '.scale', times, scaleData ) );\r\n\r\n\t\t\treturn tracks;\r\n\r\n\t\t}\r\n\r\n\t\tfunction transformAnimationData( keyframes, property, defaultValue ) {\r\n\r\n\t\t\tvar keyframe;\r\n\r\n\t\t\tvar empty = true;\r\n\t\t\tvar i, l;\r\n\r\n\t\t\t// check, if values of a property are missing in our keyframes\r\n\r\n\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tkeyframe = keyframes[ i ];\r\n\r\n\t\t\t\tif ( keyframe.value[ property ] === undefined ) {\r\n\r\n\t\t\t\t\tkeyframe.value[ property ] = null; // mark as missing\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tempty = false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( empty === true ) {\r\n\r\n\t\t\t\t// no values at all, so we set a default value\r\n\r\n\t\t\t\tfor ( i = 0, l = keyframes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tkeyframe = keyframes[ i ];\r\n\r\n\t\t\t\t\tkeyframe.value[ property ] = defaultValue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// filling gaps\r\n\r\n\t\t\t\tcreateMissingKeyframes( keyframes, property );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction createMissingKeyframes( keyframes, property ) {\r\n\r\n\t\t\tvar prev, next;\r\n\r\n\t\t\tfor ( var i = 0, l = keyframes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar keyframe = keyframes[ i ];\r\n\r\n\t\t\t\tif ( keyframe.value[ property ] === null ) {\r\n\r\n\t\t\t\t\tprev = getPrev( keyframes, i, property );\r\n\t\t\t\t\tnext = getNext( keyframes, i, property );\r\n\r\n\t\t\t\t\tif ( prev === null ) {\r\n\r\n\t\t\t\t\t\tkeyframe.value[ property ] = next.value[ property ];\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( next === null ) {\r\n\r\n\t\t\t\t\t\tkeyframe.value[ property ] = prev.value[ property ];\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinterpolate( keyframe, prev, next, property );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction getPrev( keyframes, i, property ) {\r\n\r\n\t\t\twhile ( i >= 0 ) {\r\n\r\n\t\t\t\tvar keyframe = keyframes[ i ];\r\n\r\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\r\n\r\n\t\t\t\ti --;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getNext( keyframes, i, property ) {\r\n\r\n\t\t\twhile ( i < keyframes.length ) {\r\n\r\n\t\t\t\tvar keyframe = keyframes[ i ];\r\n\r\n\t\t\t\tif ( keyframe.value[ property ] !== null ) return keyframe;\r\n\r\n\t\t\t\ti ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\r\n\t\t}\r\n\r\n\t\tfunction interpolate( key, prev, next, property ) {\r\n\r\n\t\t\tif ( ( next.time - prev.time ) === 0 ) {\r\n\r\n\t\t\t\tkey.value[ property ] = prev.value[ property ];\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tkey.value[ property ] = ( ( key.time - prev.time ) * ( next.value[ property ] - prev.value[ property ] ) / ( next.time - prev.time ) ) + prev.value[ property ];\r\n\r\n\t\t}\r\n\r\n\t\t// animation clips\r\n\r\n\t\tfunction parseAnimationClip( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'id' ) || 'default',\r\n\t\t\t\tstart: parseFloat( xml.getAttribute( 'start' ) || 0 ),\r\n\t\t\t\tend: parseFloat( xml.getAttribute( 'end' ) || 0 ),\r\n\t\t\t\tanimations: []\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'instance_animation':\r\n\t\t\t\t\t\tdata.animations.push( parseId( child.getAttribute( 'url' ) ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.clips[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildAnimationClip( data ) {\r\n\r\n\t\t\tvar tracks = [];\r\n\r\n\t\t\tvar name = data.name;\r\n\t\t\tvar duration = ( data.end - data.start ) || - 1;\r\n\t\t\tvar animations = data.animations;\r\n\r\n\t\t\tfor ( var i = 0, il = animations.length; i < il; i ++ ) {\r\n\r\n\t\t\t\tvar animationTracks = getAnimation( animations[ i ] );\r\n\r\n\t\t\t\tfor ( var j = 0, jl = animationTracks.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\ttracks.push( animationTracks[ j ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new THREE.AnimationClip( name, duration, tracks );\r\n\r\n\t\t}\r\n\r\n\t\tfunction getAnimationClip( id ) {\r\n\r\n\t\t\treturn getBuild( library.clips[ id ], buildAnimationClip );\r\n\r\n\t\t}\r\n\r\n\t\t// controller\r\n\r\n\t\tfunction parseController( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'skin':\r\n\t\t\t\t\t\t// there is exactly one skin per controller\r\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\r\n\t\t\t\t\t\tdata.skin = parseSkin( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'morph':\r\n\t\t\t\t\t\tdata.id = parseId( child.getAttribute( 'source' ) );\r\n\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Morph target animation not supported yet.' );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.controllers[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseSkin( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tsources: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'bind_shape_matrix':\r\n\t\t\t\t\t\tdata.bindShapeMatrix = parseFloats( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\tvar id = child.getAttribute( 'id' );\r\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'joints':\r\n\t\t\t\t\t\tdata.joints = parseJoints( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'vertex_weights':\r\n\t\t\t\t\t\tdata.vertexWeights = parseVertexWeights( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseJoints( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tinputs: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\r\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\r\n\t\t\t\t\t\tdata.inputs[ semantic ] = id;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseVertexWeights( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tinputs: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\r\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\r\n\t\t\t\t\t\tvar offset = parseInt( child.getAttribute( 'offset' ) );\r\n\t\t\t\t\t\tdata.inputs[ semantic ] = { id: id, offset: offset };\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'vcount':\r\n\t\t\t\t\t\tdata.vcount = parseInts( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'v':\r\n\t\t\t\t\t\tdata.v = parseInts( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildController( data ) {\r\n\r\n\t\t\tvar build = {\r\n\t\t\t\tid: data.id\r\n\t\t\t};\r\n\r\n\t\t\tvar geometry = library.geometries[ build.id ];\r\n\r\n\t\t\tif ( data.skin !== undefined ) {\r\n\r\n\t\t\t\tbuild.skin = buildSkin( data.skin );\r\n\r\n\t\t\t\t// we enhance the 'sources' property of the corresponding geometry with our skin data\r\n\r\n\t\t\t\tgeometry.sources.skinIndices = build.skin.indices;\r\n\t\t\t\tgeometry.sources.skinWeights = build.skin.weights;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn build;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildSkin( data ) {\r\n\r\n\t\t\tvar BONE_LIMIT = 4;\r\n\r\n\t\t\tvar build = {\r\n\t\t\t\tjoints: [], // this must be an array to preserve the joint order\r\n\t\t\t\tindices: {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: BONE_LIMIT\r\n\t\t\t\t},\r\n\t\t\t\tweights: {\r\n\t\t\t\t\tarray: [],\r\n\t\t\t\t\tstride: BONE_LIMIT\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar sources = data.sources;\r\n\t\t\tvar vertexWeights = data.vertexWeights;\r\n\r\n\t\t\tvar vcount = vertexWeights.vcount;\r\n\t\t\tvar v = vertexWeights.v;\r\n\t\t\tvar jointOffset = vertexWeights.inputs.JOINT.offset;\r\n\t\t\tvar weightOffset = vertexWeights.inputs.WEIGHT.offset;\r\n\r\n\t\t\tvar jointSource = data.sources[ data.joints.inputs.JOINT ];\r\n\t\t\tvar inverseSource = data.sources[ data.joints.inputs.INV_BIND_MATRIX ];\r\n\r\n\t\t\tvar weights = sources[ vertexWeights.inputs.WEIGHT.id ].array;\r\n\t\t\tvar stride = 0;\r\n\r\n\t\t\tvar i, j, l;\r\n\r\n\t\t\t// procces skin data for each vertex\r\n\r\n\t\t\tfor ( i = 0, l = vcount.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar jointCount = vcount[ i ]; // this is the amount of joints that affect a single vertex\r\n\t\t\t\tvar vertexSkinData = [];\r\n\r\n\t\t\t\tfor ( j = 0; j < jointCount; j ++ ) {\r\n\r\n\t\t\t\t\tvar skinIndex = v[ stride + jointOffset ];\r\n\t\t\t\t\tvar weightId = v[ stride + weightOffset ];\r\n\t\t\t\t\tvar skinWeight = weights[ weightId ];\r\n\r\n\t\t\t\t\tvertexSkinData.push( { index: skinIndex, weight: skinWeight } );\r\n\r\n\t\t\t\t\tstride += 2;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// we sort the joints in descending order based on the weights.\r\n\t\t\t\t// this ensures, we only procced the most important joints of the vertex\r\n\r\n\t\t\t\tvertexSkinData.sort( descending );\r\n\r\n\t\t\t\t// now we provide for each vertex a set of four index and weight values.\r\n\t\t\t\t// the order of the skin data matches the order of vertices\r\n\r\n\t\t\t\tfor ( j = 0; j < BONE_LIMIT; j ++ ) {\r\n\r\n\t\t\t\t\tvar d = vertexSkinData[ j ];\r\n\r\n\t\t\t\t\tif ( d !== undefined ) {\r\n\r\n\t\t\t\t\t\tbuild.indices.array.push( d.index );\r\n\t\t\t\t\t\tbuild.weights.array.push( d.weight );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tbuild.indices.array.push( 0 );\r\n\t\t\t\t\t\tbuild.weights.array.push( 0 );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// setup bind matrix\r\n\r\n\t\t\tbuild.bindMatrix = new THREE.Matrix4().fromArray( data.bindShapeMatrix ).transpose();\r\n\r\n\t\t\t// process bones and inverse bind matrix data\r\n\r\n\t\t\tfor ( i = 0, l = jointSource.array.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar name = jointSource.array[ i ];\r\n\t\t\t\tvar boneInverse = new THREE.Matrix4().fromArray( inverseSource.array, i * inverseSource.stride ).transpose();\r\n\r\n\t\t\t\tbuild.joints.push( { name: name, boneInverse: boneInverse } );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn build;\r\n\r\n\t\t\t// array sort function\r\n\r\n\t\t\tfunction descending( a, b ) {\r\n\r\n\t\t\t\treturn b.weight - a.weight;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction getController( id ) {\r\n\r\n\t\t\treturn getBuild( library.controllers[ id ], buildController );\r\n\r\n\t\t}\r\n\r\n\t\t// image\r\n\r\n\t\tfunction parseImage( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tinit_from: getElementsByTagName( xml, 'init_from' )[ 0 ].textContent\r\n\t\t\t};\r\n\r\n\t\t\tlibrary.images[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildImage( data ) {\r\n\r\n\t\t\tif ( data.build !== undefined ) return data.build;\r\n\r\n\t\t\treturn data.init_from;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getImage( id ) {\r\n\r\n\t\t\treturn getBuild( library.images[ id ], buildImage );\r\n\r\n\t\t}\r\n\r\n\t\t// effect\r\n\r\n\t\tfunction parseEffect( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'profile_COMMON':\r\n\t\t\t\t\t\tdata.profile = parseEffectProfileCOMMON( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.effects[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectProfileCOMMON( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tsurfaces: {},\r\n\t\t\t\tsamplers: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'newparam':\r\n\t\t\t\t\t\tparseEffectNewparam( child, data );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'technique':\r\n\t\t\t\t\t\tdata.technique = parseEffectTechnique( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectNewparam( xml, data ) {\r\n\r\n\t\t\tvar sid = xml.getAttribute( 'sid' );\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'surface':\r\n\t\t\t\t\t\tdata.surfaces[ sid ] = parseEffectSurface( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'sampler2D':\r\n\t\t\t\t\t\tdata.samplers[ sid ] = parseEffectSampler( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectSurface( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'init_from':\r\n\t\t\t\t\t\tdata.init_from = child.textContent;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectSampler( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\tdata.source = child.textContent;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectTechnique( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'constant':\r\n\t\t\t\t\tcase 'lambert':\r\n\t\t\t\t\tcase 'blinn':\r\n\t\t\t\t\tcase 'phong':\r\n\t\t\t\t\t\tdata.type = child.nodeName;\r\n\t\t\t\t\t\tdata.parameters = parseEffectParameters( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectParameters( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'emission':\r\n\t\t\t\t\tcase 'diffuse':\r\n\t\t\t\t\tcase 'specular':\r\n\t\t\t\t\tcase 'shininess':\r\n\t\t\t\t\tcase 'transparent':\r\n\t\t\t\t\tcase 'transparency':\r\n\t\t\t\t\t\tdata[ child.nodeName ] = parseEffectParameter( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectParameter( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloats( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'float':\r\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'texture':\r\n\t\t\t\t\t\tdata[ child.nodeName ] = { id: child.getAttribute( 'texture' ), extra: parseEffectParameterTexture( child ) };\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectParameterTexture( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\ttechnique: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'extra':\r\n\t\t\t\t\t\tparseEffectParameterTextureExtra( child, data );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectParameterTextureExtra( xml, data ) {\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'technique':\r\n\t\t\t\t\t\tparseEffectParameterTextureExtraTechnique( child, data );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseEffectParameterTextureExtraTechnique( xml, data ) {\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'repeatU':\r\n\t\t\t\t\tcase 'repeatV':\r\n\t\t\t\t\tcase 'offsetU':\r\n\t\t\t\t\tcase 'offsetV':\r\n\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseFloat( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'wrapU':\r\n\t\t\t\t\tcase 'wrapV':\r\n\r\n\t\t\t\t\t\t// some files have values for wrapU/wrapV which become NaN via parseInt\r\n\r\n\t\t\t\t\t\tif ( child.textContent.toUpperCase() === 'TRUE' ) {\r\n\r\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 1;\r\n\r\n\t\t\t\t\t\t} else if ( child.textContent.toUpperCase() === 'FALSE' ) {\r\n\r\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = 0;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdata.technique[ child.nodeName ] = parseInt( child.textContent );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildEffect( data ) {\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getEffect( id ) {\r\n\r\n\t\t\treturn getBuild( library.effects[ id ], buildEffect );\r\n\r\n\t\t}\r\n\r\n\t\t// material\r\n\r\n\t\tfunction parseMaterial( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'name' )\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'instance_effect':\r\n\t\t\t\t\t\tdata.url = parseId( child.getAttribute( 'url' ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.materials[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildMaterial( data ) {\r\n\r\n\t\t\tvar effect = getEffect( data.url );\r\n\t\t\tvar technique = effect.profile.technique;\r\n\r\n\t\t\tvar material;\r\n\r\n\t\t\tswitch ( technique.type ) {\r\n\r\n\t\t\t\tcase 'phong':\r\n\t\t\t\tcase 'blinn':\r\n\t\t\t\t\tmaterial = new THREE.MeshPhongMaterial();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'lambert':\r\n\t\t\t\t\tmaterial = new THREE.MeshLambertMaterial();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tmaterial = new THREE.MeshBasicMaterial();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tmaterial.name = data.name;\r\n\r\n\t\t\tfunction getTexture( textureObject ) {\r\n\r\n\t\t\t\tvar sampler = effect.profile.samplers[ textureObject.id ];\r\n\r\n\t\t\t\tif ( sampler !== undefined ) {\r\n\r\n\t\t\t\t\tvar surface = effect.profile.surfaces[ sampler.source ];\r\n\r\n\t\t\t\t\tvar texture = textureLoader.load( getImage( surface.init_from ) );\r\n\r\n\t\t\t\t\tvar extra = textureObject.extra;\r\n\r\n\t\t\t\t\tif ( extra !== undefined && extra.technique !== undefined && isEmpty( extra.technique ) === false ) {\r\n\r\n\t\t\t\t\t\tvar technique = extra.technique;\r\n\r\n\t\t\t\t\t\ttexture.wrapS = technique.wrapU ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\r\n\t\t\t\t\t\ttexture.wrapT = technique.wrapV ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\r\n\r\n\t\t\t\t\t\ttexture.offset.set( technique.offsetU || 0, technique.offsetV || 0 );\r\n\t\t\t\t\t\ttexture.repeat.set( technique.repeatU || 1, technique.repeatV || 1 );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ttexture.wrapS = THREE.RepeatWrapping;\r\n\t\t\t\t\t\ttexture.wrapT = THREE.RepeatWrapping;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn texture;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.error( 'ColladaLoader: Undefined sampler', textureObject.id );\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar parameters = technique.parameters;\r\n\r\n\t\t\tfor ( var key in parameters ) {\r\n\r\n\t\t\t\tvar parameter = parameters[ key ];\r\n\r\n\t\t\t\tswitch ( key ) {\r\n\r\n\t\t\t\t\tcase 'diffuse':\r\n\t\t\t\t\t\tif ( parameter.color ) material.color.fromArray( parameter.color );\r\n\t\t\t\t\t\tif ( parameter.texture ) material.map = getTexture( parameter.texture );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'specular':\r\n\t\t\t\t\t\tif ( parameter.color && material.specular ) material.specular.fromArray( parameter.color );\r\n\t\t\t\t\t\tif ( parameter.texture ) material.specularMap = getTexture( parameter.texture );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'shininess':\r\n\t\t\t\t\t\tif ( parameter.float && material.shininess )\r\n\t\t\t\t\t\t\tmaterial.shininess = parameter.float;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'emission':\r\n\t\t\t\t\t\tif ( parameter.color && material.emissive )\r\n\t\t\t\t\t\t\tmaterial.emissive.fromArray( parameter.color );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'transparent':\r\n\t\t\t\t\t\t// if ( parameter.texture ) material.alphaMap = getTexture( parameter.texture );\r\n\t\t\t\t\t\tmaterial.transparent = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'transparency':\r\n\t\t\t\t\t\tif ( parameter.float !== undefined ) material.opacity = parameter.float;\r\n\t\t\t\t\t\tmaterial.transparent = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn material;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getMaterial( id ) {\r\n\r\n\t\t\treturn getBuild( library.materials[ id ], buildMaterial );\r\n\r\n\t\t}\r\n\r\n\t\t// camera\r\n\r\n\t\tfunction parseCamera( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'name' )\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'optics':\r\n\t\t\t\t\t\tdata.optics = parseCameraOptics( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.cameras[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCameraOptics( xml ) {\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\treturn parseCameraTechnique( child );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn {};\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCameraTechnique( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'perspective':\r\n\t\t\t\t\tcase 'orthographic':\r\n\r\n\t\t\t\t\t\tdata.technique = child.nodeName;\r\n\t\t\t\t\t\tdata.parameters = parseCameraParameters( child );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseCameraParameters( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'xfov':\r\n\t\t\t\t\tcase 'yfov':\r\n\t\t\t\t\tcase 'xmag':\r\n\t\t\t\t\tcase 'ymag':\r\n\t\t\t\t\tcase 'znear':\r\n\t\t\t\t\tcase 'zfar':\r\n\t\t\t\t\tcase 'aspect_ratio':\r\n\t\t\t\t\t\tdata[ child.nodeName ] = parseFloat( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildCamera( data ) {\r\n\r\n\t\t\tvar camera;\r\n\r\n\t\t\tswitch ( data.optics.technique ) {\r\n\r\n\t\t\t\tcase 'perspective':\r\n\t\t\t\t\tcamera = new THREE.PerspectiveCamera(\r\n\t\t\t\t\t\tdata.optics.parameters.yfov,\r\n\t\t\t\t\t\tdata.optics.parameters.aspect_ratio,\r\n\t\t\t\t\t\tdata.optics.parameters.znear,\r\n\t\t\t\t\t\tdata.optics.parameters.zfar\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'orthographic':\r\n\t\t\t\t\tvar ymag = data.optics.parameters.ymag;\r\n\t\t\t\t\tvar xmag = data.optics.parameters.xmag;\r\n\t\t\t\t\tvar aspectRatio = data.optics.parameters.aspect_ratio;\r\n\r\n\t\t\t\t\txmag = ( xmag === undefined ) ? ( ymag * aspectRatio ) : xmag;\r\n\t\t\t\t\tymag = ( ymag === undefined ) ? ( xmag / aspectRatio ) : ymag;\r\n\r\n\t\t\t\t\txmag *= 0.5;\r\n\t\t\t\t\tymag *= 0.5;\r\n\r\n\t\t\t\t\tcamera = new THREE.OrthographicCamera(\r\n\t\t\t\t\t\t- xmag, xmag, ymag, - ymag, // left, right, top, bottom\r\n\t\t\t\t\t\tdata.optics.parameters.znear,\r\n\t\t\t\t\t\tdata.optics.parameters.zfar\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcamera = new THREE.PerspectiveCamera();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tcamera.name = data.name;\r\n\r\n\t\t\treturn camera;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getCamera( id ) {\r\n\r\n\t\t\treturn getBuild( library.cameras[ id ], buildCamera );\r\n\r\n\t\t}\r\n\r\n\t\t// light\r\n\r\n\t\tfunction parseLight( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\tdata = parseLightTechnique( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.lights[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseLightTechnique( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'directional':\r\n\t\t\t\t\tcase 'point':\r\n\t\t\t\t\tcase 'spot':\r\n\t\t\t\t\tcase 'ambient':\r\n\r\n\t\t\t\t\t\tdata.technique = child.nodeName;\r\n\t\t\t\t\t\tdata.parameters = parseLightParameters( child );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseLightParameters( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'color':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tdata.color = new THREE.Color().fromArray( array );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'falloff_angle':\r\n\t\t\t\t\t\tdata.falloffAngle = parseFloat( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'quadratic_attenuation':\r\n\t\t\t\t\t\tvar f = parseFloat( child.textContent );\r\n\t\t\t\t\t\tdata.distance = f ? Math.sqrt( 1 / f ) : 0;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildLight( data ) {\r\n\r\n\t\t\tvar light;\r\n\r\n\t\t\tswitch ( data.technique ) {\r\n\r\n\t\t\t\tcase 'directional':\r\n\t\t\t\t\tlight = new THREE.DirectionalLight();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'point':\r\n\t\t\t\t\tlight = new THREE.PointLight();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'spot':\r\n\t\t\t\t\tlight = new THREE.SpotLight();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ambient':\r\n\t\t\t\t\tlight = new THREE.AmbientLight();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.parameters.color ) light.color.copy( data.parameters.color );\r\n\t\t\tif ( data.parameters.distance ) light.distance = data.parameters.distance;\r\n\r\n\t\t\treturn light;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getLight( id ) {\r\n\r\n\t\t\treturn getBuild( library.lights[ id ], buildLight );\r\n\r\n\t\t}\r\n\r\n\t\t// geometry\r\n\r\n\t\tfunction parseGeometry( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'name' ),\r\n\t\t\t\tsources: {},\r\n\t\t\t\tvertices: {},\r\n\t\t\t\tprimitives: []\r\n\t\t\t};\r\n\r\n\t\t\tvar mesh = getElementsByTagName( xml, 'mesh' )[ 0 ];\r\n\r\n\t\t\tfor ( var i = 0; i < mesh.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = mesh.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tvar id = child.getAttribute( 'id' );\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'source':\r\n\t\t\t\t\t\tdata.sources[ id ] = parseSource( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'vertices':\r\n\t\t\t\t\t\t// data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\r\n\t\t\t\t\t\tdata.vertices = parseGeometryVertices( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'polygons':\r\n\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Unsupported primitive type: ', child.nodeName );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'lines':\r\n\t\t\t\t\tcase 'linestrips':\r\n\t\t\t\t\tcase 'polylist':\r\n\t\t\t\t\tcase 'triangles':\r\n\t\t\t\t\t\tdata.primitives.push( parseGeometryPrimitive( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log( child );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.geometries[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseSource( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tarray: [],\r\n\t\t\t\tstride: 3\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'float_array':\r\n\t\t\t\t\t\tdata.array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'Name_array':\r\n\t\t\t\t\t\tdata.array = parseStrings( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\tvar accessor = getElementsByTagName( child, 'accessor' )[ 0 ];\r\n\r\n\t\t\t\t\t\tif ( accessor !== undefined ) {\r\n\r\n\t\t\t\t\t\t\tdata.stride = parseInt( accessor.getAttribute( 'stride' ) );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseGeometryVertices( xml ) {\r\n\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tdata[ child.getAttribute( 'semantic' ) ] = parseId( child.getAttribute( 'source' ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseGeometryPrimitive( xml ) {\r\n\r\n\t\t\tvar primitive = {\r\n\t\t\t\ttype: xml.nodeName,\r\n\t\t\t\tmaterial: xml.getAttribute( 'material' ),\r\n\t\t\t\tcount: parseInt( xml.getAttribute( 'count' ) ),\r\n\t\t\t\tinputs: {},\r\n\t\t\t\tstride: 0\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0, l = xml.childNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'input':\r\n\t\t\t\t\t\tvar id = parseId( child.getAttribute( 'source' ) );\r\n\t\t\t\t\t\tvar semantic = child.getAttribute( 'semantic' );\r\n\t\t\t\t\t\tvar offset = parseInt( child.getAttribute( 'offset' ) );\r\n\t\t\t\t\t\tprimitive.inputs[ semantic ] = { id: id, offset: offset };\r\n\t\t\t\t\t\tprimitive.stride = Math.max( primitive.stride, offset + 1 );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'vcount':\r\n\t\t\t\t\t\tprimitive.vcount = parseInts( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'p':\r\n\t\t\t\t\t\tprimitive.p = parseInts( child.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn primitive;\r\n\r\n\t\t}\r\n\r\n\t\tfunction groupPrimitives( primitives ) {\r\n\r\n\t\t\tvar build = {};\r\n\r\n\t\t\tfor ( var i = 0; i < primitives.length; i ++ ) {\r\n\r\n\t\t\t\tvar primitive = primitives[ i ];\r\n\r\n\t\t\t\tif ( build[ primitive.type ] === undefined ) build[ primitive.type ] = [];\r\n\r\n\t\t\t\tbuild[ primitive.type ].push( primitive );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn build;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildGeometry( data ) {\r\n\r\n\t\t\tvar build = {};\r\n\r\n\t\t\tvar sources = data.sources;\r\n\t\t\tvar vertices = data.vertices;\r\n\t\t\tvar primitives = data.primitives;\r\n\r\n\t\t\tif ( primitives.length === 0 ) return {};\r\n\r\n\t\t\t// our goal is to create one buffer geoemtry for a single type of primitives\r\n\t\t\t// first, we group all primitives by their type\r\n\r\n\t\t\tvar groupedPrimitives = groupPrimitives( primitives );\r\n\r\n\t\t\tfor ( var type in groupedPrimitives ) {\r\n\r\n\t\t\t\t// second, we create for each type of primitives (polylist,triangles or lines) a buffer geometry\r\n\r\n\t\t\t\tbuild[ type ] = buildGeometryType( groupedPrimitives[ type ], sources, vertices );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn build;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildGeometryType( primitives, sources, vertices ) {\r\n\r\n\t\t\tvar build = {};\r\n\r\n\t\t\tvar position = { array: [], stride: 0 };\r\n\t\t\tvar normal = { array: [], stride: 0 };\r\n\t\t\tvar uv = { array: [], stride: 0 };\r\n\t\t\tvar color = { array: [], stride: 0 };\r\n\r\n\t\t\tvar skinIndex = { array: [], stride: 4 };\r\n\t\t\tvar skinWeight = { array: [], stride: 4 };\r\n\r\n\t\t\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\t\t\tvar materialKeys = [];\r\n\r\n\t\t\tvar start = 0, count = 0;\r\n\r\n\t\t\tfor ( var p = 0; p < primitives.length; p ++ ) {\r\n\r\n\t\t\t\tvar primitive = primitives[ p ];\r\n\t\t\t\tvar inputs = primitive.inputs;\r\n\t\t\t\tvar triangleCount = 1;\r\n\r\n\t\t\t\tif ( primitive.vcount && primitive.vcount[ 0 ] === 4 ) {\r\n\r\n\t\t\t\t\ttriangleCount = 2; // one quad -> two triangles\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// groups\r\n\r\n\t\t\t\tif ( primitive.type === 'lines' || primitive.type === 'linestrips' ) {\r\n\r\n\t\t\t\t\tcount = primitive.count * 2;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tcount = primitive.count * 3 * triangleCount;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgeometry.addGroup( start, count, p );\r\n\t\t\t\tstart += count;\r\n\r\n\t\t\t\t// material\r\n\r\n\t\t\t\tif ( primitive.material ) {\r\n\r\n\t\t\t\t\tmaterialKeys.push( primitive.material );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// geometry data\r\n\r\n\t\t\t\tfor ( var name in inputs ) {\r\n\r\n\t\t\t\t\tvar input = inputs[ name ];\r\n\r\n\t\t\t\t\tswitch ( name )\t{\r\n\r\n\t\t\t\t\t\tcase 'VERTEX':\r\n\t\t\t\t\t\t\tfor ( var key in vertices ) {\r\n\r\n\t\t\t\t\t\t\t\tvar id = vertices[ key ];\r\n\r\n\t\t\t\t\t\t\t\tswitch ( key ) {\r\n\r\n\t\t\t\t\t\t\t\t\tcase 'POSITION':\r\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, position.array );\r\n\t\t\t\t\t\t\t\t\t\tposition.stride = sources[ id ].stride;\r\n\r\n\t\t\t\t\t\t\t\t\t\tif ( sources.skinWeights && sources.skinIndices ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinIndices, input.offset, skinIndex.array );\r\n\t\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources.skinWeights, input.offset, skinWeight.array );\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tcase 'NORMAL':\r\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, normal.array );\r\n\t\t\t\t\t\t\t\t\t\tnormal.stride = sources[ id ].stride;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tcase 'COLOR':\r\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, color.array );\r\n\t\t\t\t\t\t\t\t\t\tcolor.stride = sources[ id ].stride;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tcase 'TEXCOORD':\r\n\t\t\t\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ id ], input.offset, uv.array );\r\n\t\t\t\t\t\t\t\t\t\tuv.stride = sources[ id ].stride;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key );\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'NORMAL':\r\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, normal.array );\r\n\t\t\t\t\t\t\tnormal.stride = sources[ input.id ].stride;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'COLOR':\r\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, color.array );\r\n\t\t\t\t\t\t\tcolor.stride = sources[ input.id ].stride;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'TEXCOORD':\r\n\t\t\t\t\t\t\tbuildGeometryData( primitive, sources[ input.id ], input.offset, uv.array );\r\n\t\t\t\t\t\t\tuv.stride = sources[ input.id ].stride;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// build geometry\r\n\r\n\t\t\tif ( position.array.length > 0 ) geometry.addAttribute( 'position', new THREE.Float32BufferAttribute( position.array, position.stride ) );\r\n\t\t\tif ( normal.array.length > 0 ) geometry.addAttribute( 'normal', new THREE.Float32BufferAttribute( normal.array, normal.stride ) );\r\n\t\t\tif ( color.array.length > 0 ) geometry.addAttribute( 'color', new THREE.Float32BufferAttribute( color.array, color.stride ) );\r\n\t\t\tif ( uv.array.length > 0 ) geometry.addAttribute( 'uv', new THREE.Float32BufferAttribute( uv.array, uv.stride ) );\r\n\r\n\t\t\tif ( skinIndex.array.length > 0 ) geometry.addAttribute( 'skinIndex', new THREE.Float32BufferAttribute( skinIndex.array, skinIndex.stride ) );\r\n\t\t\tif ( skinWeight.array.length > 0 ) geometry.addAttribute( 'skinWeight', new THREE.Float32BufferAttribute( skinWeight.array, skinWeight.stride ) );\r\n\r\n\t\t\tbuild.data = geometry;\r\n\t\t\tbuild.type = primitives[ 0 ].type;\r\n\t\t\tbuild.materialKeys = materialKeys;\r\n\r\n\t\t\treturn build;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildGeometryData( primitive, source, offset, array ) {\r\n\r\n\t\t\tvar indices = primitive.p;\r\n\t\t\tvar stride = primitive.stride;\r\n\t\t\tvar vcount = primitive.vcount;\r\n\r\n\t\t\tfunction pushVector( i ) {\r\n\r\n\t\t\t\tvar index = indices[ i + offset ] * sourceStride;\r\n\t\t\t\tvar length = index + sourceStride;\r\n\r\n\t\t\t\tfor ( ; index < length; index ++ ) {\r\n\r\n\t\t\t\t\tarray.push( sourceArray[ index ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar maxcount = 0;\r\n\r\n\t\t\tvar sourceArray = source.array;\r\n\t\t\tvar sourceStride = source.stride;\r\n\r\n\t\t\tif ( primitive.vcount !== undefined ) {\r\n\r\n\t\t\t\tvar index = 0;\r\n\r\n\t\t\t\tfor ( var i = 0, l = vcount.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\tvar count = vcount[ i ];\r\n\r\n\t\t\t\t\tif ( count === 4 ) {\r\n\r\n\t\t\t\t\t\tvar a = index + stride * 0;\r\n\t\t\t\t\t\tvar b = index + stride * 1;\r\n\t\t\t\t\t\tvar c = index + stride * 2;\r\n\t\t\t\t\t\tvar d = index + stride * 3;\r\n\r\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( d );\r\n\t\t\t\t\t\tpushVector( b ); pushVector( c ); pushVector( d );\r\n\r\n\t\t\t\t\t} else if ( count === 3 ) {\r\n\r\n\t\t\t\t\t\tvar a = index + stride * 0;\r\n\t\t\t\t\t\tvar b = index + stride * 1;\r\n\t\t\t\t\t\tvar c = index + stride * 2;\r\n\r\n\t\t\t\t\t\tpushVector( a ); pushVector( b ); pushVector( c );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmaxcount = Math.max( maxcount, count );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tindex += stride * count;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( maxcount > 0 ) {\r\n\r\n\t\t\t\t\tconsole.log( 'ColladaLoader: Geometry has faces with more than 4 vertices.' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( var i = 0, l = indices.length; i < l; i += stride ) {\r\n\r\n\t\t\t\t\tpushVector( i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction getGeometry( id ) {\r\n\r\n\t\t\treturn getBuild( library.geometries[ id ], buildGeometry );\r\n\r\n\t\t}\r\n\r\n\t\t// kinematics\r\n\r\n\t\tfunction parseKinematicsModel( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\r\n\t\t\t\tjoints: {},\r\n\t\t\t\tlinks: []\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'technique_common':\r\n\t\t\t\t\t\tparseKinematicsTechniqueCommon( child, data );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.kinematicsModels[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildKinematicsModel( data ) {\r\n\r\n\t\t\tif ( data.build !== undefined ) return data.build;\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getKinematicsModel( id ) {\r\n\r\n\t\t\treturn getBuild( library.kinematicsModels[ id ], buildKinematicsModel );\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsTechniqueCommon( xml, data ) {\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'joint':\r\n\t\t\t\t\t\tdata.joints[ child.getAttribute( 'sid' ) ] = parseKinematicsJoint( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'link':\r\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsJoint( xml ) {\r\n\r\n\t\t\tvar data;\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'prismatic':\r\n\t\t\t\t\tcase 'revolute':\r\n\t\t\t\t\t\tdata = parseKinematicsJointParameter( child );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsJointParameter( xml, data ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\r\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\r\n\t\t\t\taxis: new THREE.Vector3(),\r\n\t\t\t\tlimits: {\r\n\t\t\t\t\tmin: 0,\r\n\t\t\t\t\tmax: 0\r\n\t\t\t\t},\r\n\t\t\t\ttype: xml.nodeName,\r\n\t\t\t\tstatic: false,\r\n\t\t\t\tzeroPosition: 0,\r\n\t\t\t\tmiddlePosition: 0\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'axis':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tdata.axis.fromArray( array );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'limits':\r\n\t\t\t\t\t\tvar max = child.getElementsByTagName( 'max' )[ 0 ];\r\n\t\t\t\t\t\tvar min = child.getElementsByTagName( 'min' )[ 0 ];\r\n\r\n\t\t\t\t\t\tdata.limits.max = parseFloat( max.textContent );\r\n\t\t\t\t\t\tdata.limits.min = parseFloat( min.textContent );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// if min is equal to or greater than max, consider the joint static\r\n\r\n\t\t\tif ( data.limits.min >= data.limits.max ) {\r\n\r\n\t\t\t\tdata.static = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// calculate middle position\r\n\r\n\t\t\tdata.middlePosition = ( data.limits.min + data.limits.max ) / 2.0;\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsLink( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\r\n\t\t\t\tname: xml.getAttribute( 'name' ) || '',\r\n\t\t\t\tattachments: [],\r\n\t\t\t\ttransforms: []\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'attachment_full':\r\n\t\t\t\t\t\tdata.attachments.push( parseKinematicsAttachment( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsAttachment( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tjoint: xml.getAttribute( 'joint' ).split( '/' ).pop(),\r\n\t\t\t\ttransforms: [],\r\n\t\t\t\tlinks: []\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'link':\r\n\t\t\t\t\t\tdata.links.push( parseKinematicsLink( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\tdata.transforms.push( parseKinematicsTransform( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsTransform( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\ttype: xml.nodeName\r\n\t\t\t};\r\n\r\n\t\t\tvar array = parseFloats( xml.textContent );\r\n\r\n\t\t\tswitch ( data.type ) {\r\n\r\n\t\t\t\tcase 'matrix':\r\n\t\t\t\t\tdata.obj = new THREE.Matrix4();\r\n\t\t\t\t\tdata.obj.fromArray( array ).transpose();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'translate':\r\n\t\t\t\t\tdata.obj = new THREE.Vector3();\r\n\t\t\t\t\tdata.obj.fromArray( array );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'rotate':\r\n\t\t\t\t\tdata.obj = new THREE.Vector3();\r\n\t\t\t\t\tdata.obj.fromArray( array );\r\n\t\t\t\t\tdata.angle = THREE.Math.degToRad( array[ 3 ] );\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsScene( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tbindJointAxis: []\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'bind_joint_axis':\r\n\t\t\t\t\t\tdata.bindJointAxis.push( parseKinematicsBindJointAxis( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.kinematicsScenes[ parseId( xml.getAttribute( 'url' ) ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseKinematicsBindJointAxis( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\ttarget: xml.getAttribute( 'target' ).split( '/' ).pop()\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'axis':\r\n\t\t\t\t\t\tvar param = child.getElementsByTagName( 'param' )[ 0 ];\r\n\t\t\t\t\t\tdata.axis = param.textContent;\r\n\t\t\t\t\t\tvar tmpJointIndex = data.axis.split( 'inst_' ).pop().split( 'axis' )[ 0 ];\r\n\t\t\t\t\t\tdata.jointIndex = tmpJointIndex.substr( 0, tmpJointIndex.length - 1 );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildKinematicsScene( data ) {\r\n\r\n\t\t\tif ( data.build !== undefined ) return data.build;\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getKinematicsScene( id ) {\r\n\r\n\t\t\treturn getBuild( library.kinematicsScenes[ id ], buildKinematicsScene );\r\n\r\n\t\t}\r\n\r\n\t\tfunction setupKinematics() {\r\n\r\n\t\t\tvar kinematicsModelId = Object.keys( library.kinematicsModels )[ 0 ];\r\n\t\t\tvar kinematicsSceneId = Object.keys( library.kinematicsScenes )[ 0 ];\r\n\t\t\tvar visualSceneId = Object.keys( library.visualScenes )[ 0 ];\r\n\r\n\t\t\tif ( kinematicsModelId === undefined || kinematicsSceneId === undefined ) return;\r\n\r\n\t\t\tvar kinematicsModel = getKinematicsModel( kinematicsModelId );\r\n\t\t\tvar kinematicsScene = getKinematicsScene( kinematicsSceneId );\r\n\t\t\tvar visualScene = getVisualScene( visualSceneId );\r\n\r\n\t\t\tvar bindJointAxis = kinematicsScene.bindJointAxis;\r\n\t\t\tvar jointMap = {};\r\n\r\n\t\t\tfor ( var i = 0, l = bindJointAxis.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar axis = bindJointAxis[ i ];\r\n\r\n\t\t\t\t// the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\r\n\r\n\t\t\t\tvar targetElement = collada.querySelector( '[sid=\"' + axis.target + '\"]' );\r\n\r\n\t\t\t\tif ( targetElement ) {\r\n\r\n\t\t\t\t\t// get the parent of the transfrom element\r\n\r\n\t\t\t\t\tvar parentVisualElement = targetElement.parentElement;\r\n\r\n\t\t\t\t\t// connect the joint of the kinematics model with the element in the visual scene\r\n\r\n\t\t\t\t\tconnect( axis.jointIndex, parentVisualElement );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction connect( jointIndex, visualElement ) {\r\n\r\n\t\t\t\tvar visualElementName = visualElement.getAttribute( 'name' );\r\n\t\t\t\tvar joint = kinematicsModel.joints[ jointIndex ];\r\n\r\n\t\t\t\tvisualScene.traverse( function ( object ) {\r\n\r\n\t\t\t\t\tif ( object.name === visualElementName ) {\r\n\r\n\t\t\t\t\t\tjointMap[ jointIndex ] = {\r\n\t\t\t\t\t\t\tobject: object,\r\n\t\t\t\t\t\t\ttransforms: buildTransformList( visualElement ),\r\n\t\t\t\t\t\t\tjoint: joint,\r\n\t\t\t\t\t\t\tposition: joint.zeroPosition\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar m0 = new THREE.Matrix4();\r\n\r\n\t\t\tkinematics = {\r\n\r\n\t\t\t\tjoints: kinematicsModel && kinematicsModel.joints,\r\n\r\n\t\t\t\tgetJointValue: function ( jointIndex ) {\r\n\r\n\t\t\t\t\tvar jointData = jointMap[ jointIndex ];\r\n\r\n\t\t\t\t\tif ( jointData ) {\r\n\r\n\t\t\t\t\t\treturn jointData.position;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsetJointValue: function ( jointIndex, value ) {\r\n\r\n\t\t\t\t\tvar jointData = jointMap[ jointIndex ];\r\n\r\n\t\t\t\t\tif ( jointData ) {\r\n\r\n\t\t\t\t\t\tvar joint = jointData.joint;\r\n\r\n\t\t\t\t\t\tif ( value > joint.limits.max || value < joint.limits.min ) {\r\n\r\n\t\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').' );\r\n\r\n\t\t\t\t\t\t} else if ( joint.static ) {\r\n\r\n\t\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Joint ' + jointIndex + ' is static.' );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tvar object = jointData.object;\r\n\t\t\t\t\t\t\tvar axis = joint.axis;\r\n\t\t\t\t\t\t\tvar transforms = jointData.transforms;\r\n\r\n\t\t\t\t\t\t\tmatrix.identity();\r\n\r\n\t\t\t\t\t\t\t// each update, we have to apply all transforms in the correct order\r\n\r\n\t\t\t\t\t\t\tfor ( var i = 0; i < transforms.length; i ++ ) {\r\n\r\n\t\t\t\t\t\t\t\tvar transform = transforms[ i ];\r\n\r\n\t\t\t\t\t\t\t\t// if there is a connection of the transform node with a joint, apply the joint value\r\n\r\n\t\t\t\t\t\t\t\tif ( transform.sid && transform.sid.indexOf( jointIndex ) !== - 1 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tswitch ( joint.type ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'revolute':\r\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( axis, THREE.Math.degToRad( value ) ) );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'prismatic':\r\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( axis.x * value, axis.y * value, axis.z * value ) );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.warn( 'ColladaLoader: Unknown joint type: ' + joint.type );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\tswitch ( transform.type ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( transform.obj );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeTranslation( transform.obj.x, transform.obj.y, transform.obj.z ) );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\t\t\t\t\t\tmatrix.scale( transform.obj );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\t\t\t\t\t\tmatrix.multiply( m0.makeRotationAxis( transform.obj, transform.angle ) );\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tobject.matrix.copy( matrix );\r\n\t\t\t\t\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\r\n\r\n\t\t\t\t\t\t\tjointMap[ jointIndex ].position = value;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.log( 'ColladaLoader: ' + jointIndex + ' does not exist.' );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildTransformList( node ) {\r\n\r\n\t\t\tvar transforms = [];\r\n\r\n\t\t\tvar xml = collada.querySelector( '[id=\"' + node.id + '\"]' );\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tvar matrix = new THREE.Matrix4().fromArray( array ).transpose();\r\n\t\t\t\t\t\ttransforms.push( {\r\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\r\n\t\t\t\t\t\t\ttype: child.nodeName,\r\n\t\t\t\t\t\t\tobj: matrix\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tvar vector = new THREE.Vector3().fromArray( array );\r\n\t\t\t\t\t\ttransforms.push( {\r\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\r\n\t\t\t\t\t\t\ttype: child.nodeName,\r\n\t\t\t\t\t\t\tobj: vector\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tvar vector = new THREE.Vector3().fromArray( array );\r\n\t\t\t\t\t\tvar angle = THREE.Math.degToRad( array[ 3 ] );\r\n\t\t\t\t\t\ttransforms.push( {\r\n\t\t\t\t\t\t\tsid: child.getAttribute( 'sid' ),\r\n\t\t\t\t\t\t\ttype: child.nodeName,\r\n\t\t\t\t\t\t\tobj: vector,\r\n\t\t\t\t\t\t\tangle: angle\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn transforms;\r\n\r\n\t\t}\r\n\r\n\t\t// nodes\r\n\r\n\t\tvar matrix = new THREE.Matrix4();\r\n\t\tvar vector = new THREE.Vector3();\r\n\r\n\t\tfunction parseNode( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'name' ),\r\n\t\t\t\ttype: xml.getAttribute( 'type' ),\r\n\t\t\t\tid: xml.getAttribute( 'id' ),\r\n\t\t\t\tsid: xml.getAttribute( 'sid' ),\r\n\t\t\t\tmatrix: new THREE.Matrix4(),\r\n\t\t\t\tnodes: [],\r\n\t\t\t\tinstanceCameras: [],\r\n\t\t\t\tinstanceControllers: [],\r\n\t\t\t\tinstanceLights: [],\r\n\t\t\t\tinstanceGeometries: [],\r\n\t\t\t\tinstanceNodes: [],\r\n\t\t\t\ttransforms: {}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tif ( child.nodeType !== 1 ) continue;\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'node':\r\n\r\n\t\t\t\t\t\tif ( child.hasAttribute( 'id' ) ) {\r\n\r\n\t\t\t\t\t\t\tdata.nodes.push( child.getAttribute( 'id' ) );\r\n\t\t\t\t\t\t\tparseNode( child );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'instance_camera':\r\n\t\t\t\t\t\tdata.instanceCameras.push( parseId( child.getAttribute( 'url' ) ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'instance_controller':\r\n\t\t\t\t\t\tdata.instanceControllers.push( parseNodeInstance( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'instance_light':\r\n\t\t\t\t\t\tdata.instanceLights.push( parseId( child.getAttribute( 'url' ) ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'instance_geometry':\r\n\t\t\t\t\t\tdata.instanceGeometries.push( parseNodeInstance( child ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'instance_node':\r\n\t\t\t\t\t\tdata.instanceNodes.push( parseId( child.getAttribute( 'url' ) ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'matrix':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tdata.matrix.multiply( matrix.fromArray( array ).transpose() );\r\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'translate':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tvector.fromArray( array );\r\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeTranslation( vector.x, vector.y, vector.z ) );\r\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'rotate':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tvar angle = THREE.Math.degToRad( array[ 3 ] );\r\n\t\t\t\t\t\tdata.matrix.multiply( matrix.makeRotationAxis( vector.fromArray( array ), angle ) );\r\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'scale':\r\n\t\t\t\t\t\tvar array = parseFloats( child.textContent );\r\n\t\t\t\t\t\tdata.matrix.scale( vector.fromArray( array ) );\r\n\t\t\t\t\t\tdata.transforms[ child.getAttribute( 'sid' ) ] = child.nodeName;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'extra':\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log( child );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( xml.hasAttribute( 'id' ) ) {\r\n\r\n\t\t\t\tlibrary.nodes[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseNodeInstance( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tid: parseId( xml.getAttribute( 'url' ) ),\r\n\t\t\t\tmaterials: {},\r\n\t\t\t\tskeletons: []\r\n\t\t\t};\r\n\r\n\t\t\tfor ( var i = 0; i < xml.childNodes.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = xml.childNodes[ i ];\r\n\r\n\t\t\t\tswitch ( child.nodeName ) {\r\n\r\n\t\t\t\t\tcase 'bind_material':\r\n\t\t\t\t\t\tvar instances = child.getElementsByTagName( 'instance_material' );\r\n\r\n\t\t\t\t\t\tfor ( var j = 0; j < instances.length; j ++ ) {\r\n\r\n\t\t\t\t\t\t\tvar instance = instances[ j ];\r\n\t\t\t\t\t\t\tvar symbol = instance.getAttribute( 'symbol' );\r\n\t\t\t\t\t\t\tvar target = instance.getAttribute( 'target' );\r\n\r\n\t\t\t\t\t\t\tdata.materials[ symbol ] = parseId( target );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'skeleton':\r\n\t\t\t\t\t\tdata.skeletons.push( parseId( child.textContent ) );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildSkeleton( skeletons, joints ) {\r\n\r\n\t\t\tvar boneData = [];\r\n\t\t\tvar sortedBoneData = [];\r\n\r\n\t\t\tvar i, j, data;\r\n\r\n\t\t\t// a skeleton can have multiple root bones. collada expresses this\r\n\t\t\t// situtation with multiple \"skeleton\" tags per controller instance\r\n\r\n\t\t\tfor ( i = 0; i < skeletons.length; i ++ ) {\r\n\r\n\t\t\t\tvar skeleton = skeletons[ i ];\r\n\t\t\t\tvar root = getNode( skeleton );\r\n\r\n\t\t\t\t// setup bone data for a single bone hierarchy\r\n\r\n\t\t\t\tbuildBoneHierarchy( root, joints, boneData );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// sort bone data (the order is defined in the corresponding controller)\r\n\r\n\t\t\tfor ( i = 0; i < joints.length; i ++ ) {\r\n\r\n\t\t\t\tfor ( j = 0; j < boneData.length; j ++ ) {\r\n\r\n\t\t\t\t\tdata = boneData[ j ];\r\n\r\n\t\t\t\t\tif ( data.bone.name === joints[ i ].name ) {\r\n\r\n\t\t\t\t\t\tsortedBoneData[ i ] = data;\r\n\t\t\t\t\t\tdata.processed = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// add unprocessed bone data at the end of the list\r\n\r\n\t\t\tfor ( i = 0; i < boneData.length; i ++ ) {\r\n\r\n\t\t\t\tdata = boneData[ i ];\r\n\r\n\t\t\t\tif ( data.processed === false ) {\r\n\r\n\t\t\t\t\tsortedBoneData.push( data );\r\n\t\t\t\t\tdata.processed = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// setup arrays for skeleton creation\r\n\r\n\t\t\tvar bones = [];\r\n\t\t\tvar boneInverses = [];\r\n\r\n\t\t\tfor ( i = 0; i < sortedBoneData.length; i ++ ) {\r\n\r\n\t\t\t\tdata = sortedBoneData[ i ];\r\n\r\n\t\t\t\tbones.push( data.bone );\r\n\t\t\t\tboneInverses.push( data.boneInverse );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn new THREE.Skeleton( bones, boneInverses );\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildBoneHierarchy( root, joints, boneData ) {\r\n\r\n\t\t\t// setup bone data from visual scene\r\n\r\n\t\t\troot.traverse( function ( object ) {\r\n\r\n\t\t\t\tif ( object.isBone === true ) {\r\n\r\n\t\t\t\t\tvar boneInverse;\r\n\r\n\t\t\t\t\t// retrieve the boneInverse from the controller data\r\n\r\n\t\t\t\t\tfor ( var i = 0; i < joints.length; i ++ ) {\r\n\r\n\t\t\t\t\t\tvar joint = joints[ i ];\r\n\r\n\t\t\t\t\t\tif ( joint.name === object.name ) {\r\n\r\n\t\t\t\t\t\t\tboneInverse = joint.boneInverse;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( boneInverse === undefined ) {\r\n\r\n\t\t\t\t\t\t// Unfortunately, there can be joints in the visual scene that are not part of the\r\n\t\t\t\t\t\t// corresponding controller. In this case, we have to create a dummy boneInverse matrix\r\n\t\t\t\t\t\t// for the respective bone. This bone won't affect any vertices, because there are no skin indices\r\n\t\t\t\t\t\t// and weights defined for it. But we still have to add the bone to the sorted bone list in order to\r\n\t\t\t\t\t\t// ensure a correct animation of the model.\r\n\r\n\t\t\t\t\t\t boneInverse = new THREE.Matrix4();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tboneData.push( { bone: object, boneInverse: boneInverse, processed: false } );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildNode( data ) {\r\n\r\n\t\t\tvar objects = [];\r\n\r\n\t\t\tvar matrix = data.matrix;\r\n\t\t\tvar nodes = data.nodes;\r\n\t\t\tvar type = data.type;\r\n\t\t\tvar instanceCameras = data.instanceCameras;\r\n\t\t\tvar instanceControllers = data.instanceControllers;\r\n\t\t\tvar instanceLights = data.instanceLights;\r\n\t\t\tvar instanceGeometries = data.instanceGeometries;\r\n\t\t\tvar instanceNodes = data.instanceNodes;\r\n\r\n\t\t\t// nodes\r\n\r\n\t\t\tfor ( var i = 0, l = nodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tobjects.push( getNode( nodes[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// instance cameras\r\n\r\n\t\t\tfor ( var i = 0, l = instanceCameras.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tobjects.push( getCamera( instanceCameras[ i ] ).clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// instance controllers\r\n\r\n\t\t\tfor ( var i = 0, l = instanceControllers.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar instance = instanceControllers[ i ];\r\n\t\t\t\tvar controller = getController( instance.id );\r\n\t\t\t\tvar geometries = getGeometry( controller.id );\r\n\t\t\t\tvar newObjects = buildObjects( geometries, instance.materials );\r\n\r\n\t\t\t\tvar skeletons = instance.skeletons;\r\n\t\t\t\tvar joints = controller.skin.joints;\r\n\r\n\t\t\t\tvar skeleton = buildSkeleton( skeletons, joints );\r\n\r\n\t\t\t\tfor ( var j = 0, jl = newObjects.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tvar object = newObjects[ j ];\r\n\r\n\t\t\t\t\tif ( object.isSkinnedMesh ) {\r\n\r\n\t\t\t\t\t\tobject.bind( skeleton, controller.skin.bindMatrix );\r\n\t\t\t\t\t\tobject.normalizeSkinWeights();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobjects.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// instance lights\r\n\r\n\t\t\tfor ( var i = 0, l = instanceLights.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tobjects.push( getLight( instanceLights[ i ] ).clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// instance geometries\r\n\r\n\t\t\tfor ( var i = 0, l = instanceGeometries.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar instance = instanceGeometries[ i ];\r\n\r\n\t\t\t\t// a single geometry instance in collada can lead to multiple object3Ds.\r\n\t\t\t\t// this is the case when primitives are combined like triangles and lines\r\n\r\n\t\t\t\tvar geometries = getGeometry( instance.id );\r\n\t\t\t\tvar newObjects = buildObjects( geometries, instance.materials );\r\n\r\n\t\t\t\tfor ( var j = 0, jl = newObjects.length; j < jl; j ++ ) {\r\n\r\n\t\t\t\t\tobjects.push( newObjects[ j ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// instance nodes\r\n\r\n\t\t\tfor ( var i = 0, l = instanceNodes.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tobjects.push( getNode( instanceNodes[ i ] ).clone() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar object;\r\n\r\n\t\t\tif ( nodes.length === 0 && objects.length === 1 ) {\r\n\r\n\t\t\t\tobject = objects[ 0 ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tobject = ( type === 'JOINT' ) ? new THREE.Bone() : new THREE.Group();\r\n\r\n\t\t\t\tfor ( var i = 0; i < objects.length; i ++ ) {\r\n\r\n\t\t\t\t\tobject.add( objects[ i ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tobject.name = ( type === 'JOINT' ) ? data.sid : data.name;\r\n\t\t\tobject.matrix.copy( matrix );\r\n\t\t\tobject.matrix.decompose( object.position, object.quaternion, object.scale );\r\n\r\n\t\t\treturn object;\r\n\r\n\t\t}\r\n\r\n\t\tfunction resolveMaterialBinding( keys, instanceMaterials ) {\r\n\r\n\t\t\tvar materials = [];\r\n\r\n\t\t\tfor ( var i = 0, l = keys.length; i < l; i ++ ) {\r\n\r\n\t\t\t\tvar id = instanceMaterials[ keys[ i ] ];\r\n\t\t\t\tmaterials.push( getMaterial( id ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn materials;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildObjects( geometries, instanceMaterials ) {\r\n\r\n\t\t\tvar objects = [];\r\n\r\n\t\t\tfor ( var type in geometries ) {\r\n\r\n\t\t\t\tvar geometry = geometries[ type ];\r\n\r\n\t\t\t\tvar materials = resolveMaterialBinding( geometry.materialKeys, instanceMaterials );\r\n\r\n\t\t\t\t// handle case if no materials are defined\r\n\r\n\t\t\t\tif ( materials.length === 0 ) {\r\n\r\n\t\t\t\t\tif ( type === 'lines' || type === 'linestrips' ) {\r\n\r\n\t\t\t\t\t\tmaterials.push( new THREE.LineBasicMaterial() );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tmaterials.push( new THREE.MeshPhongMaterial() );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// regard skinning\r\n\r\n\t\t\t\tvar skinning = ( geometry.data.attributes.skinIndex !== undefined );\r\n\r\n\t\t\t\tif ( skinning ) {\r\n\r\n\t\t\t\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\tmaterials[ i ].skinning = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// choose between a single or multi materials (material array)\r\n\r\n\t\t\t\tvar material = ( materials.length === 1 ) ? materials[ 0 ] : materials;\r\n\r\n\t\t\t\t// now create a specific 3D object\r\n\r\n\t\t\t\tvar object;\r\n\r\n\t\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\t\tcase 'lines':\r\n\t\t\t\t\t\tobject = new THREE.LineSegments( geometry.data, material );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'linestrips':\r\n\t\t\t\t\t\tobject = new THREE.Line( geometry.data, material );\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'triangles':\r\n\t\t\t\t\tcase 'polylist':\r\n\t\t\t\t\t\tif ( skinning ) {\r\n\r\n\t\t\t\t\t\t\tobject = new THREE.SkinnedMesh( geometry.data, material );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tobject = new THREE.Mesh( geometry.data, material );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobjects.push( object );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn objects;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getNode( id ) {\r\n\r\n\t\t\treturn getBuild( library.nodes[ id ], buildNode );\r\n\r\n\t\t}\r\n\r\n\t\t// visual scenes\r\n\r\n\t\tfunction parseVisualScene( xml ) {\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tname: xml.getAttribute( 'name' ),\r\n\t\t\t\tchildren: []\r\n\t\t\t};\r\n\r\n\t\t\tvar elements = getElementsByTagName( xml, 'node' );\r\n\r\n\t\t\tfor ( var i = 0; i < elements.length; i ++ ) {\r\n\r\n\t\t\t\tdata.children.push( parseNode( elements[ i ] ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tlibrary.visualScenes[ xml.getAttribute( 'id' ) ] = data;\r\n\r\n\t\t}\r\n\r\n\t\tfunction buildVisualScene( data ) {\r\n\r\n\t\t\tvar group = new THREE.Group();\r\n\t\t\tgroup.name = data.name;\r\n\r\n\t\t\tvar children = data.children;\r\n\r\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\r\n\r\n\t\t\t\tvar child = children[ i ];\r\n\r\n\t\t\t\tif ( child.id === null ) {\r\n\r\n\t\t\t\t\tgroup.add( buildNode( child ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// if there is an ID, let's try to get the finished build (e.g. joints are already build)\r\n\r\n\t\t\t\t\tgroup.add( getNode( child.id ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn group;\r\n\r\n\t\t}\r\n\r\n\t\tfunction getVisualScene( id ) {\r\n\r\n\t\t\treturn getBuild( library.visualScenes[ id ], buildVisualScene );\r\n\r\n\t\t}\r\n\r\n\t\t// scenes\r\n\r\n\t\tfunction parseScene( xml ) {\r\n\r\n\t\t\tvar instance = getElementsByTagName( xml, 'instance_visual_scene' )[ 0 ];\r\n\t\t\treturn getVisualScene( parseId( instance.getAttribute( 'url' ) ) );\r\n\r\n\t\t}\r\n\r\n\t\tfunction setupAnimations() {\r\n\r\n\t\t\tvar clips = library.clips;\r\n\r\n\t\t\tif ( isEmpty( clips ) === true ) {\r\n\r\n\t\t\t\tif ( isEmpty( library.animations ) === false ) {\r\n\r\n\t\t\t\t\t// if there are animations but no clips, we create a default clip for playback\r\n\r\n\t\t\t\t\tvar tracks = [];\r\n\r\n\t\t\t\t\tfor ( var id in library.animations ) {\r\n\r\n\t\t\t\t\t\tvar animationTracks = getAnimation( id );\r\n\r\n\t\t\t\t\t\tfor ( var i = 0, l = animationTracks.length; i < l; i ++ ) {\r\n\r\n\t\t\t\t\t\t\ttracks.push( animationTracks[ i ] );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimations.push( new THREE.AnimationClip( 'default', - 1, tracks ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tfor ( var id in clips ) {\r\n\r\n\t\t\t\t\tanimations.push( getAnimationClip( id ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tconsole.time( 'ColladaLoader' );\r\n\r\n\t\tif ( text.length === 0 ) {\r\n\r\n\t\t\treturn { scene: new THREE.Scene() };\r\n\r\n\t\t}\r\n\r\n\t\tconsole.time( 'ColladaLoader: DOMParser' );\r\n\r\n\t\tvar xml = new DOMParser().parseFromString( text, 'application/xml' );\r\n\r\n\t\tconsole.timeEnd( 'ColladaLoader: DOMParser' );\r\n\r\n\t\tvar collada = getElementsByTagName( xml, 'COLLADA' )[ 0 ];\r\n\r\n\t\t// metadata\r\n\r\n\t\tvar version = collada.getAttribute( 'version' );\r\n\t\tconsole.log( 'ColladaLoader: File version', version );\r\n\r\n\t\tvar asset = parseAsset( getElementsByTagName( collada, 'asset' )[ 0 ] );\r\n\t\tvar textureLoader = new THREE.TextureLoader( this.manager );\r\n\t\ttextureLoader.setPath( path ).setCrossOrigin( this.crossOrigin );\r\n\r\n\t\t//\r\n\r\n\t\tvar animations = [];\r\n\t\tvar kinematics = {};\r\n\r\n\t\t//\r\n\r\n\t\tvar library = {\r\n\t\t\tanimations: {},\r\n\t\t\tclips: {},\r\n\t\t\tcontrollers: {},\r\n\t\t\timages: {},\r\n\t\t\teffects: {},\r\n\t\t\tmaterials: {},\r\n\t\t\tcameras: {},\r\n\t\t\tlights: {},\r\n\t\t\tgeometries: {},\r\n\t\t\tnodes: {},\r\n\t\t\tvisualScenes: {},\r\n\t\t\tkinematicsModels: {},\r\n\t\t\tkinematicsScenes: {}\r\n\t\t};\r\n\r\n\t\tconsole.time( 'ColladaLoader: Parse' );\r\n\r\n\t\tparseLibrary( collada, 'library_animations', 'animation', parseAnimation );\r\n\t\tparseLibrary( collada, 'library_animation_clips', 'animation_clip', parseAnimationClip );\r\n\t\tparseLibrary( collada, 'library_controllers', 'controller', parseController );\r\n\t\tparseLibrary( collada, 'library_images', 'image', parseImage );\r\n\t\tparseLibrary( collada, 'library_effects', 'effect', parseEffect );\r\n\t\tparseLibrary( collada, 'library_materials', 'material', parseMaterial );\r\n\t\tparseLibrary( collada, 'library_cameras', 'camera', parseCamera );\r\n\t\tparseLibrary( collada, 'library_lights', 'light', parseLight );\r\n\t\tparseLibrary( collada, 'library_geometries', 'geometry', parseGeometry );\r\n\t\tparseLibrary( collada, 'library_nodes', 'node', parseNode );\r\n\t\tparseLibrary( collada, 'library_visual_scenes', 'visual_scene', parseVisualScene );\r\n\t\tparseLibrary( collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel );\r\n\t\tparseLibrary( collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene );\r\n\r\n\t\tconsole.timeEnd( 'ColladaLoader: Parse' );\r\n\r\n\t\tconsole.time( 'ColladaLoader: Build' );\r\n\r\n\t\tbuildLibrary( library.animations, buildAnimation );\r\n\t\tbuildLibrary( library.clips, buildAnimationClip );\r\n\t\tbuildLibrary( library.controllers, buildController );\r\n\t\tbuildLibrary( library.images, buildImage );\r\n\t\tbuildLibrary( library.effects, buildEffect );\r\n\t\tbuildLibrary( library.materials, buildMaterial );\r\n\t\tbuildLibrary( library.cameras, buildCamera );\r\n\t\tbuildLibrary( library.lights, buildLight );\r\n\t\tbuildLibrary( library.geometries, buildGeometry );\r\n\t\tbuildLibrary( library.visualScenes, buildVisualScene );\r\n\r\n\t\tconsole.timeEnd( 'ColladaLoader: Build' );\r\n\r\n\t\tsetupAnimations();\r\n\t\tsetupKinematics();\r\n\r\n\t\tvar scene = parseScene( getElementsByTagName( collada, 'scene' )[ 0 ] );\r\n\r\n\t\tif ( asset.upAxis === 'Z_UP' ) {\r\n\r\n\t\t\tscene.rotation.x = - Math.PI / 2;\r\n\r\n\t\t}\r\n\r\n\t\tscene.scale.multiplyScalar( asset.unit );\r\n\r\n\t\tconsole.timeEnd( 'ColladaLoader' );\r\n\r\n\t\treturn {\r\n\t\t\tanimations: animations,\r\n\t\t\tkinematics: kinematics,\r\n\t\t\tlibrary: library,\r\n\t\t\tscene: scene\r\n\t\t};\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { ColladaLoader }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/ColladaLoader.js","import * as THREE from 'three';\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/OBJLoader.js\r\n\r\nconst DDSLoader = function () {\r\n\r\n\tthis._parser = DDSLoader.parse;\r\n\r\n};\r\n\r\nDDSLoader.prototype = Object.create( THREE.CompressedTextureLoader.prototype );\r\nDDSLoader.prototype.constructor = DDSLoader;\r\n\r\nDDSLoader.parse = function ( buffer, loadMipmaps ) {\r\n\r\n\tvar dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\r\n\r\n\t// Adapted from @toji's DDS utils\r\n\t// https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\r\n\r\n\t// All values and structures referenced from:\r\n\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\r\n\r\n\tvar DDS_MAGIC = 0x20534444;\r\n\r\n\tvar DDSD_CAPS = 0x1,\r\n\t\tDDSD_HEIGHT = 0x2,\r\n\t\tDDSD_WIDTH = 0x4,\r\n\t\tDDSD_PITCH = 0x8,\r\n\t\tDDSD_PIXELFORMAT = 0x1000,\r\n\t\tDDSD_MIPMAPCOUNT = 0x20000,\r\n\t\tDDSD_LINEARSIZE = 0x80000,\r\n\t\tDDSD_DEPTH = 0x800000;\r\n\r\n\tvar DDSCAPS_COMPLEX = 0x8,\r\n\t\tDDSCAPS_MIPMAP = 0x400000,\r\n\t\tDDSCAPS_TEXTURE = 0x1000;\r\n\r\n\tvar DDSCAPS2_CUBEMAP = 0x200,\r\n\t\tDDSCAPS2_CUBEMAP_POSITIVEX = 0x400,\r\n\t\tDDSCAPS2_CUBEMAP_NEGATIVEX = 0x800,\r\n\t\tDDSCAPS2_CUBEMAP_POSITIVEY = 0x1000,\r\n\t\tDDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000,\r\n\t\tDDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000,\r\n\t\tDDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000,\r\n\t\tDDSCAPS2_VOLUME = 0x200000;\r\n\r\n\tvar DDPF_ALPHAPIXELS = 0x1,\r\n\t\tDDPF_ALPHA = 0x2,\r\n\t\tDDPF_FOURCC = 0x4,\r\n\t\tDDPF_RGB = 0x40,\r\n\t\tDDPF_YUV = 0x200,\r\n\t\tDDPF_LUMINANCE = 0x20000;\r\n\r\n\tfunction fourCCToInt32( value ) {\r\n\r\n\t\treturn value.charCodeAt( 0 ) +\r\n\t\t\t( value.charCodeAt( 1 ) << 8 ) +\r\n\t\t\t( value.charCodeAt( 2 ) << 16 ) +\r\n\t\t\t( value.charCodeAt( 3 ) << 24 );\r\n\r\n\t}\r\n\r\n\tfunction int32ToFourCC( value ) {\r\n\r\n\t\treturn String.fromCharCode(\r\n\t\t\tvalue & 0xff,\r\n\t\t\t( value >> 8 ) & 0xff,\r\n\t\t\t( value >> 16 ) & 0xff,\r\n\t\t\t( value >> 24 ) & 0xff\r\n\t\t);\r\n\r\n\t}\r\n\r\n\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\r\n\r\n\t\tvar dataLength = width * height * 4;\r\n\t\tvar srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\r\n\t\tvar byteArray = new Uint8Array( dataLength );\r\n\t\tvar dst = 0;\r\n\t\tvar src = 0;\r\n\t\tfor ( var y = 0; y < height; y ++ ) {\r\n\r\n\t\t\tfor ( var x = 0; x < width; x ++ ) {\r\n\r\n\t\t\t\tvar b = srcBuffer[ src ]; src ++;\r\n\t\t\t\tvar g = srcBuffer[ src ]; src ++;\r\n\t\t\t\tvar r = srcBuffer[ src ]; src ++;\r\n\t\t\t\tvar a = srcBuffer[ src ]; src ++;\r\n\t\t\t\tbyteArray[ dst ] = r; dst ++;\t//r\r\n\t\t\t\tbyteArray[ dst ] = g; dst ++;\t//g\r\n\t\t\t\tbyteArray[ dst ] = b; dst ++;\t//b\r\n\t\t\t\tbyteArray[ dst ] = a; dst ++;\t//a\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn byteArray;\r\n\r\n\t}\r\n\r\n\tvar FOURCC_DXT1 = fourCCToInt32( \"DXT1\" );\r\n\tvar FOURCC_DXT3 = fourCCToInt32( \"DXT3\" );\r\n\tvar FOURCC_DXT5 = fourCCToInt32( \"DXT5\" );\r\n\tvar FOURCC_ETC1 = fourCCToInt32( \"ETC1\" );\r\n\r\n\tvar headerLengthInt = 31; // The header length in 32 bit ints\r\n\r\n\t// Offsets into the header array\r\n\r\n\tvar off_magic = 0;\r\n\r\n\tvar off_size = 1;\r\n\tvar off_flags = 2;\r\n\tvar off_height = 3;\r\n\tvar off_width = 4;\r\n\r\n\tvar off_mipmapCount = 7;\r\n\r\n\tvar off_pfFlags = 20;\r\n\tvar off_pfFourCC = 21;\r\n\tvar off_RGBBitCount = 22;\r\n\tvar off_RBitMask = 23;\r\n\tvar off_GBitMask = 24;\r\n\tvar off_BBitMask = 25;\r\n\tvar off_ABitMask = 26;\r\n\r\n\tvar off_caps = 27;\r\n\tvar off_caps2 = 28;\r\n\tvar off_caps3 = 29;\r\n\tvar off_caps4 = 30;\r\n\r\n\t// Parse header\r\n\r\n\tvar header = new Int32Array( buffer, 0, headerLengthInt );\r\n\r\n\tif ( header[ off_magic ] !== DDS_MAGIC ) {\r\n\r\n\t\tconsole.error( 'DDSLoader.parse: Invalid magic number in DDS header.' );\r\n\t\treturn dds;\r\n\r\n\t}\r\n\r\n\tif ( ! header[ off_pfFlags ] & DDPF_FOURCC ) {\r\n\r\n\t\tconsole.error( 'DDSLoader.parse: Unsupported format, must contain a FourCC code.' );\r\n\t\treturn dds;\r\n\r\n\t}\r\n\r\n\tvar blockBytes;\r\n\r\n\tvar fourCC = header[ off_pfFourCC ];\r\n\r\n\tvar isRGBAUncompressed = false;\r\n\r\n\tswitch ( fourCC ) {\r\n\r\n\t\tcase FOURCC_DXT1:\r\n\r\n\t\t\tblockBytes = 8;\r\n\t\t\tdds.format = THREE.RGB_S3TC_DXT1_Format;\r\n\t\t\tbreak;\r\n\r\n\t\tcase FOURCC_DXT3:\r\n\r\n\t\t\tblockBytes = 16;\r\n\t\t\tdds.format = THREE.RGBA_S3TC_DXT3_Format;\r\n\t\t\tbreak;\r\n\r\n\t\tcase FOURCC_DXT5:\r\n\r\n\t\t\tblockBytes = 16;\r\n\t\t\tdds.format = THREE.RGBA_S3TC_DXT5_Format;\r\n\t\t\tbreak;\r\n\r\n\t\tcase FOURCC_ETC1:\r\n\r\n\t\t\tblockBytes = 8;\r\n\t\t\tdds.format = THREE.RGB_ETC1_Format;\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\r\n\t\t\tif ( header[ off_RGBBitCount ] === 32\r\n\t\t\t\t&& header[ off_RBitMask ] & 0xff0000\r\n\t\t\t\t&& header[ off_GBitMask ] & 0xff00\r\n\t\t\t\t&& header[ off_BBitMask ] & 0xff\r\n\t\t\t\t&& header[ off_ABitMask ] & 0xff000000  ) {\r\n\r\n\t\t\t\tisRGBAUncompressed = true;\r\n\t\t\t\tblockBytes = 64;\r\n\t\t\t\tdds.format = THREE.RGBAFormat;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tconsole.error( 'DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\r\n\t\t\t\treturn dds;\r\n\r\n\t\t\t}\r\n\t}\r\n\r\n\tdds.mipmapCount = 1;\r\n\r\n\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\r\n\r\n\t\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\r\n\r\n\t}\r\n\r\n\tvar caps2 = header[ off_caps2 ];\r\n\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\r\n\tif ( dds.isCubemap && (\r\n\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\r\n\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\r\n\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\r\n\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\r\n\t\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\r\n\t\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\r\n\t\t) ) {\r\n\r\n\t\tconsole.error( 'DDSLoader.parse: Incomplete cubemap faces' );\r\n\t\treturn dds;\r\n\r\n\t}\r\n\r\n\tdds.width = header[ off_width ];\r\n\tdds.height = header[ off_height ];\r\n\r\n\tvar dataOffset = header[ off_size ] + 4;\r\n\r\n\t// Extract mipmaps buffers\r\n\r\n\tvar faces = dds.isCubemap ? 6 : 1;\r\n\r\n\tfor ( var face = 0; face < faces; face ++ ) {\r\n\r\n\t\tvar width = dds.width;\r\n\t\tvar height = dds.height;\r\n\r\n\t\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\r\n\r\n\t\t\tif ( isRGBAUncompressed ) {\r\n\r\n\t\t\t\tvar byteArray = loadARGBMip( buffer, dataOffset, width, height );\r\n\t\t\t\tvar dataLength = byteArray.length;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar dataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\r\n\t\t\t\tvar byteArray = new Uint8Array( buffer, dataOffset, dataLength );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar mipmap = { \"data\": byteArray, \"width\": width, \"height\": height };\r\n\t\t\tdds.mipmaps.push( mipmap );\r\n\r\n\t\t\tdataOffset += dataLength;\r\n\r\n\t\t\twidth = Math.max( width >> 1, 1 );\r\n\t\t\theight = Math.max( height >> 1, 1 );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn dds;\r\n\r\n};\r\n\r\nexport { DDSLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/DDSLoader.js","import * as THREE from 'three';\r\nimport { DDSLoader } from './DDSLoader'\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/MTLLoader.js\r\n\r\nconst LoaderHandlers = THREE.Loader.Handlers;\r\nLoaderHandlers.add( /\\.dds$/i, new DDSLoader() );\r\n\r\nconst MTLLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nMTLLoader.prototype = {\r\n\r\n\tconstructor: MTLLoader,\r\n\r\n\t/**\r\n\t * Loads and parses a MTL asset from a URL.\r\n\t *\r\n\t * @param {String} url - URL to the MTL file.\r\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\r\n\t * @param {Function} [onProgress] - Callback for download progress.\r\n\t * @param {Function} [onError] - Callback for download errors.\r\n\t *\r\n\t * @see setPath setTexturePath\r\n\t *\r\n\t * @note In order for relative texture references to resolve correctly\r\n\t * you must call setPath and/or setTexturePath explicitly prior to load.\r\n\t */\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.FileLoader( this.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Set base path for resolving references.\r\n\t * If set this path will be prepended to each loaded and found reference.\r\n\t *\r\n\t * @see setTexturePath\r\n\t * @param {String} path\r\n\t *\r\n\t * @example\r\n\t *     mtlLoader.setPath( 'assets/obj/' );\r\n\t *     mtlLoader.load( 'my.mtl', ... );\r\n\t */\r\n\tsetPath: function ( path ) {\r\n\r\n\t\tthis.path = path;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Set base path for resolving texture references.\r\n\t * If set this path will be prepended found texture reference.\r\n\t * If not set and setPath is, it will be used as texture base path.\r\n\t *\r\n\t * @see setPath\r\n\t * @param {String} path\r\n\t *\r\n\t * @example\r\n\t *     mtlLoader.setPath( 'assets/obj/' );\r\n\t *     mtlLoader.setTexturePath( 'assets/textures/' );\r\n\t *     mtlLoader.load( 'my.mtl', ... );\r\n\t */\r\n\tsetTexturePath: function ( path ) {\r\n\r\n\t\tthis.texturePath = path;\r\n\r\n\t},\r\n\r\n\tsetBaseUrl: function ( path ) {\r\n\r\n\t\tconsole.warn( 'MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.' );\r\n\r\n\t\tthis.setTexturePath( path );\r\n\r\n\t},\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tsetMaterialOptions: function ( value ) {\r\n\r\n\t\tthis.materialOptions = value;\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Parses a MTL file.\r\n\t *\r\n\t * @param {String} text - Content of MTL file\r\n\t * @return {MTLLoader.MaterialCreator}\r\n\t *\r\n\t * @see setPath setTexturePath\r\n\t *\r\n\t * @note In order for relative texture references to resolve correctly\r\n\t * you must call setPath and/or setTexturePath explicitly prior to parse.\r\n\t */\r\n\tparse: function ( text ) {\r\n\r\n\t\tvar lines = text.split( '\\n' );\r\n\t\tvar info = {};\r\n\t\tvar delimiter_pattern = /\\s+/;\r\n\t\tvar materialsInfo = {};\r\n\r\n\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\tvar line = lines[ i ];\r\n\t\t\tline = line.trim();\r\n\r\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\r\n\r\n\t\t\t\t// Blank line or comment ignore\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar pos = line.indexOf( ' ' );\r\n\r\n\t\t\tvar key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\r\n\t\t\tkey = key.toLowerCase();\r\n\r\n\t\t\tvar value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\r\n\t\t\tvalue = value.trim();\r\n\r\n\t\t\tif ( key === 'newmtl' ) {\r\n\r\n\t\t\t\t// New material\r\n\r\n\t\t\t\tinfo = { name: value };\r\n\t\t\t\tmaterialsInfo[ value ] = info;\r\n\r\n\t\t\t} else if ( info ) {\r\n\r\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' ) {\r\n\r\n\t\t\t\t\tvar ss = value.split( delimiter_pattern, 3 );\r\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tinfo[ key ] = value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar materialCreator = new MTLLoader.MaterialCreator( this.texturePath || this.path, this.materialOptions );\r\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\r\n\t\tmaterialCreator.setManager( this.manager );\r\n\t\tmaterialCreator.setMaterials( materialsInfo );\r\n\t\treturn materialCreator;\r\n\r\n\t}\r\n\r\n};\r\n\r\n/**\r\n * Create a new THREE-MTLLoader.MaterialCreator\r\n * @param baseUrl - Url relative to which textures are loaded\r\n * @param options - Set of options on how to construct the materials\r\n *                  side: Which side to apply the material\r\n *                        THREE.FrontSide (default), THREE.BackSide, THREE.DoubleSide\r\n *                  wrap: What type of wrapping to apply for textures\r\n *                        THREE.RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\r\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\r\n *                                Default: false, assumed to be already normalized\r\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\r\n *                                  Default: false\r\n * @constructor\r\n */\r\n\r\nMTLLoader.MaterialCreator = function ( baseUrl, options ) {\r\n\r\n\tthis.baseUrl = baseUrl || '';\r\n\tthis.options = options;\r\n\tthis.materialsInfo = {};\r\n\tthis.materials = {};\r\n\tthis.materialsArray = [];\r\n\tthis.nameLookup = {};\r\n\r\n\tthis.side = ( this.options && this.options.side ) ? this.options.side : THREE.FrontSide;\r\n\tthis.wrap = ( this.options && this.options.wrap ) ? this.options.wrap : THREE.RepeatWrapping;\r\n\r\n};\r\n\r\nMTLLoader.MaterialCreator.prototype = {\r\n\r\n\tconstructor: MTLLoader.MaterialCreator,\r\n\r\n\tcrossOrigin: 'Anonymous',\r\n\r\n\tsetCrossOrigin: function ( value ) {\r\n\r\n\t\tthis.crossOrigin = value;\r\n\r\n\t},\r\n\r\n\tsetManager: function ( value ) {\r\n\r\n\t\tthis.manager = value;\r\n\r\n\t},\r\n\r\n\tsetMaterials: function ( materialsInfo ) {\r\n\r\n\t\tthis.materialsInfo = this.convert( materialsInfo );\r\n\t\tthis.materials = {};\r\n\t\tthis.materialsArray = [];\r\n\t\tthis.nameLookup = {};\r\n\r\n\t},\r\n\r\n\tconvert: function ( materialsInfo ) {\r\n\r\n\t\tif ( ! this.options ) return materialsInfo;\r\n\r\n\t\tvar converted = {};\r\n\r\n\t\tfor ( var mn in materialsInfo ) {\r\n\r\n\t\t\t// Convert materials info into normalized form based on options\r\n\r\n\t\t\tvar mat = materialsInfo[ mn ];\r\n\r\n\t\t\tvar covmat = {};\r\n\r\n\t\t\tconverted[ mn ] = covmat;\r\n\r\n\t\t\tfor ( var prop in mat ) {\r\n\r\n\t\t\t\tvar save = true;\r\n\t\t\t\tvar value = mat[ prop ];\r\n\t\t\t\tvar lprop = prop.toLowerCase();\r\n\r\n\t\t\t\tswitch ( lprop ) {\r\n\r\n\t\t\t\t\tcase 'kd':\r\n\t\t\t\t\tcase 'ka':\r\n\t\t\t\t\tcase 'ks':\r\n\r\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\r\n\r\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\r\n\r\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\r\n\r\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\r\n\r\n\t\t\t\t\t\t\t\t// ignore\r\n\r\n\t\t\t\t\t\t\t\tsave = false;\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( save ) {\r\n\r\n\t\t\t\t\tcovmat[ lprop ] = value;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn converted;\r\n\r\n\t},\r\n\r\n\tpreload: function () {\r\n\r\n\t\tfor ( var mn in this.materialsInfo ) {\r\n\r\n\t\t\tthis.create( mn );\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tgetIndex: function ( materialName ) {\r\n\r\n\t\treturn this.nameLookup[ materialName ];\r\n\r\n\t},\r\n\r\n\tgetAsArray: function () {\r\n\r\n\t\tvar index = 0;\r\n\r\n\t\tfor ( var mn in this.materialsInfo ) {\r\n\r\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\r\n\t\t\tthis.nameLookup[ mn ] = index;\r\n\t\t\tindex ++;\r\n\r\n\t\t}\r\n\r\n\t\treturn this.materialsArray;\r\n\r\n\t},\r\n\r\n\tcreate: function ( materialName ) {\r\n\r\n\t\tif ( this.materials[ materialName ] === undefined ) {\r\n\r\n\t\t\tthis.createMaterial_( materialName );\r\n\r\n\t\t}\r\n\r\n\t\treturn this.materials[ materialName ];\r\n\r\n\t},\r\n\r\n\tcreateMaterial_: function ( materialName ) {\r\n\r\n\t\t// Create material\r\n\r\n\t\tvar scope = this;\r\n\t\tvar mat = this.materialsInfo[ materialName ];\r\n\t\tvar params = {\r\n\r\n\t\t\tname: materialName,\r\n\t\t\tside: this.side\r\n\r\n\t\t};\r\n\r\n\t\tfunction resolveURL( baseUrl, url ) {\r\n\r\n\t\t\tif ( typeof url !== 'string' || url === '' )\r\n\t\t\t\treturn '';\r\n\r\n\t\t\t// Absolute URL\r\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\r\n\r\n\t\t\treturn baseUrl + url;\r\n\r\n\t\t}\r\n\r\n\t\tfunction setMapForType( mapType, value ) {\r\n\r\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\r\n\r\n\t\t\tvar texParams = scope.getTextureParams( value, params );\r\n\t\t\tvar map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\r\n\r\n\t\t\tmap.repeat.copy( texParams.scale );\r\n\t\t\tmap.offset.copy( texParams.offset );\r\n\r\n\t\t\tmap.wrapS = scope.wrap;\r\n\t\t\tmap.wrapT = scope.wrap;\r\n\r\n\t\t\tparams[ mapType ] = map;\r\n\r\n\t\t}\r\n\r\n\t\tfor ( var prop in mat ) {\r\n\r\n\t\t\tvar value = mat[ prop ];\r\n\t\t\tvar n;\r\n\r\n\t\t\tif ( value === '' ) continue;\r\n\r\n\t\t\tswitch ( prop.toLowerCase() ) {\r\n\r\n\t\t\t\t// Ns is material specular exponent\r\n\r\n\t\t\t\tcase 'kd':\r\n\r\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\r\n\r\n\t\t\t\t\tparams.color = new THREE.Color().fromArray( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ks':\r\n\r\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\r\n\t\t\t\t\tparams.specular = new THREE.Color().fromArray( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_kd':\r\n\r\n\t\t\t\t\t// Diffuse texture map\r\n\r\n\t\t\t\t\tsetMapForType( \"map\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_ks':\r\n\r\n\t\t\t\t\t// Specular map\r\n\r\n\t\t\t\t\tsetMapForType( \"specularMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'norm':\r\n\r\n\t\t\t\t\tsetMapForType( \"normalMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'map_bump':\r\n\t\t\t\tcase 'bump':\r\n\r\n\t\t\t\t\t// Bump texture map\r\n\r\n\t\t\t\t\tsetMapForType( \"bumpMap\", value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ns':\r\n\r\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\r\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\r\n\r\n\t\t\t\t\tparams.shininess = parseFloat( value );\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'd':\r\n\t\t\t\t\tn = parseFloat(value);\r\n\r\n\t\t\t\t\tif ( n < 1 ) {\r\n\r\n\t\t\t\t\t\tparams.opacity = n;\r\n\t\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tr':\r\n\t\t\t\t\tn = parseFloat(value);\r\n\r\n\t\t\t\t\tif ( n > 0 ) {\r\n\r\n\t\t\t\t\t\tparams.opacity = 1 - n;\r\n\t\t\t\t\t\tparams.transparent = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.materials[ materialName ] = new THREE.MeshPhongMaterial( params );\r\n\t\treturn this.materials[ materialName ];\r\n\r\n\t},\r\n\r\n\tgetTextureParams: function ( value, matParams ) {\r\n\r\n\t\tvar texParams = {\r\n\r\n\t\t\tscale: new THREE.Vector2( 1, 1 ),\r\n\t\t\toffset: new THREE.Vector2( 0, 0 )\r\n\r\n\t\t };\r\n\r\n\t\tvar items = value.split( /\\s+/ );\r\n\t\tvar pos;\r\n\r\n\t\tpos = items.indexOf( '-bm' );\r\n\r\n\t\tif ( pos >= 0 ) {\r\n\r\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\r\n\t\t\titems.splice( pos, 2 );\r\n\r\n\t\t}\r\n\r\n\t\tpos = items.indexOf( '-s' );\r\n\r\n\t\tif ( pos >= 0 ) {\r\n\r\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\r\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\r\n\r\n\t\t}\r\n\r\n\t\tpos = items.indexOf( '-o' );\r\n\r\n\t\tif ( pos >= 0 ) {\r\n\r\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\r\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\r\n\r\n\t\t}\r\n\r\n\t\ttexParams.url = items.join( ' ' ).trim();\r\n\t\treturn texParams;\r\n\r\n\t},\r\n\r\n\tloadTexture: function ( url, mapping, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar texture;\r\n\t\tvar loader = LoaderHandlers.get( url );\r\n\t\tvar manager = ( this.manager !== undefined ) ? this.manager : THREE.DefaultLoadingManager;\r\n\r\n\t\tif ( loader === null ) {\r\n\r\n\t\t\tloader = new THREE.TextureLoader( manager );\r\n\r\n\t\t}\r\n\r\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\r\n\t\ttexture = loader.load( url, onLoad, onProgress, onError );\r\n\r\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\r\n\r\n\t\treturn texture;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { MTLLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/MTLLoader.js","import * as THREE from 'three';\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/OBJLoader.js\r\n\r\nconst OBJLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\tthis.materials = null;\r\n\r\n\tthis.regexp = {\r\n\t\t// v float float float\r\n\t\tvertex_pattern           : /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\r\n\t\t// vn float float float\r\n\t\tnormal_pattern           : /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\r\n\t\t// vt float float\r\n\t\tuv_pattern               : /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\r\n\t\t// f vertex vertex vertex\r\n\t\tface_vertex              : /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\r\n\t\t// f vertex/uv vertex/uv vertex/uv\r\n\t\tface_vertex_uv           : /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\r\n\t\t// f vertex/uv/normal vertex/uv/normal vertex/uv/normal\r\n\t\tface_vertex_uv_normal    : /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\r\n\t\t// f vertex//normal vertex//normal vertex//normal\r\n\t\tface_vertex_normal       : /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\r\n\t\t// o object_name | g group_name\r\n\t\tobject_pattern           : /^[og]\\s*(.+)?/,\r\n\t\t// s boolean\r\n\t\tsmoothing_pattern        : /^s\\s+(\\d+|on|off)/,\r\n\t\t// mtllib file_reference\r\n\t\tmaterial_library_pattern : /^mtllib /,\r\n\t\t// usemtl material_name\r\n\t\tmaterial_use_pattern     : /^usemtl /\r\n\t};\r\n\r\n};\r\n\r\nOBJLoader.prototype = {\r\n\r\n\tconstructor: OBJLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.FileLoader( scope.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t},\r\n\r\n\tsetMaterials: function ( materials ) {\r\n\r\n\t\tthis.materials = materials;\r\n\r\n\t},\r\n\r\n\t_createParserState : function () {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects  : [],\r\n\t\t\tobject   : {},\r\n\r\n\t\t\tvertices : [],\r\n\t\t\tnormals  : [],\r\n\t\t\tuvs      : [],\r\n\r\n\t\t\tmaterialLibraries : [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname : name || '',\r\n\t\t\t\t\tfromDeclaration : ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry : {\r\n\t\t\t\t\t\tvertices : [],\r\n\t\t\t\t\t\tnormals  : [],\r\n\t\t\t\t\t\tuvs      : []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials : [],\r\n\t\t\t\t\tsmooth : true,\r\n\r\n\t\t\t\t\tstartMaterial : function( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex      : this.materials.length,\r\n\t\t\t\t\t\t\tname       : name || '',\r\n\t\t\t\t\t\t\tmtllib     : ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth     : ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart : ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd   : -1,\r\n\t\t\t\t\t\t\tgroupCount : -1,\r\n\t\t\t\t\t\t\tinherited  : false,\r\n\r\n\t\t\t\t\t\t\tclone : function( index ) {\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex      : ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname       : this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib     : this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth     : this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart : 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd   : -1,\r\n\t\t\t\t\t\t\t\t\tgroupCount : -1,\r\n\t\t\t\t\t\t\t\t\tinherited  : false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind(cloned);\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial : function() {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize : function( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === -1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi-- ) {\r\n\t\t\t\t\t\t\t\tif ( this.materials[mi].groupCount <= 0 ) {\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push({\r\n\t\t\t\t\t\t\t\tname   : '',\r\n\t\t\t\t\t\t\t\tsmooth : this.smooth\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === \"function\" ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize : function() {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ] );\r\n\t\t\t\tdst.push( src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ] );\r\n\t\t\t\tdst.push( src[ c + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal : function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ] );\r\n\t\t\t\tdst.push( src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ] );\r\n\t\t\t\tdst.push( src[ c + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ] );\r\n\t\t\t\tdst.push( src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ] );\r\n\t\t\t\tdst.push( src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\t\t\t\tvar id;\r\n\r\n\t\t\t\tif ( d === undefined ) {\r\n\r\n\t\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tid = this.parseVertexIndex( d, vLen );\r\n\r\n\t\t\t\t\tthis.addVertex( ia, ib, id );\r\n\t\t\t\t\tthis.addVertex( ib, ic, id );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ua !== undefined ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tif ( d === undefined ) {\r\n\r\n\t\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tid = this.parseUVIndex( ud, uvLen );\r\n\r\n\t\t\t\t\t\tthis.addUV( ia, ib, id );\r\n\t\t\t\t\t\tthis.addUV( ib, ic, id );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( na !== undefined ) {\r\n\r\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\r\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tif ( d === undefined ) {\r\n\r\n\t\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tid = this.parseNormalIndex( nd, nLen );\r\n\r\n\t\t\t\t\t\tthis.addNormal( ia, ib, id );\r\n\t\t\t\t\t\tthis.addNormal( ib, ic, id );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t},\r\n\r\n\tparse: function ( text ) {\r\n\r\n\t\tconsole.time( 'OBJLoader' );\r\n\r\n\t\tvar state = this._createParserState();\r\n\r\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1) {\r\n\r\n\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t}\r\n\r\n\t\tvar lines = text.split( '\\n' );\r\n\t\tvar line = '', lineFirstChar = '', lineSecondChar = '';\r\n\t\tvar lineLength = 0;\r\n\t\tvar result = [];\r\n\r\n\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\tline = lines[ i ];\r\n\r\n\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\tlineLength = line.length;\r\n\r\n\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t// @todo invoke passed in handler if any\r\n\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\tlineSecondChar = line.charAt( 1 );\r\n\r\n\t\t\t\tif ( lineSecondChar === ' ' && ( result = this.regexp.vertex_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// 0                  1      2      3\r\n\t\t\t\t\t// [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\r\n\r\n\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 2 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 3 ] )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( lineSecondChar === 'n' && ( result = this.regexp.normal_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// 0                   1      2      3\r\n\t\t\t\t\t// [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\r\n\r\n\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 2 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 3 ] )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( lineSecondChar === 't' && ( result = this.regexp.uv_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// 0               1      2\r\n\t\t\t\t\t// [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\r\n\r\n\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 2 ] )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( \"Unexpected vertex/normal/uv line: '\" + line  + \"'\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( lineFirstChar === \"f\" ) {\r\n\r\n\t\t\t\tif ( ( result = this.regexp.face_vertex_uv_normal.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex/uv/normal vertex/uv/normal vertex/uv/normal\r\n\t\t\t\t\t// 0                        1    2    3    4    5    6    7    8    9   10         11         12\r\n\t\t\t\t\t// [\"f 1/1/1 2/2/2 3/3/3\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"3\", \"3\", \"3\", undefined, undefined, undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 4 ], result[ 7 ], result[ 10 ],\r\n\t\t\t\t\t\tresult[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ],\r\n\t\t\t\t\t\tresult[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( ( result = this.regexp.face_vertex_uv.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex/uv vertex/uv vertex/uv\r\n\t\t\t\t\t// 0                  1    2    3    4    5    6   7          8\r\n\t\t\t\t\t// [\"f 1/1 2/2 3/3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 3 ], result[ 5 ], result[ 7 ],\r\n\t\t\t\t\t\tresult[ 2 ], result[ 4 ], result[ 6 ], result[ 8 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( ( result = this.regexp.face_vertex_normal.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex//normal vertex//normal vertex//normal\r\n\t\t\t\t\t// 0                     1    2    3    4    5    6   7          8\r\n\t\t\t\t\t// [\"f 1//1 2//2 3//3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 3 ], result[ 5 ], result[ 7 ],\r\n\t\t\t\t\t\tundefined, undefined, undefined, undefined,\r\n\t\t\t\t\t\tresult[ 2 ], result[ 4 ], result[ 6 ], result[ 8 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( ( result = this.regexp.face_vertex.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex vertex vertex\r\n\t\t\t\t\t// 0            1    2    3   4\r\n\t\t\t\t\t// [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 2 ], result[ 3 ], result[ 4 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( \"Unexpected face line: '\" + line  + \"'\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( lineFirstChar === \"l\" ) {\r\n\r\n\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t} else if ( ( result = this.regexp.object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t// o object_name\r\n\t\t\t\t// or\r\n\t\t\t\t// g group_name\r\n\r\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t} else if ( this.regexp.material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t// material\r\n\r\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t} else if ( this.regexp.material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t// mtl file\r\n\r\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t} else if ( ( result = this.regexp.smoothing_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\tstate.object.smooth = ( value === '1' || value === 'on' );\r\n\r\n\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\tif ( material ) {\r\n\r\n\t\t\t\t\tmaterial.smooth = state.object.smooth;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\tthrow new Error( \"Unexpected line: '\" + line  + \"'\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.finalize();\r\n\r\n\t\tvar container = new THREE.Group();\r\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar object = state.objects[ i ];\r\n\t\t\tvar geometry = object.geometry;\r\n\t\t\tvar materials = object.materials;\r\n\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\r\n\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\tvar buffergeometry = new THREE.BufferGeometry();\r\n\r\n\t\t\tbuffergeometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( geometry.vertices ), 3 ) );\r\n\r\n\t\t\tif ( geometry.normals.length > 0 ) {\r\n\r\n\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( geometry.normals ), 3 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuffergeometry.computeVertexNormals();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry.uvs.length > 0 ) {\r\n\r\n\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.BufferAttribute( new Float32Array( geometry.uvs ), 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Create materials\r\n\r\n\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen ; mi++ ) {\r\n\r\n\t\t\t\tvar sourceMaterial = materials[mi];\r\n\t\t\t\tvar material = undefined;\r\n\r\n\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\tvar materialLine = new THREE.LineBasicMaterial();\r\n\t\t\t\t\t\tmaterialLine.copy( material );\r\n\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! material ) {\r\n\r\n\t\t\t\t\tmaterial = ( ! isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial() );\r\n\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterial.shading = sourceMaterial.smooth ? THREE.SmoothShading : THREE.FlatShading;\r\n\r\n\t\t\t\tcreatedMaterials.push(material);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Create mesh\r\n\r\n\t\t\tvar mesh;\r\n\r\n\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen ; mi++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[mi];\r\n\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh = ( ! isLine ? new THREE.Mesh( buffergeometry, createdMaterials ) : new THREE.LineSegments( buffergeometry, createdMaterials ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmesh = ( ! isLine ? new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] ) : new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] ) );\r\n\t\t\t}\r\n\r\n\t\t\tmesh.name = object.name;\r\n\r\n\t\t\tcontainer.add( mesh );\r\n\r\n\t\t}\r\n\r\n\t\tconsole.timeEnd( 'OBJLoader' );\r\n\r\n\t\treturn container;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { OBJLoader };\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/OBJLoader.js","import * as THREE from 'three'\r\n\r\nconst PLYLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\tthis.propertyNameMapping = {};\r\n\r\n};\r\n\r\nPLYLoader.prototype = {\r\n\r\n\tconstructor: PLYLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.FileLoader( this.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetPropertyNameMapping: function ( mapping ) {\r\n\r\n\t\tthis.propertyNameMapping = mapping;\r\n\r\n\t},\r\n\r\n\tparse: function ( data ) {\r\n\r\n\t\tfunction bin2str( buf ) {\r\n\r\n\t\t\tvar array_buffer = new Uint8Array( buf );\r\n\r\n\t\t\tif ( window.TextDecoder !== undefined ) {\r\n\r\n\t\t\t\treturn new TextDecoder().decode( array_buffer );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar str = '';\r\n\r\n\t\t\tfor ( var i = 0, il = buf.byteLength; i < il; i ++ ) {\r\n\r\n\t\t\t\tstr += String.fromCharCode( array_buffer[ i ] ); // implicitly assumes little-endian\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn str;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseHeader( data ) {\r\n\r\n\t\t\tvar patternHeader = /ply([\\s\\S]*)end_header\\s/;\r\n\t\t\tvar headerText = '';\r\n\t\t\tvar headerLength = 0;\r\n\t\t\tvar result = patternHeader.exec( data );\r\n\r\n\t\t\tif ( result !== null ) {\r\n\r\n\t\t\t\theaderText = result[ 1 ];\r\n\t\t\t\theaderLength = result[ 0 ].length;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar header = {\r\n\t\t\t\tcomments: [],\r\n\t\t\t\telements: [],\r\n\t\t\t\theaderLength: headerLength\r\n\t\t\t};\r\n\r\n\t\t\tvar lines = headerText.split( '\\n' );\r\n\t\t\tvar currentElement;\r\n\t\t\tvar lineType, lineValues;\r\n\r\n\t\t\tfunction make_ply_element_property( propertValues, propertyNameMapping ) {\r\n\r\n\t\t\t\tvar property = { type: propertValues[ 0 ] };\r\n\r\n\t\t\t\tif ( property.type === 'list' ) {\r\n\r\n\t\t\t\t\tproperty.name = propertValues[ 3 ];\r\n\t\t\t\t\tproperty.countType = propertValues[ 1 ];\r\n\t\t\t\t\tproperty.itemType = propertValues[ 2 ];\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tproperty.name = propertValues[ 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( property.name in propertyNameMapping ) {\r\n\r\n\t\t\t\t\tproperty.name = propertyNameMapping[ property.name ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn property;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\t\tvar line = lines[ i ];\r\n\t\t\t\tline = line.trim();\r\n\r\n\t\t\t\tif ( line === '' ) continue;\r\n\r\n\t\t\t\tlineValues = line.split( /\\s+/ );\r\n\t\t\t\tlineType = lineValues.shift();\r\n\t\t\t\tline = lineValues.join( ' ' );\r\n\r\n\t\t\t\tswitch ( lineType ) {\r\n\r\n\t\t\t\t\tcase 'format':\r\n\r\n\t\t\t\t\t\theader.format = lineValues[ 0 ];\r\n\t\t\t\t\t\theader.version = lineValues[ 1 ];\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'comment':\r\n\r\n\t\t\t\t\t\theader.comments.push( line );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'element':\r\n\r\n\t\t\t\t\t\tif ( currentElement !== undefined ) {\r\n\r\n\t\t\t\t\t\t\theader.elements.push( currentElement );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurrentElement = {};\r\n\t\t\t\t\t\tcurrentElement.name = lineValues[ 0 ];\r\n\t\t\t\t\t\tcurrentElement.count = parseInt( lineValues[ 1 ] );\r\n\t\t\t\t\t\tcurrentElement.properties = [];\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'property':\r\n\r\n\t\t\t\t\t\tcurrentElement.properties.push( make_ply_element_property( lineValues, scope.propertyNameMapping ) );\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tconsole.log( 'unhandled', lineType, lineValues );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( currentElement !== undefined ) {\r\n\r\n\t\t\t\theader.elements.push( currentElement );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn header;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseASCIINumber( n, type ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\tcase 'char': case 'uchar': case 'short': case 'ushort': case 'int': case 'uint':\r\n\t\t\t\tcase 'int8': case 'uint8': case 'int16': case 'uint16': case 'int32': case 'uint32':\r\n\r\n\t\t\t\t\treturn parseInt( n );\r\n\r\n\t\t\t\tcase 'float': case 'double': case 'float32': case 'float64':\r\n\r\n\t\t\t\t\treturn parseFloat( n );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseASCIIElement( properties, line ) {\r\n\r\n\t\t\tvar values = line.split( /\\s+/ );\r\n\r\n\t\t\tvar element = {};\r\n\r\n\t\t\tfor ( var i = 0; i < properties.length; i ++ ) {\r\n\r\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\r\n\r\n\t\t\t\t\tvar list = [];\r\n\t\t\t\t\tvar n = parseASCIINumber( values.shift(), properties[ i ].countType );\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < n; j ++ ) {\r\n\r\n\t\t\t\t\t\tlist.push( parseASCIINumber( values.shift(), properties[ i ].itemType ) );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telement[ properties[ i ].name ] = list;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\telement[ properties[ i ].name ] = parseASCIINumber( values.shift(), properties[ i ].type );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn element;\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseASCII( data, header ) {\r\n\r\n\t\t\t// PLY ascii format specification, as per http://en.wikipedia.org/wiki/PLY_(file_format)\r\n\r\n\t\t\tvar buffer = {\r\n\t\t\t\tindices: [],\r\n\t\t\t\tvertices: [],\r\n\t\t\t\tnormals: [],\r\n\t\t\t\tuvs: [],\r\n\t\t\t\tcolors: []\r\n\t\t\t};\r\n\r\n\t\t\tvar result;\r\n\r\n\t\t\tvar patternBody = /end_header\\s([\\s\\S]*)$/;\r\n\t\t\tvar body = '';\r\n\t\t\tif ( ( result = patternBody.exec( data ) ) !== null ) {\r\n\r\n\t\t\t\tbody = result[ 1 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = body.split( '\\n' );\r\n\t\t\tvar currentElement = 0;\r\n\t\t\tvar currentElementCount = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\r\n\r\n\t\t\t\tvar line = lines[ i ];\r\n\t\t\t\tline = line.trim();\r\n\t\t\t\tif ( line === '' ) {\r\n\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( currentElementCount >= header.elements[ currentElement ].count ) {\r\n\r\n\t\t\t\t\tcurrentElement ++;\r\n\t\t\t\t\tcurrentElementCount = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar element = parseASCIIElement( header.elements[ currentElement ].properties, line );\r\n\r\n\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\r\n\r\n\t\t\t\tcurrentElementCount ++;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn postProcess( buffer );\r\n\r\n\t\t}\r\n\r\n\t\tfunction postProcess( buffer ) {\r\n\r\n\t\t\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\t\t\t// mandatory buffer data\r\n\r\n\t\t\tif ( buffer.indices.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.setIndex( buffer.indices );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.addAttribute( 'position', new THREE.Float32BufferAttribute( buffer.vertices, 3 ) );\r\n\r\n\t\t\t// optional buffer data\r\n\r\n\t\t\tif ( buffer.normals.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.addAttribute( 'normal', new THREE.Float32BufferAttribute( buffer.normals, 3 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( buffer.uvs.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.addAttribute( 'uv', new THREE.Float32BufferAttribute( buffer.uvs, 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( buffer.colors.length > 0 ) {\r\n\r\n\t\t\t\tgeometry.addAttribute( 'color', new THREE.Float32BufferAttribute( buffer.colors, 3 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgeometry.computeBoundingSphere();\r\n\r\n\t\t\treturn geometry;\r\n\r\n\t\t}\r\n\r\n\t\tfunction handleElement( buffer, elementName, element ) {\r\n\r\n\t\t\tif ( elementName === 'vertex' ) {\r\n\r\n\t\t\t\tbuffer.vertices.push( element.x, element.y, element.z );\r\n\r\n\t\t\t\tif ( 'nx' in element && 'ny' in element && 'nz' in element ) {\r\n\r\n\t\t\t\t\tbuffer.normals.push( element.nx, element.ny, element.nz );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( 's' in element && 't' in element ) {\r\n\r\n\t\t\t\t\tbuffer.uvs.push( element.s, element.t );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( 'red' in element && 'green' in element && 'blue' in element ) {\r\n\r\n\t\t\t\t\tbuffer.colors.push( element.red / 255.0, element.green / 255.0, element.blue / 255.0 );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( elementName === 'face' ) {\r\n\r\n\t\t\t\tvar vertex_indices = element.vertex_indices || element.vertex_index; // issue #9338\r\n\r\n\t\t\t\tif ( vertex_indices.length === 3 ) {\r\n\r\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 2 ] );\r\n\r\n\t\t\t\t} else if ( vertex_indices.length === 4 ) {\r\n\r\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 0 ], vertex_indices[ 1 ], vertex_indices[ 3 ] );\r\n\t\t\t\t\tbuffer.indices.push( vertex_indices[ 1 ], vertex_indices[ 2 ], vertex_indices[ 3 ] );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction binaryRead( dataview, at, type, little_endian ) {\r\n\r\n\t\t\tswitch ( type ) {\r\n\r\n\t\t\t\t// corespondences for non-specific length types here match rply:\r\n\t\t\t\tcase 'int8':\t\tcase 'char':\t return [ dataview.getInt8( at ), 1 ];\r\n\t\t\t\tcase 'uint8':\t\tcase 'uchar':\t return [ dataview.getUint8( at ), 1 ];\r\n\t\t\t\tcase 'int16':\t\tcase 'short':\t return [ dataview.getInt16( at, little_endian ), 2 ];\r\n\t\t\t\tcase 'uint16':\tcase 'ushort': return [ dataview.getUint16( at, little_endian ), 2 ];\r\n\t\t\t\tcase 'int32':\t\tcase 'int':\t\t return [ dataview.getInt32( at, little_endian ), 4 ];\r\n\t\t\t\tcase 'uint32':\tcase 'uint':\t return [ dataview.getUint32( at, little_endian ), 4 ];\r\n\t\t\t\tcase 'float32': case 'float':\t return [ dataview.getFloat32( at, little_endian ), 4 ];\r\n\t\t\t\tcase 'float64': case 'double': return [ dataview.getFloat64( at, little_endian ), 8 ];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction binaryReadElement( dataview, at, properties, little_endian ) {\r\n\r\n\t\t\tvar element = {};\r\n\t\t\tvar result, read = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < properties.length; i ++ ) {\r\n\r\n\t\t\t\tif ( properties[ i ].type === 'list' ) {\r\n\r\n\t\t\t\t\tvar list = [];\r\n\r\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].countType, little_endian );\r\n\t\t\t\t\tvar n = result[ 0 ];\r\n\t\t\t\t\tread += result[ 1 ];\r\n\r\n\t\t\t\t\tfor ( var j = 0; j < n; j ++ ) {\r\n\r\n\t\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].itemType, little_endian );\r\n\t\t\t\t\t\tlist.push( result[ 0 ] );\r\n\t\t\t\t\t\tread += result[ 1 ];\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telement[ properties[ i ].name ] = list;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult = binaryRead( dataview, at + read, properties[ i ].type, little_endian );\r\n\t\t\t\t\telement[ properties[ i ].name ] = result[ 0 ];\r\n\t\t\t\t\tread += result[ 1 ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn [ element, read ];\r\n\r\n\t\t}\r\n\r\n\t\tfunction parseBinary( data, header ) {\r\n\r\n\t\t\tvar buffer = {\r\n\t\t\t\tindices: [],\r\n\t\t\t\tvertices: [],\r\n\t\t\t\tnormals: [],\r\n\t\t\t\tuvs: [],\r\n\t\t\t\tcolors: []\r\n\t\t\t};\r\n\r\n\t\t\tvar little_endian = ( header.format === 'binary_little_endian' );\r\n\t\t\tvar body = new DataView( data, header.headerLength );\r\n\t\t\tvar result, loc = 0;\r\n\r\n\t\t\tfor ( var currentElement = 0; currentElement < header.elements.length; currentElement ++ ) {\r\n\r\n\t\t\t\tfor ( var currentElementCount = 0; currentElementCount < header.elements[ currentElement ].count; currentElementCount ++ ) {\r\n\r\n\t\t\t\t\tresult = binaryReadElement( body, loc, header.elements[ currentElement ].properties, little_endian );\r\n\t\t\t\t\tloc += result[ 1 ];\r\n\t\t\t\t\tvar element = result[ 0 ];\r\n\r\n\t\t\t\t\thandleElement( buffer, header.elements[ currentElement ].name, element );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn postProcess( buffer );\r\n\r\n\t\t}\r\n\r\n\t\t//\r\n\r\n\t\tvar geometry;\r\n\t\tvar scope = this;\r\n\r\n\t\tif ( data instanceof ArrayBuffer ) {\r\n\r\n\t\t\tvar text = bin2str( data );\r\n\t\t\tvar header = parseHeader( text );\r\n\r\n\t\t\tgeometry = header.format === 'ascii' ? parseASCII( text, header ) : parseBinary( data, header );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tgeometry = parseASCII( data, parseHeader( data ) );\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { PLYLoader }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/PLYLoader.js","import * as THREE from 'three';\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/STLLoader.js\r\n\r\nconst STLLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n};\r\n\r\nSTLLoader.prototype = {\r\n\r\n\tconstructor: STLLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.FileLoader( scope.manager );\r\n\t\tloader.setResponseType( 'arraybuffer' );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tparse: function ( data ) {\r\n\r\n\t\tvar isBinary = function () {\r\n\r\n\t\t\tvar expect, face_size, n_faces, reader;\r\n\t\t\treader = new DataView( binData );\r\n\t\t\tface_size = ( 32 / 8 * 3 ) + ( ( 32 / 8 * 3 ) * 3 ) + ( 16 / 8 );\r\n\t\t\tn_faces = reader.getUint32( 80, true );\r\n\t\t\texpect = 80 + ( 32 / 8 ) + ( n_faces * face_size );\r\n\r\n\t\t\tif ( expect === reader.byteLength ) {\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// An ASCII STL data must begin with 'solid ' as the first six bytes.\r\n\t\t\t// However, ASCII STLs lacking the SPACE after the 'd' are known to be\r\n\t\t\t// plentiful.  So, check the first 5 bytes for 'solid'.\r\n\r\n\t\t\t// US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\r\n\t\t\tvar solid = [ 115, 111, 108, 105, 100 ];\r\n\r\n\t\t\tfor ( var i = 0; i < 5; i ++ ) {\r\n\r\n\t\t\t\t// If solid[ i ] does not match the i-th byte, then it is not an\r\n\t\t\t\t// ASCII STL; hence, it is binary and return true.\r\n\r\n\t\t\t\tif ( solid[ i ] != reader.getUint8( i, false ) ) return true;\r\n\r\n \t\t\t}\r\n\r\n\t\t\t// First 5 bytes read \"solid\"; declare it to be an ASCII STL\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t\tvar binData = this.ensureBinary( data );\r\n\r\n\t\treturn isBinary() ? this.parseBinary( binData ) : this.parseASCII( this.ensureString( data ) );\r\n\r\n\t},\r\n\r\n\tparseBinary: function ( data ) {\r\n\r\n\t\tvar reader = new DataView( data );\r\n\t\tvar faces = reader.getUint32( 80, true );\r\n\r\n\t\tvar r, g, b, hasColors = false, colors;\r\n\t\tvar defaultR, defaultG, defaultB, alpha;\r\n\r\n\t\t// process STL header\r\n\t\t// check for default color in header (\"COLOR=rgba\" sequence).\r\n\r\n\t\tfor ( var index = 0; index < 80 - 10; index ++ ) {\r\n\r\n\t\t\tif ( ( reader.getUint32( index, false ) == 0x434F4C4F /*COLO*/ ) &&\r\n\t\t\t\t( reader.getUint8( index + 4 ) == 0x52 /*'R'*/ ) &&\r\n\t\t\t\t( reader.getUint8( index + 5 ) == 0x3D /*'='*/ ) ) {\r\n\r\n\t\t\t\thasColors = true;\r\n\t\t\t\tcolors = [];\r\n\r\n\t\t\t\tdefaultR = reader.getUint8( index + 6 ) / 255;\r\n\t\t\t\tdefaultG = reader.getUint8( index + 7 ) / 255;\r\n\t\t\t\tdefaultB = reader.getUint8( index + 8 ) / 255;\r\n\t\t\t\talpha = reader.getUint8( index + 9 ) / 255;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar dataOffset = 84;\r\n\t\tvar faceLength = 12 * 4 + 2;\r\n\r\n\t\tvar geometry = new THREE.BufferGeometry();\r\n\r\n\t\tvar vertices = [];\r\n\t\tvar normals = [];\r\n\r\n\t\tfor ( var face = 0; face < faces; face ++ ) {\r\n\r\n\t\t\tvar start = dataOffset + face * faceLength;\r\n\t\t\tvar normalX = reader.getFloat32( start, true );\r\n\t\t\tvar normalY = reader.getFloat32( start + 4, true );\r\n\t\t\tvar normalZ = reader.getFloat32( start + 8, true );\r\n\r\n\t\t\tif ( hasColors ) {\r\n\r\n\t\t\t\tvar packedColor = reader.getUint16( start + 48, true );\r\n\r\n\t\t\t\tif ( ( packedColor & 0x8000 ) === 0 ) {\r\n\r\n\t\t\t\t\t// facet has its own unique color\r\n\r\n\t\t\t\t\tr = ( packedColor & 0x1F ) / 31;\r\n\t\t\t\t\tg = ( ( packedColor >> 5 ) & 0x1F ) / 31;\r\n\t\t\t\t\tb = ( ( packedColor >> 10 ) & 0x1F ) / 31;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tr = defaultR;\r\n\t\t\t\t\tg = defaultG;\r\n\t\t\t\t\tb = defaultB;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor ( var i = 1; i <= 3; i ++ ) {\r\n\r\n\t\t\t\tvar vertexstart = start + i * 12;\r\n\r\n\t\t\t\tvertices.push( reader.getFloat32( vertexstart, true ) );\r\n\t\t\t\tvertices.push( reader.getFloat32( vertexstart + 4, true ) );\r\n\t\t\t\tvertices.push( reader.getFloat32( vertexstart + 8, true ) );\r\n\r\n\t\t\t\tnormals.push( normalX, normalY, normalZ );\r\n\r\n\t\t\t\tif ( hasColors ) {\r\n\r\n\t\t\t\t\tcolors.push( r, g, b );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( vertices ), 3 ) );\r\n\t\tgeometry.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( normals ), 3 ) );\r\n\r\n\t\tif ( hasColors ) {\r\n\r\n\t\t\tgeometry.addAttribute( 'color', new THREE.BufferAttribute( new Float32Array( colors ), 3 ) );\r\n\t\t\tgeometry.hasColors = true;\r\n\t\t\tgeometry.alpha = alpha;\r\n\r\n\t\t}\r\n\r\n\t\treturn geometry;\r\n\r\n\t},\r\n\r\n\tparseASCII: function ( data ) {\r\n\r\n\t\tvar geometry, length, patternFace, patternNormal, patternVertex, result, text;\r\n\t\tgeometry = new THREE.BufferGeometry();\r\n\t\tpatternFace = /facet([\\s\\S]*?)endfacet/g;\r\n\r\n\t\tvar vertices = [];\r\n\t\tvar normals = [];\r\n\r\n\t\tvar normal = new THREE.Vector3();\r\n\r\n\t\twhile ( ( result = patternFace.exec( data ) ) !== null ) {\r\n\r\n\t\t\ttext = result[ 0 ];\r\n\t\t\tpatternNormal = /normal[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\r\n\r\n\t\t\twhile ( ( result = patternNormal.exec( text ) ) !== null ) {\r\n\r\n\t\t\t\tnormal.x = parseFloat( result[ 1 ] );\r\n\t\t\t\tnormal.y = parseFloat( result[ 3 ] );\r\n\t\t\t\tnormal.z = parseFloat( result[ 5 ] );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpatternVertex = /vertex[\\s]+([\\-+]?[0-9]+\\.?[0-9]*([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+[\\s]+([\\-+]?[0-9]*\\.?[0-9]+([eE][\\-+]?[0-9]+)?)+/g;\r\n\r\n\t\t\twhile ( ( result = patternVertex.exec( text ) ) !== null ) {\r\n\r\n\t\t\t\tvertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 3 ] ), parseFloat( result[ 5 ] ) );\r\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( vertices ), 3 ) );\r\n\t\tgeometry.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( normals ), 3 ) );\r\n\r\n\t\treturn geometry;\r\n\r\n\t},\r\n\r\n\tensureString: function ( buf ) {\r\n\r\n\t\tif ( typeof buf !== \"string\" ) {\r\n\r\n\t\t\tvar array_buffer = new Uint8Array( buf );\r\n\t\t\tvar strArray = [];\r\n\t\t\tfor ( var i = 0; i < buf.byteLength; i ++ ) {\r\n\r\n\t\t\t\tstrArray.push(String.fromCharCode( array_buffer[ i ] )); // implicitly assumes little-endian\r\n\r\n\t\t\t}\r\n\t\t\treturn strArray.join('');\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn buf;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tensureBinary: function ( buf ) {\r\n\r\n\t\tif ( typeof buf === \"string\" ) {\r\n\r\n\t\t\tvar array_buffer = new Uint8Array( buf.length );\r\n\t\t\tfor ( var i = 0; i < buf.length; i ++ ) {\r\n\r\n\t\t\t\tarray_buffer[ i ] = buf.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\r\n\r\n\t\t\t}\r\n\t\t\treturn array_buffer.buffer || array_buffer;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn buf;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { STLLoader };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/STLLoader.js","exports = module.exports = require(\"../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".background-text{position:absolute;top:50%;left:0;z-index:1;width:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:center;font-size:60px}.background-buttons{position:absolute;top:0;left:10px;z-index:3}.background-buttons>p{margin-top:15px;color:#000}.background-buttons>button{background:#fff;padding:4px 6px;margin-top:5px;outline:none;border:1px solid #c4c4c4}.model-box{position:relative;z-index:2}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?{\"minimize\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-4d9d1678\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./examples/pages/demo-background.vue\n// module id = 80\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".demo-block{width:100%;height:100%;background-color:#fff;border-radius:3px}.demo-block .demo-block-preview{width:50%;height:100%;float:left;position:relative}.demo-block .demo-block-code{width:50%;height:100%;background:#f9fafc;border-left:1px solid #dfe2e7;font-size:13px;float:left}.demo-block .demo-block-code pre code{font:normal 10pt Consolas,Monaco,monospace}.demo-block .demo-block-code .demo-block-code-box{width:100%;height:50%;position:relative;overflow:hidden}.demo-block .demo-block-code-box:after{content:\\\"\\\";display:block;position:absolute;bottom:0;left:0;width:90%;height:1px;background:-webkit-linear-gradient(left,#dfe2e7 80%,rgba(223,226,231,0))}.demo-block .demo-block-code-box h3{width:100%;padding:10px 20px;font-size:16px;font-weight:700;position:absolute}.demo-block .demo-block-code-box-content{position:absolute;top:40px;bottom:10px;left:20px;right:20px;overflow:auto}.demo-block .demo-block-code code{position:absolute;top:0;left:0}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?{\"minimize\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-5d8f5ef3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./examples/components/demo-block.vue\n// module id = 81\n// module chunks = 1","exports = module.exports = require(\"../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"*{margin:0;border:0;padding:0;box-sizing:border-box}li,ol,ul{list-style:none}a{color:#657180;text-decoration:none}.examples,body,html{width:100%;height:100%;color:#657180}body{background:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background:#fff}.examples-header{position:absolute;top:0;width:100%;background:#f3f6fb;text-shadow:0 1px 0 hsla(0,0%,100%,.5);border-bottom:1px solid #dfe2e7;padding:15px 15px 15px 30px;line-height:20px}.examples-header .title{font-weight:700;font-size:18px;display:inline-block}.examples-header .github{color:#39f;display:inline-block;font-size:12px;float:right}.examples-content{width:100%;height:100%;padding-top:52px;overflow:hidden}.examples-menu{float:left;width:230px;height:100%;border-right:1px solid #dfe2e7;padding:10px 30px}.examples-menu .examples-menu-item{display:block;width:100%;height:30px;line-height:30px;font-size:14px;cursor:pointer}.examples-menu .examples-menu-item>a{display:block;width:100%;height:100%}.examples-menu .examples-menu-title{display:block;width:100%;padding:6px 0;margin-top:10px;font-size:14px;font-weight:700}.examples-menu .examples-menu-item:hover>a{color:#39f}.examples-pages{height:100%;overflow:hidden}.example-loading{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.example-loading:before{border-radius:100%;margin:2px;border:3px solid #20a0ff;border-bottom-color:transparent;height:36px;width:36px;-webkit-animation:loading-rotate .75s 0s linear infinite;animation:loading-rotate .75s 0s linear infinite}.example-loading:after,.example-loading:before{content:\\\"\\\";display:inline-block;vertical-align:middle}.example-loading:after{height:100%;width:0}@-webkit-keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}@keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?{\"minimize\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-7a736b78\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./examples/App.vue\n// module id = 82\n// module chunks = 1","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4d9d1678\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./demo-background.vue\")\n\nvar Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-background.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d9d1678\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-background.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-background.vue\n// module id = 262\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-basic.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-333e0508\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-basic.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-basic.vue\n// module id = 263\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-collada.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-678f988c\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-collada.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-collada.vue\n// module id = 264\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-event.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cb36e518\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-event.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-event.vue\n// module id = 265\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-json.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b02f5fe\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-json.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-json.vue\n// module id = 266\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-obj-mtl.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f64b4ae\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-obj-mtl.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-obj-mtl.vue\n// module id = 267\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-obj.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d85b9d1\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-obj.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-obj.vue\n// module id = 268\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-ply.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-744fcbd7\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-ply.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-ply.vue\n// module id = 269\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-rotate.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-756fcd71\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-rotate.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-rotate.vue\n// module id = 270\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-stl.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ff21105\\\"}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-stl.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-stl.vue\n// module id = 271\n// module chunks = 1","var Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./model-ply.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-ply.vue\n// module id = 272\n// module chunks = 1","var Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./model-stl.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-stl.vue\n// module id = 273\n// module chunks = 1","var Component = require(\"!../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./model-three.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-three.vue\n// module id = 274\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-0b02f5fe\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-json.vue\n// module id = 275\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-stl', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/stl/gear.stl\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-1ff21105\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-stl.vue\n// module id = 276\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-2d85b9d1\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-obj.vue\n// module id = 277\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-three', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/json/scene.json\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-333e0508\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-basic.vue\n// module id = 278\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('p', {\n    staticClass: \"background-text\"\n  }, [_vm._v(\"\\n            Vue\"), _c('br'), _vm._v(\"3D\"), _c('br'), _vm._v(\"Model\"), _c('br'), _vm._v(\"Background\\n        \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-buttons\"\n  }, [_c('p', [_vm._v(\"Color\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgColor = '#ff0'\n      }\n    }\n  }, [_vm._v(\"#ff0\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgColor = '#f00'\n      }\n    }\n  }, [_vm._v(\"#f00\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgColor = '#13ce66'\n      }\n    }\n  }, [_vm._v(\"#13ce66\")]), _vm._v(\" \"), _c('p', [_vm._v(\"Alpha\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgAlpha = 0.5\n      }\n    }\n  }, [_vm._v(\"0.5\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgAlpha = 1\n      }\n    }\n  }, [_vm._v(\"1\")]), _vm._v(\" \"), _c('button', {\n    on: {\n      \"click\": function($event) {\n        _vm.bgAlpha = 0\n      }\n    }\n  }, [_vm._v(\"0\")])]), _vm._v(\" \"), _c('model-obj', {\n    staticClass: \"model-box\",\n    attrs: {\n      \"backgroundAlpha\": _vm.bgAlpha,\n      \"backgroundColor\": _vm.bgColor,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-4d9d1678\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-background.vue\n// module id = 279\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/male02/male02.obj\",\n      \"mtl\": \"static/models/obj/male02/male02.mtl\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-4f64b4ae\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-obj-mtl.vue\n// module id = 280\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-block\"\n  }, [_c('div', {\n    staticClass: \"demo-block-preview\"\n  }, [_vm._t(\"preview\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code\"\n  }, [_c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"Vue Component & Webpack\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"vueCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.vueCode)))]), _vm._v(\"\\n                \")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box\"\n  }, [_c('h3', [_vm._v(\"HTML & JS\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code-box-content\"\n  }, [_c('pre', [_vm._v(\"                    \"), _c('code', {\n    ref: \"htmlCode\",\n    staticClass: \"html\"\n  }, [_vm._v(_vm._s(_vm._f(\"code\")(_vm.htmlCode)))]), _vm._v(\"\\n                \")])])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-5d8f5ef3\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/components/demo-block.vue\n// module id = 281\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-collada', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"rotation\": _vm.rotation,\n      \"src\": \"static/models/collada/elf/elf.dae\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-678f988c\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-collada.vue\n// module id = 282\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-ply', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"rotation\": _vm.rotation,\n      \"src\": \"static/models/ply/binary/Lucy100k.ply\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-744fcbd7\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-ply.vue\n// module id = 283\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-collada', {\n    ref: \"collada\",\n    attrs: {\n      \"rotation\": _vm.rotation,\n      \"src\": \"static/models/collada/elf/elf.dae\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-756fcd71\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-rotate.vue\n// module id = 284\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"examples-content\"\n  }, [_c('ul', {\n    staticClass: \"examples-menu\"\n  }, [_c('li', {\n    staticClass: \"examples-menu-title\"\n  }, [_vm._v(\"Examples\")]), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-basic\"\n    }\n  }, [_vm._v(\"basic\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-rotate\"\n    }\n  }, [_vm._v(\"rotate\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-background\"\n    }\n  }, [_vm._v(\"background\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-title\"\n  }, [_vm._v(\"Events\")]), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-event\"\n    }\n  }, [_vm._v(\"mousemove\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-title\"\n  }, [_vm._v(\"Model Formats\")]), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-basic\"\n    }\n  }, [_vm._v(\"JSON Model (.json)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-obj\"\n    }\n  }, [_vm._v(\"OBJ Model (.obj)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-obj-mtl\"\n    }\n  }, [_vm._v(\"OBJ + MTL (.obj + .mtl)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-stl\"\n    }\n  }, [_vm._v(\"STL Model (.stl)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-collada\"\n    }\n  }, [_vm._v(\"Collada Model (.dae)\")])], 1), _vm._v(\" \"), _c('li', {\n    staticClass: \"examples-menu-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-ply\"\n    }\n  }, [_vm._v(\"PLY Model (.ply)\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"examples-pages\"\n  }, [_c('router-view')], 1)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples-header\"\n  }, [_c('a', {\n    staticClass: \"title\",\n    attrs: {\n      \"href\": \"https://github.com/hujiulong/vue-3d-model\"\n    }\n  }, [_vm._v(\"Vue3DModel\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"github\",\n    attrs: {\n      \"href\": \"https://github.com/hujiulong/vue-3d-model\"\n    }\n  }, [_vm._v(\"View on GitHub\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a736b78\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/App.vue\n// module id = 285\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"border\": \"0\",\n      \"padding\": \"0\"\n    }\n  }, [(_vm.suportWebGL) ? _c('canvas', {\n    ref: \"canvas\",\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    }\n  }) : _c('div', [_vm._t(\"default\", [_vm._v(\"\\n            Your browser does not seem to support \"), _c('a', {\n    staticStyle: {\n      \"color\": \"#000\"\n    },\n    attrs: {\n      \"href\": \"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\"\n    }\n  }, [_vm._v(\"WebGL\")]), _vm._v(\".\"), _c('br'), _vm._v(\"'\\n        \")])], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-b82a4cf6\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/model-mixin.vue\n// module id = 286\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('demo-block', {\n    attrs: {\n      \"vue-code\": _vm.code,\n      \"html-code\": _vm.htmlCode\n    }\n  }, [_c('template', {\n    attrs: {\n      \"slot\": \"preview\"\n    },\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    ref: \"model\",\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/tree.obj\"\n    },\n    on: {\n      \"on-load\": _vm.onLoad,\n      \"on-mousemove\": _vm.onMouseMove\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"example-loading\"\n  })], 1)], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-cb36e518\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-event.vue\n// module id = 287\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-4d9d1678\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./demo-background.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"cae0e19c\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.28.7@css-loader?{\"minimize\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-4d9d1678\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./examples/pages/demo-background.vue\n// module id = 289\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-5d8f5ef3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./demo-block.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"4f0853e4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.28.7@css-loader?{\"minimize\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-5d8f5ef3\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./examples/components/demo-block.vue\n// module id = 290\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-7a736b78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./App.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"3781cf10\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.28.7@css-loader?{\"minimize\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-7a736b78\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./examples/App.vue\n// module id = 291\n// module chunks = 1"],"sourceRoot":""}