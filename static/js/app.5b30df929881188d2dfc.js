webpackJsonp([1],[,,function(e,t,n){n(52);var o=n(0)(n(84),n(45),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(96),null,null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(95),n(49),null,null);e.exports=o.exports},,,,,,,,function(e,t,n){"use strict";function o(e){return r.setFromObject(e),r.getSize()}function i(e){return r.setFromObject(e),r.getCenter()}function s(e){function t(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}var n,o=e.getAttribute("position").array,i=void 0!==e.getAttribute("uv");i&&(n=e.getAttribute("uv").array);var s,r=void 0!==e.getAttribute("normal");r&&(s=e.getAttribute("normal").array);for(var l,c,h,d,u=[],p=[],m=[],f=[],v=new a.b,b=new a.b,g=new a.b,y=new a.b,x=new a.b,w=new a.b,k=new a.c,j=new a.c,_=new a.c,N=0;N<o.length;N+=9)v.x=o[N],v.y=o[N+1],v.z=o[N+2],b.x=o[N+3],b.y=o[N+4],b.z=o[N+5],g.x=o[N+6],g.y=o[N+7],g.z=o[N+8],l=[v,b,g],r&&(y.x=s[N],y.y=s[N+1],y.z=s[N+2],x.x=s[N+3],x.y=s[N+4],x.z=s[N+5],w.x=s[N+6],w.y=s[N+7],w.z=s[N+8],c=[y,x,w]),i&&(k.x=n[N],k.y=n[N+1],j.x=n[N+2],j.y=n[N+3],_.x=n[N+4],_.y=n[N+5],h=[k,j,_]),d=[],l.forEach(function(e,n){var o=t(e,p);-1==o&&(o=p.length,p.push(e.clone()),r&&m.push(c[n].clone()),i&&f.push(h[n].clone())),d.push(o)}),u.push(d[0],d[1],d[2]);var C=new Float32Array(3*p.length);if(r)var A=new Float32Array(3*p.length);if(i)var M=new Float32Array(2*p.length);var O=0,T=0;for(N=0;N<p.length;N++)T=3*N,C[T]=p[N].x,C[T+1]=p[N].y,C[T+2]=p[N].z,r&&(A[T]=m[N].x,A[T+1]=m[N].y,A[T+2]=m[N].z),i&&(O=2*N,M[O]=f[N].x,M[O+1]=f[N].y);return e.addAttribute("position",new a.d(C,3)),r&&e.addAttribute("normal",new a.d(A,3)),i&&e.addAttribute("uv",new a.d(M,2)),e.setIndex(new a.d(new Uint32Array(u),1)),e}n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s});var a=n(1),r=new a.a},,function(e,t,n){var o=n(0)(n(94),null,null,null);e.exports=o.exports},,,,,,,,,function(e,t,n){n(53);var o=n(0)(n(83),n(48),null,null);e.exports=o.exports},function(e,t,n){"use strict";var o=n(13),i=n(79),s=n(82);o.a.use(i.a);var a=s.a.map(function(e){var t=e.name;return{path:"/"+t,name:t,component:e}});a.push({path:"*",redirect:"/demo-basic"}),t.a=new i.a({routes:a})},function(e,t,n){t=e.exports=n(7)(void 0),t.push([e.i,".background-text{position:absolute;top:50%;left:0;z-index:1;width:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:center;font-size:60px}.background-buttons{position:absolute;top:0;left:10px;z-index:3}.background-buttons>p{margin-top:15px;color:#000}.background-buttons>button{background:#fff;padding:4px 6px;margin-top:5px;outline:none;border:1px solid #c4c4c4}.model-box{position:relative;z-index:2}",""])},function(e,t,n){t=e.exports=n(7)(void 0),t.push([e.i,'.demo-block{width:100%;height:100%;background-color:#fff;border-radius:3px}.demo-block .demo-block-preview{width:50%;height:100%;float:left;position:relative}.demo-block .demo-block-code{width:50%;height:100%;background:#f9fafc;border-left:1px solid #dfe2e7;font-size:13px;float:left}.demo-block .demo-block-code pre code{font:normal 10pt Consolas,Monaco,monospace}.demo-block .demo-block-code .demo-block-code-box{width:100%;height:50%;position:relative;overflow:hidden}.demo-block .demo-block-code-box:after{content:"";display:block;position:absolute;bottom:0;left:0;width:90%;height:1px;background:-webkit-linear-gradient(left,#dfe2e7 80%,rgba(223,226,231,0))}.demo-block .demo-block-code-box h3{width:100%;padding:10px 20px;font-size:16px;font-weight:700;position:absolute}.demo-block .demo-block-code-box-content{position:absolute;top:40px;bottom:10px;left:20px;right:20px;overflow:auto}.demo-block .demo-block-code code{position:absolute;top:0;left:0}',""])},function(e,t,n){t=e.exports=n(7)(void 0),t.push([e.i,'*{margin:0;border:0;padding:0;box-sizing:border-box}li,ol,ul{list-style:none}a{color:#657180;text-decoration:none}.examples,body,html{width:100%;height:100%;color:#657180}body{background:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background:#fff}.examples-header{position:absolute;top:0;width:100%;background:#f3f6fb;text-shadow:0 1px 0 hsla(0,0%,100%,.5);border-bottom:1px solid #dfe2e7;padding:15px 15px 15px 30px;line-height:20px}.examples-header .title{font-weight:700;font-size:18px;display:inline-block}.examples-header .github{color:#39f;display:inline-block;font-size:12px;float:right}.examples-content{width:100%;height:100%;padding-top:52px;overflow:hidden}.examples-menu{float:left;width:230px;height:100%;border-right:1px solid #dfe2e7;padding:10px 30px}.examples-menu .examples-menu-item{display:block;width:100%;height:30px;line-height:30px;font-size:14px;cursor:pointer}.examples-menu .examples-menu-item>a{display:block;width:100%;height:100%}.examples-menu .examples-menu-title{display:block;width:100%;padding:6px 0;margin-top:10px;font-size:14px;font-weight:700}.examples-menu .examples-menu-item:hover>a{color:#39f}.examples-pages{height:100%;overflow:hidden}.example-loading{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.example-loading:before{border-radius:100%;margin:2px;border:3px solid #20a0ff;border-bottom-color:transparent;height:36px;width:36px;-webkit-animation:loading-rotate .75s 0s linear infinite;animation:loading-rotate .75s 0s linear infinite}.example-loading:after,.example-loading:before{content:"";display:inline-block;vertical-align:middle}.example-loading:after{height:100%;width:0}@-webkit-keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}@keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}',""])},function(e,t,n){n(51);var o=n(0)(n(85),n(43),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(86),n(42),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(87),n(46),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(88),n(50),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(89),n(39),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(90),n(44),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(91),n(41),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(92),n(47),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(93),n(40),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(97),null,null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(98),null,null,null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{attrs:{backgroundAlpha:0,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-stl",{attrs:{backgroundAlpha:0,src:"static/models/stl/gear.stl"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{attrs:{backgroundAlpha:0,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-three",{attrs:{backgroundAlpha:0,src:"static/models/json/scene.json"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("p",{staticClass:"background-text"},[e._v("\n            Vue"),n("br"),e._v("3D"),n("br"),e._v("Model"),n("br"),e._v("Background\n        ")]),e._v(" "),n("div",{staticClass:"background-buttons"},[n("p",[e._v("Color")]),e._v(" "),n("button",{on:{click:function(t){e.bgColor="#ff0"}}},[e._v("#ff0")]),e._v(" "),n("button",{on:{click:function(t){e.bgColor="#f00"}}},[e._v("#f00")]),e._v(" "),n("button",{on:{click:function(t){e.bgColor="#13ce66"}}},[e._v("#13ce66")]),e._v(" "),n("p",[e._v("Alpha")]),e._v(" "),n("button",{on:{click:function(t){e.bgAlpha=.5}}},[e._v("0.5")]),e._v(" "),n("button",{on:{click:function(t){e.bgAlpha=1}}},[e._v("1")]),e._v(" "),n("button",{on:{click:function(t){e.bgAlpha=0}}},[e._v("0")])]),e._v(" "),n("model-obj",{staticClass:"model-box",attrs:{backgroundAlpha:e.bgAlpha,backgroundColor:e.bgColor,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{attrs:{backgroundAlpha:0,src:"static/models/obj/male02/male02.obj",mtl:"static/models/obj/male02/male02.mtl"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-block"},[n("div",{staticClass:"demo-block-preview"},[e._t("preview")],2),e._v(" "),n("div",{staticClass:"demo-block-code"},[n("div",{staticClass:"demo-block-code-box"},[n("h3",[e._v("Vue Component & Webpack")]),e._v(" "),n("div",{staticClass:"demo-block-code-box-content"},[n("pre",[e._v("\n                    "),n("code",{ref:"vueCode",staticClass:"html"},[e._v(e._s(e._f("code")(e.vueCode)))]),e._v("\n                ")])])]),e._v(" "),n("div",{staticClass:"demo-block-code-box"},[n("h3",[e._v("HTML & JS")]),e._v(" "),n("div",{staticClass:"demo-block-code-box-content"},[n("pre",[e._v("\n                    "),n("code",{ref:"htmlCode",staticClass:"html"},[e._v(e._s(e._f("code")(e.htmlCode)))]),e._v("\n                ")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-collada",{attrs:{backgroundAlpha:0,src:"static/models/collada/elf/elf.dae"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-collada",{ref:"collada",attrs:{rotation:e.rotation,src:"static/models/collada/elf/elf.dae"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examples"},[e._m(0),e._v(" "),n("div",{staticClass:"examples-content"},[n("ul",{staticClass:"examples-menu"},[n("li",{staticClass:"examples-menu-title"},[e._v("Examples")]),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-basic"}},[e._v("basic")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-rotate"}},[e._v("rotate")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-background"}},[e._v("background")])],1),e._v(" "),n("li",{staticClass:"examples-menu-title"},[e._v("Events")]),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-event"}},[e._v("mousemove")])],1),e._v(" "),n("li",{staticClass:"examples-menu-title"},[e._v("Model Formats")]),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-basic"}},[e._v("JSON Model (.json)")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-obj"}},[e._v("OBJ Model (.obj)")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-obj-mtl"}},[e._v("OBJ + MTL (.obj + .mtl)")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-stl"}},[e._v("STL Model (.stl)")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-collada"}},[e._v("Collada Model (.dae)")])],1)]),e._v(" "),n("div",{staticClass:"examples-pages"},[n("router-view")],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examples-header"},[n("a",{staticClass:"title",attrs:{href:"https://github.com/hujiulong/vue-3d-model"}},[e._v("Vue3DModel")]),e._v(" "),n("a",{staticClass:"github",attrs:{href:"https://github.com/hujiulong/vue-3d-model"}},[e._v("View on GitHub")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%",margin:"0",border:"0",padding:"0"}},[e.suportWebGL?n("canvas",{ref:"canvas",staticStyle:{width:"100%",height:"100%"}}):n("div",[e._t("default",[e._v("\n            Your browser does not seem to support "),n("a",{staticStyle:{color:"#000"},attrs:{href:"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation"}},[e._v("WebGL")]),e._v("."),n("br"),e._v("'\n        ")])],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{ref:"model",attrs:{backgroundAlpha:0,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad,"on-mousemove":e.onMouseMove}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t,n){var o=n(25);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(8)("6e88b5b7",o,!0)},function(e,t,n){var o=n(26);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(8)("3bd70d8a",o,!0)},function(e,t,n){var o=n(27);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(8)("12d3a60f",o,!0)},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n(23),s=n.n(i),a=n(24);new o.a({el:"#app",router:a.a,render:function(e){return e(s.a)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var o=n(29),i=n.n(o),s=n(31),a=n.n(s),r=n(28),l=n.n(r),c=n(35),h=n.n(c),d=n(34),u=n.n(d),p=n(33),m=n.n(p),f=n(36),v=n.n(f),b=n(30),g=n.n(b),y=n(32),x=n.n(y),w=[i.a,a.a,l.a,h.a,u.a,m.a,v.a,g.a,x.a]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),i=(n.n(o),n(106)),s=n.n(i),a=function(e){return e.replace(/#scripts#/gi,'<script src="vue.js"><\/script>\n    <script src="vue-3d-model.min.js"><\/script>')};t.default={name:"app",props:{vueCode:String,htmlCode:{type:String,default:"// TODO"}},mounted:function(){s.a.highlightBlock(this.$refs.vueCode),s.a.highlightBlock(this.$refs.htmlCode)},data:function(){return{}},filters:{code:function(e){return a(e)}},components:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(3),a=n.n(s);t.default={name:"demo-background",data:function(){return{code:'\n<template>\n    <p class="background-text">\n        Vue<br>3D<br>Model<br>Background\n    </p>\n    <div class="background-buttons">\n        <p>Color</p>\n        <button @click="bgColor = \'#ff0\'">#ff0</button>\n        <button @click="bgColor = \'#f00\'">#f00</button>\n        <button @click="bgColor = \'#13ce66\'">#13ce66</button>\n        <p>Alpha</p>\n        <button @click="bgAlpha = 0.5">0.5</button>\n        <button @click="bgAlpha = 1">1</button>\n        <button @click="bgAlpha = 0">0</button>\n    </div>\n    <model-obj\n        :backgroundAlpha="bgAlpha"\n        :backgroundColor="bgColor"\n        src="static/models/obj/tree.obj"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from \'vue-3d-model\'\n\n    export default {\n        data () {\n            return {\n                bgColor: \'#ff0\',\n                bgAlpha: 0.5\n            }\n        },\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n',htmlCode:'\n<body>\n    <div id="app">\n        <p class="background-text">\n            Vue<br>3D<br>Model<br>Background\n        </p>\n        <div class="background-buttons">\n            <p>Color</p>\n            <button @click="bgColor = \'#ff0\'">#ff0</button>\n            <button @click="bgColor = \'#f00\'">#f00</button>\n            <button @click="bgColor = \'#13ce66\'">#13ce66</button>\n            <p>Alpha</p>\n            <button @click="bgAlpha = 0.5">0.5</button>\n            <button @click="bgAlpha = 1">1</button>\n            <button @click="bgAlpha = 0">0</button>\n        </div>\n        <model-obj\n            :backgroundAlpha="bgAlpha"\n            :backgroundColor="bgColor"\n            src="static/models/obj/tree.obj"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\',\n            data: {\n                bgColor: \'#ff0\',\n                bgAlpha: 0.5\n            }\n        })\n    <\/script>\n</body>\n',loading:!0,bgColor:"#ff0",bgAlpha:.5}},methods:{onLoad:function(){this.loading=!1},setBackground:function(e,t){}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(38),a=n.n(s);t.default={name:"demo-basic",data:function(){return{code:"\n<template>\n    <model-three src=\"static/models/json/scene.json\"></model-three>\n</template>\n\n<script>\n    import { ModelThree } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelThree\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-three src="static/models/json/scene.json"></model-three>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelThree:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(14),a=n.n(s);t.default={name:"demo-collada",data:function(){return{code:"\n<template>\n    <model-collada src=\"static/models/collada/elf.dae\"></model-collada>\n</template>\n\n<script>\n    import { ModelCollada } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelCollada\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-collada src="static/models/collada/elf.dae"></model-collada>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelCollada:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(3),a=n.n(s);t.default={name:"demo-event",data:function(){return{code:"\n\n<template>\n    <model-obj \n        src=\"static/models/obj/tree.obj\"\n        @on-mousemove=\"onMouseMove\">\n    </model-obj>\n</template>\n\n<script>\n    import { ModelObj } from 'vue-3d-model'\n\n    export default {\n        data () {\n            return {\n                intersected: null\n            }\n        },\n        methods: {\n            onMouseMove ( event ) {\n\n                console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\n\n                if ( !event ) {\n\n                    if ( this.intersected ) {\n                        this.intersected.material.color.setStyle( '#fff' );\n                    }\n\n                    this.intersected = null;\n                    return;\n                }\n\n                this.intersected = event.object;\n                this.intersected.material.color.setStyle( '#13ce66' );\n            }\n        },\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n\n",htmlCode:"\n<body>\n    <div id=\"app\">\n        <model-obj \n            src=\"static/models/obj/tree.obj\"\n            @on-mousemove=\"onMouseMove\">\n        </model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: '#app',\n            data: {\n                intersected: null\n            },\n            methods: {\n                onMouseMove ( event ) {\n\n                    console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\n\n                    if ( !event ) {\n\n                        if ( this.intersected ) {\n                            this.intersected.material.color.setStyle( '#fff' );\n                        }\n\n                        this.intersected = null;\n                        return;\n                    }\n\n                    this.intersected = event.object;\n                    this.intersected.material.color.setStyle( '#13ce66' );\n                }\n            }\n        })\n    <\/script>\n</body>\n",loading:!0,intersected:null}},methods:{onLoad:function(){this.loading=!1},onMouseMove:function(e){if(console.log(e),!e)return this.intersected&&this.intersected.material.color.setStyle("#fff"),void(this.intersected=null);this.intersected=e.object,this.intersected.material.color.setStyle("#13ce66")}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(3),a=n.n(s);t.default={name:"demo-obj",data:function(){return{code:"\n<template>\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-obj src="static/models/obj/tree.obj"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(3),a=n.n(s);t.default={name:"demo-obj-mtl",data:function(){return{code:'\n<template>\n    <model-obj \n        src="static/models/obj/male02/male02.obj"\n        mtl="static/models/obj/male02/male02.mtl"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from \'vue-3d-model\'\n\n    export default {\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n',htmlCode:'\n<body>\n    <div id="app">\n        <model-obj \n            src="static/models/obj/male02/male02.obj"\n            mtl="static/models/obj/male02/male02.mtl"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(3),a=n.n(s);t.default={name:"demo-obj",data:function(){return{code:"\n<template>\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-obj src="static/models/obj/tree.obj"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(14),a=n.n(s);t.default={name:"demo-rotate",data:function(){return{code:'\n<template>\n    <model-collada\n        :rotation="rotation"\n        @on-load="onLoad"\n        src="static/models/collada/elf.dae"></model-collada>\n</template>\n\n<script>\n    import { ModelCollada } from \'vue-3d-model\'\n\n    export default {\n        data: {\n            rotation: {\n                x: 0,\n                y: 0,\n                z: 0\n            }\n        },\n        methods: {\n            onLoad () {\n                this.rotate();\n            },\n            rotate () {\n                this.rotation.y += 0.01;\n                requestAnimationFrame( this.rotate );\n            }\n        },\n        components: {\n            ModelCollada\n        }\n    }\n<\/script>\n',htmlCode:'\n<body>\n    <div id="app">\n        <model-collada\n            :rotation="rotation"\n            @on-load="onLoad"\n            src="static/models/collada/elf.dae"></model-collada>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\',\n            data: {\n                rotation: {\n                    x: 0,\n                    y: 0,\n                    z: 0\n                }\n            },\n            methods: {\n                onLoad () {\n                    this.rotate();\n                },\n                rotate () {\n                    this.rotation.y += 0.01;\n                    requestAnimationFrame( this.rotate );\n                }\n            }\n        })\n    <\/script>\n</body>\n',loading:!0,rotation:{x:0,y:0,z:0}}},methods:{onLoad:function(){this.loading=!1,this.rotate()},rotate:function(){requestAnimationFrame(this.rotate),this.rotation.y+=.01}},components:{ModelCollada:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),s=n(37),a=n.n(s);t.default={name:"demo-stl",data:function(){return{code:"\n<template>\n    <model-stl src=\"static/models/stl/slotted_disk.stl\"></model-stl>\n</template>\n\n<script>\n    import { ModelStl } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelStl\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-stl src="static/models/stl/slotted_disk.stl"></model-stl>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelStl:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(100),i=(n(12),n(4)),s=n.n(i);t.default={name:"model-collada",mixins:[s.a],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}},smoothing:{type:Boolean,default:!1}},data:function(){var e=new o.a;return e.options.convertUpAxis=!0,{loader:e}},methods:{load:function(){var e=this;this.src&&(this.object&&this.scene.remove(this.object),this.loader.load(this.src,function(t){e.object=t.scene,e.scene.add(e.object),e.updateCamera(),e.$emit("on-load")},function(t){e.$emit("on-error",t)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(12),s=n(99),a=function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}();t.default={props:{src:{type:String},width:{type:Number},height:{type:Number},position:{type:Object,default:function(){return{x:0,y:0,z:0}}},rotation:{type:Object,default:function(){return{x:0,y:0,z:0}}},scale:{type:Object,default:function(){return{x:1,y:1,z:1}}},lights:{type:Array,default:function(){return[]}},cameraPosition:{type:Object},cameraRotation:{type:Object},cameraUp:{type:Object},cameraLookAt:{type:Object},backgroundColor:{default:16777215},backgroundAlpha:{type:Number,default:1},controllable:{type:Boolean,default:!0}},data:function(){return{suportWebGL:a,size:{width:this.width,height:this.height},object:null,raycaster:new o.z,mouse:new o.c,camera:new o.A(45,1,.001,1e5),scene:new o.B,renderer:null,controls:null,allLights:[],clock:"undefined"==typeof performance?Date:performance}},computed:{hasListener:function(){var e=this._events,t={};return["on-mousemove","on-mouseup","on-mousedown","on-click"].forEach(function(n){t[n]=!!e[n]&&e[n].length>0}),t}},created:function(){window.addEventListener("resize",this.onResize,!1)},mounted:function(){void 0!==this.width&&void 0!==this.height||(this.size={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),this.renderer=new o.C({antialias:!0,alpha:!0,canvas:this.$refs.canvas}),this.renderer.shadowMap.enabled=!0,this.load(),this.update(),this.$el.addEventListener("mousedown",this.onMouseDown,!1),this.$el.addEventListener("mousemove",this.onMouseMove,!1),this.$el.addEventListener("mouseup",this.onMouseUp,!1),this.$el.addEventListener("click",this.onClick,!1),this.animate()},beforeDestroy:function(){this.$el.removeEventListener("mousedown",this.onMouseDown,!1),this.$el.removeEventListener("mousemove",this.onMouseMove,!1),this.$el.removeEventListener("mouseup",this.onMouseUp,!1),this.$el.removeEventListener("click",this.onClick,!1)},watch:{src:function(){this.load()},rotation:{deep:!0,handler:function(e){this.object&&this.object.rotation.set(e.x,e.y,e.z)}},position:{deep:!0,handler:function(e){this.object&&this.object.position.set(e.x,e.y,e.z)}},scale:{deep:!0,handler:function(e){this.object&&this.object.scale.set(e.x,e.y,e.z)}},lights:{deep:!0,handler:function(e,t){this.updateLights()}},size:{deep:!0,handler:function(e){this.updateCamera(),this.updateRenderer()}},controllable:function(){this.updateControls()},backgroundAlpha:function(){this.updateRenderer()},backgroundColor:function(){this.updateRenderer()}},methods:{onResize:function(){var e=this;void 0!==this.width&&void 0!==this.height||this.$nextTick(function(){e.size={width:e.$el.offsetWidth,height:e.$el.offsetHeight}})},onMouseDown:function(e){if(this.hasListener["on-mousedown"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousedown",t)}},onMouseMove:function(e){if(this.hasListener["on-mousemove"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousemove",t)}},onMouseUp:function(e){if(this.hasListener["on-mouseup"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mouseup",t)}},onClick:function(e){if(this.hasListener["on-click"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-click",t)}},pick:function(e,t){if(this.object){var n=this.$el.getBoundingClientRect();e-=n.left,t-=n.top,this.mouse.x=e/this.size.width*2-1,this.mouse.y=-t/this.size.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var o=this.raycaster.intersectObject(this.object,!0);return(o&&o.length)>0?o[0]:null}},update:function(){this.updateRenderer(),this.updateModel(),this.updateCamera(),this.updateLights(),this.updateControls()},updateModel:function(){var e=this.object;e&&(e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale),e.matrixWorldNeedsUpdate=!0)},updateRenderer:function(){var e=this.renderer;e.setSize(this.size.width,this.size.height),e.setPixelRatio(window.devicePixelRatio||1),e.setClearColor(new o.j(this.backgroundColor).getHex()),e.setClearAlpha(this.backgroundAlpha)},updateCamera:function(){var e=this.camera,t=this.object,o=0,s=null;if(e.aspect=this.size.width/this.size.height,e.updateProjectionMatrix(),!(this.cameraLookAt||this.cameraPosition||this.cameraRotation||this.cameraUp)){if(!t)return;o=n.i(i.b)(t).length(),s=n.i(i.c)(t),e.position.set(0,0,0),e.position.z=o,e.position.add(s),e.lookAt(s)}this.controls&&s&&this.controls.target.copy(s)},updateLights:function(){var e=this;this.scene.remove.apply(this.scene,this.allLights),this.allLights=[],this.lights.forEach(function(t){if(t.type){var n=t.type.toLowerCase(),i=null;if("ambient"===n||"ambientlight"===n){var s=t.color||4210752,a=t.intensity||1;i=new o.D(s,a)}else if("point"===n||"pointlight"===n){var r=t.color||16777215,l=t.intensity||1,c=t.distance||0,h=t.decay||1;i=new PointLight(r,l,c,h),t.position&&i.position.copy(t.position)}else if("directional"===n||"directionallight"===n){var d=t.color||16777215,u=t.intensity||1;i=new o.E(d,u),t.position&&i.position.copy(t.position),t.target&&i.target.copy(t.target)}else if("hemisphere"===n||"hemispherelight"===n){var p=t.skyColor||16777215,m=t.groundColor||16777215,f=t.intensity||1;i=new o.F(p,m,f),t.position&&i.position.copy(t.position)}e.allLights.push(i),e.scene.add(i)}})},updateControls:function(){if(!this.controllable||!this.controls)if(this.controllable){if(this.controls)return;this.controls=new s.a(this.camera,this.$el),this.controls.type="orbit"}else this.controls&&(this.controls.dispose(),this.controls=null)},load:function(){var e=this;this.src&&(this.object&&this.scene.remove(this.object),this.loader.load(this.src,function(t){e.process&&e.process(t),e.object=t,e.scene.add(e.object),e.updateCamera(),e.$emit("on-load")},function(t){e.$emit("on-error",t)}))},animate:function(){requestAnimationFrame(this.animate),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(103),i=n(102),s=n(12),a=n(4),r=n.n(a);t.default={name:"model-obj",mixins:[r.a],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}},smoothing:{type:Boolean,default:!1},mtlPath:{type:String},mtl:{type:String}},data:function(){return{loader:new o.a,mtlLoader:new i.a}},watch:{mtl:function(){this.load()}},methods:{process:function(e){this.smoothing&&e.traverse(function(e){e.geometry&&(e.geometry=n.i(s.a)(e.geometry),e.geometry.computeVertexNormals())})},load:function(){var e=this;if(this.src){this.object&&this.scene.remove(this.object);var t=function(t){e.process&&e.process(t),e.object=t,e.scene.add(e.object),e.updateCamera(),e.$emit("on-load")},n=function(t){e.$emit("on-error",t)};if(this.mtl){var o=this.mtlPath,i=this.mtl;if(!this.mtlPath){var s=/^(.*\/)([^\/]*)$/.exec(this.mtl);s&&(o=s[1],i=s[2])}o&&this.mtlLoader.setPath(o),this.mtlLoader.load(i,function(o){o.preload(),e.loader.setMaterials(o),e.loader.load(e.src,t,n)},n)}else this.loader.load(this.src,t,n)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),i=n(4),s=n.n(i),a=n(1);t.default={name:"model-stl",mixins:[s.a],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}}},data:function(){return{loader:new o.a}},methods:{load:function(){var e=this;this.src&&(this.object&&this.scene.remove(this.object),this.loader.load(this.src,function(t){e.object=new a.x(t,new a.k),e.scene.add(e.object),e.updateCamera(),e.$emit("on-load")},function(t){e.$emit("on-error",t)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(4),s=n.n(i);t.default={name:"model-three",mixins:[s.a],data:function(){return{loader:new o._4}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(11),i=n.n(o),s=n(1),a=function(e,t){function n(){return 2*Math.PI/60/60*I.autoRotateSpeed}function o(){return Math.pow(.95,I.zoomSpeed)}function i(e){B.theta-=e}function a(e){B.phi-=e}function r(e){I.object instanceof s.A?X/=e:I.object instanceof s.J?(I.object.zoom=Math.max(I.minZoom,Math.min(I.maxZoom,I.object.zoom*e)),I.object.updateProjectionMatrix(),q=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),I.enableZoom=!1)}function l(e){I.object instanceof s.A?X*=e:I.object instanceof s.J?(I.object.zoom=Math.max(I.minZoom,Math.min(I.maxZoom,I.object.zoom/e)),I.object.updateProjectionMatrix(),q=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),I.enableZoom=!1)}function c(e){H.set(e.clientX,e.clientY)}function h(e){Q.set(e.clientX,e.clientY)}function d(e){G.set(e.clientX,e.clientY)}function u(e){Z.set(e.clientX,e.clientY),$.subVectors(Z,H);var t=I.domElement===document?I.domElement.body:I.domElement;i(2*Math.PI*$.x/t.clientWidth*I.rotateSpeed),a(2*Math.PI*$.y/t.clientHeight*I.rotateSpeed),H.copy(Z),I.update()}function p(e){K.set(e.clientX,e.clientY),ee.subVectors(K,Q),ee.y>0?r(o()):ee.y<0&&l(o()),Q.copy(K),I.update()}function m(e){J.set(e.clientX,e.clientY),W.subVectors(J,G),oe(W.x,W.y),G.copy(J),I.update()}function f(e){}function v(e){e.deltaY<0?l(o()):e.deltaY>0&&r(o()),I.update()}function b(e){switch(e.keyCode){case I.keys.UP:oe(0,I.keyPanSpeed),I.update();break;case I.keys.BOTTOM:oe(0,-I.keyPanSpeed),I.update();break;case I.keys.LEFT:oe(I.keyPanSpeed,0),I.update();break;case I.keys.RIGHT:oe(-I.keyPanSpeed,0),I.update()}}function g(e){H.set(e.touches[0].pageX,e.touches[0].pageY)}function y(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);Q.set(0,o)}function x(e){G.set(e.touches[0].pageX,e.touches[0].pageY)}function w(e){Z.set(e.touches[0].pageX,e.touches[0].pageY),$.subVectors(Z,H);var t=I.domElement===document?I.domElement.body:I.domElement;i(2*Math.PI*$.x/t.clientWidth*I.rotateSpeed),a(2*Math.PI*$.y/t.clientHeight*I.rotateSpeed),H.copy(Z),I.update()}function k(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);K.set(0,i),ee.subVectors(K,Q),ee.y>0?l(o()):ee.y<0&&r(o()),Q.copy(K),I.update()}function j(e){J.set(e.touches[0].pageX,e.touches[0].pageY),W.subVectors(J,G),oe(W.x,W.y),G.copy(J),I.update()}function _(e){}function N(e){if(!1!==I.enabled){switch(e.preventDefault(),e.button){case I.mouseButtons.ORBIT:if(!1===I.enableRotate)return;c(e),U=R.ROTATE;break;case I.mouseButtons.ZOOM:if(!1===I.enableZoom)return;h(e),U=R.DOLLY;break;case I.mouseButtons.PAN:if(!1===I.enablePan)return;d(e),U=R.PAN}U!==R.NONE&&(document.addEventListener("mousemove",C,!1),document.addEventListener("mouseup",A,!1),I.dispatchEvent(P))}}function C(e){if(!1!==I.enabled)switch(e.preventDefault(),U){case R.ROTATE:if(!1===I.enableRotate)return;u(e);break;case R.DOLLY:if(!1===I.enableZoom)return;p(e);break;case R.PAN:if(!1===I.enablePan)return;m(e)}}function A(e){!1!==I.enabled&&(f(e),document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",A,!1),I.dispatchEvent(F),U=R.NONE)}function M(e){!1===I.enabled||!1===I.enableZoom||U!==R.NONE&&U!==R.ROTATE||(e.preventDefault(),e.stopPropagation(),v(e),I.dispatchEvent(P),I.dispatchEvent(F))}function O(e){!1!==I.enabled&&!1!==I.enableKeys&&!1!==I.enablePan&&b(e)}function T(e){if(!1!==I.enabled){switch(e.touches.length){case 1:if(!1===I.enableRotate)return;g(e),U=R.TOUCH_ROTATE;break;case 2:if(!1===I.enableZoom)return;y(e),U=R.TOUCH_DOLLY;break;case 3:if(!1===I.enablePan)return;x(e),U=R.TOUCH_PAN;break;default:U=R.NONE}U!==R.NONE&&I.dispatchEvent(P)}}function L(e){if(!1!==I.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===I.enableRotate)return;if(U!==R.TOUCH_ROTATE)return;w(e);break;case 2:if(!1===I.enableZoom)return;if(U!==R.TOUCH_DOLLY)return;k(e);break;case 3:if(!1===I.enablePan)return;if(U!==R.TOUCH_PAN)return;j(e);break;default:U=R.NONE}}function E(e){!1!==I.enabled&&(_(e),I.dispatchEvent(F),U=R.NONE)}function S(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new s.b,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:s.G.LEFT,ZOOM:s.G.MIDDLE,PAN:s.G.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return V.phi},this.getAzimuthalAngle=function(){return V.theta},this.saveState=function(){I.target0.copy(I.target),I.position0.copy(I.object.position),I.zoom0=I.object.zoom},this.reset=function(){I.target.copy(I.target0),I.object.position.copy(I.position0),I.object.zoom=I.zoom0,I.object.updateProjectionMatrix(),I.dispatchEvent(z),I.update(),U=R.NONE},this.update=function(){var t=new s.b,o=(new s.H).setFromUnitVectors(e.up,new s.b(0,1,0)),a=o.clone().inverse(),r=new s.b,l=new s.H;return function(){var e=I.object.position;return t.copy(e).sub(I.target),t.applyQuaternion(o),V.setFromVector3(t),I.autoRotate&&U===R.NONE&&i(n()),V.theta+=B.theta,V.phi+=B.phi,V.theta=Math.max(I.minAzimuthAngle,Math.min(I.maxAzimuthAngle,V.theta)),V.phi=Math.max(I.minPolarAngle,Math.min(I.maxPolarAngle,V.phi)),V.makeSafe(),V.radius*=X,V.radius=Math.max(I.minDistance,Math.min(I.maxDistance,V.radius)),I.target.add(Y),t.setFromSpherical(V),t.applyQuaternion(a),e.copy(I.target).add(t),I.object.lookAt(I.target),!0===I.enableDamping?(B.theta*=1-I.dampingFactor,B.phi*=1-I.dampingFactor):B.set(0,0,0),X=1,Y.set(0,0,0),!!(q||r.distanceToSquared(I.object.position)>D||8*(1-l.dot(I.object.quaternion))>D)&&(I.dispatchEvent(z),r.copy(I.object.position),l.copy(I.object.quaternion),q=!1,!0)}}(),this.dispose=function(){I.domElement.removeEventListener("contextmenu",S,!1),I.domElement.removeEventListener("mousedown",N,!1),I.domElement.removeEventListener("wheel",M,!1),I.domElement.removeEventListener("touchstart",T,!1),I.domElement.removeEventListener("touchend",E,!1),I.domElement.removeEventListener("touchmove",L,!1),document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",A,!1),window.removeEventListener("keydown",O,!1)};var I=this,z={type:"change"},P={type:"start"},F={type:"end"},R={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},U=R.NONE,D=1e-6,V=new s.I,B=new s.I,X=1,Y=new s.b,q=!1,H=new s.c,Z=new s.c,$=new s.c,G=new s.c,J=new s.c,W=new s.c,Q=new s.c,K=new s.c,ee=new s.c,te=function(){var e=new s.b;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),Y.add(e)}}(),ne=function(){var e=new s.b;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),Y.add(e)}}(),oe=function(){var e=new s.b;return function(t,n){var o=I.domElement===document?I.domElement.body:I.domElement;if(I.object instanceof s.A){var i=I.object.position;e.copy(i).sub(I.target);var a=e.length();a*=Math.tan(I.object.fov/2*Math.PI/180),te(2*t*a/o.clientHeight,I.object.matrix),ne(2*n*a/o.clientHeight,I.object.matrix)}else I.object instanceof s.J?(te(t*(I.object.right-I.object.left)/I.object.zoom/o.clientWidth,I.object.matrix),ne(n*(I.object.top-I.object.bottom)/I.object.zoom/o.clientHeight,I.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),I.enablePan=!1)}}();I.domElement.addEventListener("contextmenu",S,!1),I.domElement.addEventListener("mousedown",N,!1),I.domElement.addEventListener("wheel",M,!1),I.domElement.addEventListener("touchstart",T,!1),I.domElement.addEventListener("touchend",E,!1),I.domElement.addEventListener("touchmove",L,!1),window.addEventListener("keydown",O,!1),this.update()};a.prototype=i()(s.K.prototype),a.prototype.constructor=a},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(11),i=n.n(o),s=n(1),a=function(){function e(e,n,o,i){var s=0;if(document.implementation&&document.implementation.createDocument){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState?0===a.status||200===a.status?a.response?(De=n,t(a.response,void 0,e)):i?i({type:"error",url:e}):console.error("ColladaLoader: Empty or non-existing file ("+e+")"):i?i({type:"error",url:e}):console.error("ColladaLoader: Couldn't load \""+e+'" ('+a.status+")"):3===a.readyState&&o&&(0===s&&(s=a.getResponseHeader("Content-Length")),o({total:s,loaded:a.responseText.length}))},a.open("GET",e,!0),a.send(null)}else alert("Don't know how to parse XML!")}function t(e,t,n){if(Re=(new DOMParser).parseFromString(e,"text/xml"),t=t||De,void 0!==n){var i=n.split("/");i.pop(),ze=(i.length<1?".":i.join("/"))+"/"}o(),ke(),Be=a("library_images image",M,"image"),He=a("library_materials material",$,"material"),Ze=a("library_effects effect",K,"effect"),qe=a("library_geometries geometry",R,"geometry"),$e=a("library_cameras camera",se,"camera"),Ge=a("library_lights light",re,"light"),Ye=a("library_controllers controller",O,"controller"),Xe=a("library_animations animation",te,"animation"),Se=a("library_visual_scenes visual_scene",E,"visual_scene"),Ie=a("library_kinematics_models kinematics_model",ce,"kinematics_model"),Pe=[],Fe=[],Oe=r(),Ue=new s.s;for(var h=0;h<Oe.nodes.length;h++)Ue.add(y(Oe.nodes[h]));Ue.scale.multiplyScalar(Qe),c(),Te=l(),g();var d={scene:Ue,morphs:Pe,skins:Fe,animations:Le,kinematics:Ee,dae:{images:Be,materials:He,cameras:$e,lights:Ge,effects:Ze,geometries:qe,controllers:Ye,animations:Xe,visualScenes:Se,visualScene:Oe,scene:Oe,kinematicsModels:Ie,kinematicsModel:Te}};return t&&t(d),d}function n(e){Je=e}function o(){var e=Re.querySelectorAll("asset"),t=e[0];if(t&&t.childNodes)for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];switch(o.nodeName){case"unit":var i=o.getAttribute("meter");i&&(Qe=parseFloat(i));break;case"up_axis":Ke=o.textContent.charAt(0)}}}function a(e,t,n){for(var o=Re.querySelectorAll(e),i={},s=0,a=o.length,r=0;r<a;r++){var l=o[r],c=(new t).parse(l);c.id&&0!==c.id.length||(c.id=n+s++),i[c.id]=c}return i}function r(){var e=Re.querySelectorAll("scene instance_visual_scene")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return Se[t.length>0?t:"visual_scene0"]}return null}function l(){var e=Re.querySelectorAll("instance_kinematics_model")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return Ie[t.length>0?t:"kinematics_model0"]}return null}function c(){Le=[],h(Ue)}function h(e){var t=Oe.getChildById(e.colladaId,!0),n=null;if(t&&t.keys){n={fps:60,hierarchy:[{node:t,keys:t.keys,sids:t.sids}],node:e,name:"animation_"+e.name,length:0},Le.push(n);for(var o=0,i=t.keys.length;o<i;o++)n.length=Math.max(n.length,t.keys[o].time)}else n={hierarchy:[{keys:[],sids:[]}]};for(var o=0,i=e.children.length;o<i;o++)for(var s=h(e.children[o]),a=0,r=s.hierarchy.length;a<r;a++)n.hierarchy.push({keys:[],sids:[]});return n}function d(){var e,t=1e6,n=-t,o=0;for(var i in Xe){var s=Xe[i];e=e||s.id;for(var a=0;a<s.sampler.length;a++){var r=s.sampler[a];r.create(),t=Math.min(t,r.startTime),n=Math.max(n,r.endTime),o=Math.max(o,r.input.length)}}return{start:t,end:n,frames:o,ID:e}}function u(e,t){var n=t instanceof z?Ye[t.url]:t;if(!n||!n.morph)return void console.log("could not find morph controller!");for(var o=n.morph,i=0;i<o.targets.length;i++){var s=o.targets[i],a=qe[s];if(a.mesh&&a.mesh.primitives&&a.mesh.primitives.length){var r=a.mesh.primitives[0].geometry;r.vertices.length===e.vertices.length&&e.morphTargets.push({name:"target_1",vertices:r.vertices})}}e.morphTargets.push({name:"target_Z",vertices:e.vertices})}function p(e,t,n,o){if(e.world=e.world||new s.L,e.localworld=e.localworld||new s.L,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var i=e.channels[0],a=i.sampler.output[n];a instanceof s.L&&(e.world.copy(a),e.localworld.copy(a),0===n&&e.matrix.copy(a))}o&&e.world.multiplyMatrices(o,e.world),t.push(e);for(var r=0;r<e.nodes.length;r++)p(e.nodes[r],t,n,e.world)}function m(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=-1;if("JOINT"==o.type){for(var a=0;a<t.joints.length;a++)if(o.sid===t.joints[a]){i=a;break}if(i>=0){var r=t.invBindMatrices[i];o.invBindMatrix=r,o.skinningMatrix=new s.L,o.skinningMatrix.multiplyMatrices(o.world,r),o.animatrix=new s.L,o.animatrix.copy(o.localworld),o.weights=[];for(var a=0;a<t.weights.length;a++)for(var l=0;l<t.weights[a].length;l++){var c=t.weights[a][l];c.joint===i&&o.weights.push(c)}}else console.warn("ColladaLoader: Could not find joint '"+o.sid+"'."),o.skinningMatrix=new s.L,o.weights=[]}}}function f(e){var t=[];return function e(t,n,o){var i={};i.name=n.sid,i.parent=t,i.matrix=n.matrix;var a=[new s.b,new s.H,new s.b];i.matrix.decompose(a[0],a[1],a[2]),i.pos=[a[0].x,a[0].y,a[0].z],i.scl=[a[2].x,a[2].y,a[2].z],i.rotq=[a[1].x,a[1].y,a[1].z,a[1].w],o.push(i);for(var r in n.nodes)e(n.sid,n.nodes[r],o)}(-1,e,t),t}function v(e,t,n){var o=[];p(t,o,-1),m(o,n.skin);for(var i=new s.b,a=[],r=0;r<e.vertices.length;r++)a.push(new s.b);for(r=0;r<o.length;r++)if("JOINT"==o[r].type)for(var l=0;l<o[r].weights.length;l++){var c=o[r].weights[l],h=c.index,d=c.weight,u=e.vertices[h],f=a[h];i.x=u.x,i.y=u.y,i.z=u.z,i.applyMatrix4(o[r].skinningMatrix),f.x+=i.x*d,f.y+=i.y*d,f.z+=i.z*d}for(var r=0;r<e.vertices.length;r++)e.vertices[r]=a[r]}function b(e,t,n){void 0===n&&(n=40);var o=Ye[t.url];if(!o||!o.skin)return void console.log("ColladaLoader: Could not find skin controller.");if(!t.skeleton||!t.skeleton.length)return void console.log("ColladaLoader: Could not find the skeleton for the skin. ");for(var i=d(),a=Oe.getChildById(t.skeleton[0],!0)||Oe.getChildBySid(t.skeleton[0],!0),r=f(a),l=o.skin.joints,c=[],h=0;h<l.length;h++)for(var u=0;u<r.length;u++)r[u].name===l[h]&&(c[h]=r[u]);for(var h=0;h<c.length;h++)for(var u=0;u<c.length;u++)c[h].parent===c[u].name&&(c[h].parent=u);var h,u,b;new s.b;for(h=0;h<e.vertices.length;h++)e.vertices[h].applyMatrix4(o.skin.bindShapeMatrix);for(var g=[],y=[],x=o.skin.weights,h=0;h<x.length;h++){var w=new s.M(x[h][0]?x[h][0].joint:0,x[h][1]?x[h][1].joint:0,x[h][2]?x[h][2].joint:0,x[h][3]?x[h][3].joint:0),b=new s.M(x[h][0]?x[h][0].weight:0,x[h][1]?x[h][1].weight:0,x[h][2]?x[h][2].weight:0,x[h][3]?x[h][3].weight:0);g.push(w),y.push(b)}e.skinIndices=g,e.skinWeights=y,e.bones=c;for(var k={name:i.ID,fps:30,length:i.frames/30,hierarchy:[]},u=0;u<c.length;u++)k.hierarchy.push({parent:c[u].parent,name:c[u].name,keys:[]});for(console.log("ColladaLoader:",i.ID+" has "+c.length+" bones."),v(e,a,o),n=0;n<i.frames;n++){var j=[];p(a,j,n),m(j,o.skin);for(var h=0;h<j.length;h++)for(var u=0;u<k.hierarchy.length;u++)if(k.hierarchy[u].name===j[h].sid){var _={};_.time=n/30,_.matrix=j[h].animatrix,0===n&&(j[h].matrix=_.matrix);var N=[new s.b,new s.H,new s.b];_.matrix.decompose(N[0],N[1],N[2]),_.pos=[N[0].x,N[0].y,N[0].z],_.scl=[N[2].x,N[2].y,N[2].z],_.rot=N[1],k.hierarchy[u].keys.push(_)}e.animation=k}}function g(){if(Te&&0===Te.joints.length)return void(Ee=void 0);var e={};Ee={joints:Te&&Te.joints,getJointValue:function(t){var n=e[t];if(n)return n.position;console.log("getJointValue: joint "+t+" doesn't exist")},setJointValue:function(t,o){var i=e[t];if(i){var a=i.joint;if(o>a.limits.max||o<a.limits.min)console.log("setJointValue: joint "+t+" value "+o+" outside of limits (min: "+a.limits.min+", max: "+a.limits.max+")");else if(a.static)console.log("setJointValue: joint "+t+" is static");else{var r=i.node,l=a.axis,c=i.transforms,h=new s.L,d=new s.L;for(n=0;n<c.length;n++){var u=c[n];if(u.sid&&-1!==u.sid.indexOf("joint"+t))switch(a.type){case"revolute":h.multiply(d.makeRotationAxis(l,s.N.degToRad(o)));break;case"prismatic":h.multiply(d.makeTranslation(l.x*o,l.y*o,l.z*o));break;default:console.warn("setJointValue: unknown joint type: "+a.type)}else switch(u.type){case"matrix":h.multiply(u.obj);break;case"translate":h.multiply(d.makeTranslation(u.obj.x,u.obj.y,u.obj.z));break;case"rotate":h.multiply(d.makeRotationAxis(u.obj,u.angle))}}var p=h.elements,m=Array.prototype.slice.call(p),f=[m[0],m[4],m[8],m[12],m[1],m[5],m[9],m[13],m[2],m[6],m[10],m[14],m[3],m[7],m[11],m[15]];r.matrix.set.apply(r.matrix,f),r.matrix.decompose(r.position,r.quaternion,r.scale),e[t].position=o}}else console.log("setJointValue: joint "+t+" doesn't exist")}};var t=Re.querySelector("scene instance_kinematics_scene");if(t)for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"bind_joint_axis":var i=o.getAttribute("target").split("/").pop(),a=o.querySelector("axis param").textContent,r=parseInt(a.split("joint").pop().split(".")[0]),l=Re.querySelector('[sid="'+i+'"]');if(l){var c=l.parentElement;!function(t,n){var o=n.getAttribute("id"),i=Oe.getChildById(o,!0),s=Te.joints[t];Ue.traverse(function(n){n.colladaId==o&&(e[t]={node:n,transforms:i.transforms,joint:s,position:s.zeroPosition})})}(r,c)}}}}function y(e,t){var n,o,i,a,r=new s.O;for(i=0;i<e.controllers.length;i++){var l=Ye[e.controllers[i].url];switch(l.type){case"skin":if(qe[l.skin.source]){var c=new F;c.url=l.skin.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c),!0,n=e.controllers[i]}else if(Ye[l.skin.source]){var h=Ye[l.skin.source];if(o=h,h.morph&&qe[h.morph.source]){var c=new F;c.url=h.morph.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c)}}break;case"morph":if(qe[l.morph.source]){var c=new F;c.url=l.morph.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c),o=e.controllers[i]}console.log("ColladaLoader: Morph-controller partially supported.")}}var d={};for(i=0;i<e.geometries.length;i++){var p,m=e.geometries[i],f=m.instance_material,v=qe[m.url],g={},x=[],w=0;if(v){if(!v.mesh||!v.mesh.primitives)continue;if(0===r.name.length&&(r.name=v.id),f)for(a=0;a<f.length;a++){var k=f[a],j=He[k.target],_=j.instance_effect.url,N=Ze[_].shader,C=N.material;if(v.doubleSided){if(!(k.symbol in d)){var A=C.clone();A.side=s.P,d[k.symbol]=A}C=d[k.symbol]}C.opacity=C.opacity?C.opacity:1,g[k.symbol]=w,x.push(C),p=C,p.name=null===j.name||""===j.name?j.id:j.name,w++}var M,O=p||new s.Q({color:14540253,side:v.doubleSided?s.P:s.h}),T=v.mesh.geometry3js;if(w>1)for(O=new s.R(x),a=0;a<T.faces.length;a++){var L=T.faces[a];L.materialIndex=g[L.daeMaterial]}void 0!==n?(b(T,n),T.morphTargets.length>0?(O.morphTargets=!0,O.skinning=!1):(O.morphTargets=!1,O.skinning=!0),M=new s.S(T,O,!1),M.name="skin_"+Fe.length,Fe.push(M)):void 0!==o?(u(T,o),O.morphTargets=!0,M=new s.x(T,O),M.name="morph_"+Pe.length,Pe.push(M)):M=!0===T.isLineStrip?new s.T(T):new s.x(T,O),r.add(M)}}for(i=0;i<e.cameras.length;i++){var E=e.cameras[i],S=$e[E.url],I=new s.A(S.yfov,parseFloat(S.aspect_ratio),parseFloat(S.znear),parseFloat(S.zfar));r.add(I)}for(i=0;i<e.lights.length;i++){var z=null,P=e.lights[i],R=Ge[P.url];if(R&&R.technique){var U=R.color.getHex(),D=R.intensity,V=R.distance,B=R.falloff_angle;switch(R.technique){case"directional":z=new s.E(U,D,V),z.position.set(0,0,1);break;case"point":z=new s.U(U,D,V);break;case"spot":z=new s.V(U,D,V,B),z.position.set(0,0,1);break;case"ambient":z=new s.D(U)}}z&&r.add(z)}if(r.name=e.name||e.id||"",r.colladaId=e.id||"",r.layer=e.layer||"",r.matrix=e.matrix,r.matrix.decompose(r.position,r.quaternion,r.scale),We.centerGeometry&&r.geometry){var X=r.geometry.center();X.multiply(r.scale),X.applyQuaternion(r.quaternion),r.position.sub(X)}for(i=0;i<e.nodes.length;i++)r.add(y(e.nodes[i],e));return r}function x(e){for(var t=Re.querySelectorAll("library_nodes node"),n=0;n<t.length;n++){var o=t[n].attributes.getNamedItem("id");if(o&&o.value===e)return t[n]}}function w(e){var t=[],n=1e6,o=-1e6;for(var i in Xe)for(var s=Xe[i],a=0;a<s.channel.length;a++){var r=s.channel[a],l=s.sampler[a],i=r.target.split("/")[0];i==e.id&&(l.create(),r.sampler=l,n=Math.min(n,l.startTime),o=Math.max(o,l.endTime),t.push(r))}return t.length&&(e.startTime=n,e.endTime=o),t}function k(e){if(e.channels&&e.channels.length){for(var t=[],n=[],o=0,i=e.channels.length;o<i;o++){var s,a=e.channels[o],r=a.fullSid,l=a.sampler,c=l.input,h=e.getTransformBySid(a.sid);if(a.arrIndices){s=[];for(var d=0,u=a.arrIndices.length;d<u;d++)s[d]=Ae(a.arrIndices[d])}else s=Me(a.member);if(h){-1===n.indexOf(r)&&n.push(r);for(var d=0,u=c.length;d<u;d++){var p=c[d],m=l.getData(h.type,d,s),f=j(t,p);if(!f){f=new ie(p);var v=_(t,p);t.splice(-1===v?t.length:v,0,f)}f.addTarget(r,h,s,m)}}else console.log('Could not find transform "'+a.sid+'" in node '+e.id)}for(var o=0;o<n.length;o++)for(var b=n[o],d=0;d<t.length;d++){var f=t[d];f.hasTarget(b)||N(t,f,d,b)}e.keys=t,e.sids=n}}function j(e,t){for(var n=null,o=0,i=e.length;o<i&&null===n;o++){var s=e[o];if(s.time===t)n=s;else if(s.time>t)break}return n}function _(e,t){for(var n=-1,o=0,i=e.length;o<i&&-1===n;o++){e[o].time>=t&&(n=o)}return n}function N(e,t,n,o){var i=A(e,o,n?n-1:0),s=C(e,o,n+1);if(i&&s){var a,r=(t.time-i.time)/(s.time-i.time),l=i.getTarget(o),c=s.getTarget(o).data,h=l.data;if("matrix"===l.type)a=h;else if(h.length){a=[];for(var d=0;d<h.length;++d)a[d]=h[d]+(c[d]-h[d])*r}else a=h+(c-h)*r;t.addTarget(o,l.transform,l.member,a)}}function C(e,t,n){for(;n<e.length;n++){var o=e[n];if(o.hasTarget(t))return o}return null}function A(e,t,n){for(n=n>=0?n:n+e.length;n>=0;n--){var o=e[n];if(o.hasTarget(t))return o}return null}function M(){this.id="",this.init_from=""}function O(){this.id="",this.name="",this.type="",this.skin=null,this.morph=null}function T(){this.method=null,this.source=null,this.targets=null,this.weights=null}function L(){this.source="",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function E(){this.id="",this.name="",this.nodes=[],this.scene=new s.s}function S(){this.id="",this.name="",this.sid="",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new s.L}function I(){this.sid="",this.type="",this.data=[],this.obj=null}function z(){this.url="",this.skeleton=[],this.instance_material=[]}function P(){this.symbol="",this.target=""}function F(){this.url="",this.instance_material=[]}function R(){this.id="",this.mesh=null}function U(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function D(){this.material="",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new s.W}function V(){D.call(this),this.vcount=[]}function B(){D.call(this),this.vcount=1}function X(){D.call(this),this.vcount=3}function Y(){this.source="",this.count=0,this.stride=0,this.params=[]}function q(){this.input={}}function H(){this.semantic="",this.offset=0,this.source="",this.set=0}function Z(e){this.id=e,this.type=null}function $(){this.id="",this.name="",this.instance_effect=null}function G(){this.color=new s.j,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function J(e,t){this.type=e,this.effect=t,this.material=null}function W(e){this.effect=e,this.init_from=null,this.format=null}function Q(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function K(){this.id="",this.name="",this.shader=null,this.surface={},this.sampler={}}function ee(){this.url=""}function te(){this.id="",this.name="",this.source={},this.sampler=[],this.channel=[]}function ne(e){this.animation=e,this.source="",this.target="",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function oe(e){this.id="",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function ie(e){this.targets=[],this.time=e}function se(){this.id="",this.name="",this.technique=""}function ae(){this.url=""}function re(){this.id="",this.name="",this.technique=""}function le(){this.url=""}function ce(){this.id="",this.name="",this.joints=[],this.links=[]}function he(){this.sid="",this.name="",this.axis=new s.b,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0}function de(){this.sid="",this.name="",this.transforms=[],this.attachments=[]}function ue(){this.joint="",this.transforms=[],this.links=[]}function pe(e){var t=e.getAttribute("id");return void 0!=Ve[t]?Ve[t]:(Ve[t]=new Z(t).parse(e),Ve[t])}function me(e){for(var t=be(e),n=[],o=0,i=t.length;o<i;o++)n.push("true"===t[o]||"1"===t[o]);return n}function fe(e){for(var t=be(e),n=[],o=0,i=t.length;o<i;o++)n.push(parseFloat(t[o]));return n}function ve(e){for(var t=be(e),n=[],o=0,i=t.length;o<i;o++)n.push(parseInt(t[o],10));return n}function be(e){return e.length>0?ge(e).split(/\s+/):[]}function ge(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function ye(e,t,n){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):n}function xe(e,t){(new s._3).load(t,function(t){e.image=t,e.needsUpdate=!0})}function we(e,t){e.doubleSided=!1;var n=t.querySelectorAll("extra double_sided")[0];n&&n&&1===parseInt(n.textContent,10)&&(e.doubleSided=!0)}function ke(){if(!0!==We.convertUpAxis||Ke===We.upAxis)et=null;else switch(Ke){case"X":et="Y"===We.upAxis?"XtoY":"XtoZ";break;case"Y":et="X"===We.upAxis?"YtoX":"YtoZ";break;case"Z":et="X"===We.upAxis?"ZtoX":"ZtoY"}}function je(e,t){if(!0===We.convertUpAxis&&Ke!==We.upAxis)switch(et){case"XtoY":var n=e[0];e[0]=t*e[1],e[1]=n;break;case"XtoZ":var n=e[2];e[2]=e[1],e[1]=e[0],e[0]=n;break;case"YtoX":var n=e[0];e[0]=e[1],e[1]=t*n;break;case"YtoZ":var n=e[1];e[1]=t*e[2],e[2]=n;break;case"ZtoX":var n=e[0];e[0]=e[1],e[1]=e[2],e[2]=n;break;case"ZtoY":var n=e[1];e[1]=e[2],e[2]=t*n}}function _e(e,t){if(!0!==We.convertUpAxis||Ke===We.upAxis)return t;switch(e){case"X":t="XtoY"===et?-1*t:t;break;case"Y":t="YtoZ"===et||"YtoX"===et?-1*t:t;break;case"Z":t="ZtoY"===et?-1*t:t}return t}function Ne(e,t){var n=[e[t],e[t+1],e[t+2]];return je(n,-1),new s.b(n[0],n[1],n[2])}function Ce(e){if(We.convertUpAxis){var t=[e[0],e[4],e[8]];je(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],t=[e[1],e[5],e[9]],je(t,-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],t=[e[2],e[6],e[10]],je(t,-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],t=[e[0],e[1],e[2]],je(t,-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],t=[e[4],e[5],e[6]],je(t,-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],t=[e[8],e[9],e[10]],je(t,-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],t=[e[3],e[7],e[11]],je(t,-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new s.L).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ae(e){if(e>-1&&e<3){var t=["X","Y","Z"],n={X:0,Y:1,Z:2};e=Me(t[e]),e=n[e]}return e}function Me(e){if(We.convertUpAxis)switch(e){case"X":switch(et){case"XtoY":case"XtoZ":case"YtoX":e="Y";break;case"ZtoX":e="Z"}break;case"Y":switch(et){case"XtoY":case"YtoX":case"ZtoX":e="X";break;case"XtoZ":case"YtoZ":case"ZtoY":e="Z"}break;case"Z":switch(et){case"XtoZ":e="X";break;case"YtoZ":case"ZtoX":case"ZtoY":e="Y"}}return e}var Oe,Te,Le,Ee,Se,Ie,ze,Pe,Fe,Re=null,Ue=null,De=null,Ve={},Be={},Xe={},Ye={},qe={},He={},Ze={},$e={},Ge={},Je=s.v,We={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:"Y",defaultEnvMap:null},Qe=1,Ke="Y",et=null;return M.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"init_from"===n.nodeName&&(this.init_from=n.textContent)}return this},O.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.type="none";for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"skin":this.skin=(new L).parse(n),this.type=n.nodeName;break;case"morph":this.morph=(new T).parse(n),this.type=n.nodeName}}return this},T.prototype.parse=function(e){var t,n={},o=[];for(this.method=e.getAttribute("method"),this.source=e.getAttribute("source").replace(/^#/,""),t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"source":var s=(new Z).parse(i);n[s.id]=s;break;case"targets":o=this.parseInputs(i);break;default:console.log(i.nodeName)}}for(t=0;t<o.length;t++){var a=o[t],s=n[a.source];switch(a.semantic){case"MORPH_TARGET":this.targets=s.read();break;case"MORPH_WEIGHT":this.weights=s.read()}}return this},T.prototype.parseInputs=function(e){for(var t=[],n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"input":t.push((new H).parse(o))}}return t},L.prototype.parse=function(e){var t,n,o={};this.source=e.getAttribute("source").replace(/^#/,""),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var i=0;i<e.childNodes.length;i++){var s=e.childNodes[i];if(1==s.nodeType)switch(s.nodeName){case"bind_shape_matrix":var a=fe(s.textContent);this.bindShapeMatrix=Ce(a);break;case"source":var r=(new Z).parse(s);o[r.id]=r;break;case"joints":t=s;break;case"vertex_weights":n=s;break;default:console.log(s.nodeName)}}return this.parseJoints(t,o),this.parseWeights(n,o),this},L.prototype.parseJoints=function(e,t){for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"input":var i=(new H).parse(o),s=t[i.source];"JOINT"===i.semantic?this.joints=s.read():"INV_BIND_MATRIX"===i.semantic&&(this.invBindMatrices=s.read())}}},L.prototype.parseWeights=function(e,t){for(var n,o,i=[],s=0;s<e.childNodes.length;s++){var a=e.childNodes[s];if(1==a.nodeType)switch(a.nodeName){case"input":i.push((new H).parse(a));break;case"v":n=ve(a.textContent);break;case"vcount":o=ve(a.textContent)}}for(var r=0,s=0;s<o.length;s++){for(var l=o[s],c=[],h=0;h<l;h++){for(var d={},u=0;u<i.length;u++){var p=i[u],m=n[r+p.offset];switch(p.semantic){case"JOINT":d.joint=m;break;case"WEIGHT":d.weight=t[p.source].data[m]}}c.push(d),r+=i.length}for(var h=0;h<c.length;h++)c[h].index=s;this.weights.push(c)}},E.prototype.getChildById=function(e,t){for(var n=0;n<this.nodes.length;n++){var o=this.nodes[n].getChildById(e,t);if(o)return o}return null},E.prototype.getChildBySid=function(e,t){for(var n=0;n<this.nodes.length;n++){var o=this.nodes[n].getChildBySid(e,t);if(o)return o}return null},E.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"node":this.nodes.push((new S).parse(n))}}return this},S.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var n,o=this.channels[t],i=o.target.split("/"),s=(i.shift(),i.shift()),a=s.indexOf(".")>=0,r=s.indexOf("(")>=0;if(a)i=s.split("."),s=i.shift();else if(r){n=s.split("("),s=n.shift();for(var l=0;l<n.length;l++)n[l]=parseInt(n[l].replace(/\)/,""))}if(s===e)return o.info={sid:s,dotSyntax:a,arrSyntax:r,arrIndices:n},o}return null},S.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var n=0;n<this.nodes.length;n++){var o=this.nodes[n].getChildById(e,t);if(o)return o}return null},S.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var n=0;n<this.nodes.length;n++){var o=this.nodes[n].getChildBySid(e,t);if(o)return o}return null},S.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},S.prototype.parse=function(e){var t;this.id=e.getAttribute("id"),this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.type=e.getAttribute("type"),this.layer=e.getAttribute("layer"),this.type="JOINT"===this.type?this.type:"NODE",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new s.L;for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"node":this.nodes.push((new S).parse(o));break;case"instance_camera":this.cameras.push((new ae).parse(o));break;case"instance_controller":this.controllers.push((new z).parse(o));break;case"instance_geometry":this.geometries.push((new F).parse(o));break;case"instance_light":this.lights.push((new le).parse(o));break;case"instance_node":t=o.getAttribute("url").replace(/^#/,"");var i=x(t);i&&this.nodes.push((new S).parse(i));break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new I).parse(o));break;case"extra":break;default:console.log(o.nodeName)}}return this.channels=w(this),k(this),this.updateMatrix(),this},S.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},I.prototype.parse=function(e){return this.sid=e.getAttribute("sid"),this.type=e.nodeName,this.data=fe(e.textContent),this.convert(),this},I.prototype.convert=function(){switch(this.type){case"matrix":this.obj=Ce(this.data);break;case"rotate":this.angle=s.N.degToRad(this.data[3]);case"translate":je(this.data,-1),this.obj=new s.b(this.data[0],this.data[1],this.data[2]);break;case"scale":je(this.data,1),this.obj=new s.b(this.data[0],this.data[1],this.data[2]);break;default:console.log("Can not convert Transform of type "+this.type)}},I.prototype.apply=function(){var e=new s.L;return function(t){switch(this.type){case"matrix":t.multiply(this.obj);break;case"translate":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case"rotate":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case"scale":t.scale(this.obj)}}}(),I.prototype.update=function(e,t){var n=["X","Y","Z","ANGLE"];switch(this.type){case"matrix":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var o="n"+(t[0]+1)+(t[1]+1);this.obj[o]=e}else console.log("Incorrect addressing of matrix in transform.");else this.obj.copy(e);break;case"translate":case"scale":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=n[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case"rotate":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=n[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;case"ANGLE":this.angle=s.N.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=s.N.degToRad(e[3])}}},z.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1===n.nodeType)switch(n.nodeName){case"skeleton":this.skeleton.push(n.textContent.replace(/^#/,""));break;case"bind_material":for(var o=n.querySelectorAll("instance_material"),i=0;i<o.length;i++){var s=o[i];this.instance_material.push((new P).parse(s))}}}return this},P.prototype.parse=function(e){return this.symbol=e.getAttribute("symbol"),this.target=e.getAttribute("target").replace(/^#/,""),this},F.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType&&"bind_material"===n.nodeName){for(var o=n.querySelectorAll("instance_material"),i=0;i<o.length;i++){var s=o[i];this.instance_material.push((new P).parse(s))}break}}return this},R.prototype.parse=function(e){this.id=e.getAttribute("id"),we(this,e);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"mesh":this.mesh=new U(this).parse(n)}}return this},U.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"source":pe(n);break;case"vertices":this.vertices=(new q).parse(n);break;case"linestrips":this.primitives.push((new B).parse(n));break;case"triangles":this.primitives.push((new X).parse(n));break;case"polygons":this.primitives.push((new D).parse(n));break;case"polylist":this.primitives.push((new V).parse(n))}}if(this.geometry3js=new s.W,null===this.vertices)return this;for(var o=Ve[this.vertices.input.POSITION.source].data,t=0;t<o.length;t+=3)this.geometry3js.vertices.push(Ne(o,t).clone());for(var t=0;t<this.primitives.length;t++){var i=this.primitives[t];i.setVertices(this.vertices),this.handlePrimitive(i,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},U.prototype.handlePrimitive=function(e,t){if(e instanceof B)return void(t.isLineStrip=!0);var n,o,i,a,r,l,c,h,d=e.p,u=e.inputs,p=0,m=0,f=[];for(n=0;n<u.length;n++){i=u[n];var v=i.offset+1;switch(m=m<v?v:m,i.semantic){case"TEXCOORD":f.push(i.set)}}for(var b=0;b<d.length;++b)for(var g=d[b],y=0;y<g.length;){var x=[],w=[],k=null,j=[];for(h=e.vcount?e.vcount.length?e.vcount[p++]:e.vcount:g.length/m,n=0;n<h;n++)for(o=0;o<u.length;o++)switch(i=u[o],l=Ve[i.source],a=g[y+n*m+i.offset],c=l.accessor.params.length,r=a*c,i.semantic){case"VERTEX":x.push(a);break;case"NORMAL":w.push(Ne(l.data,r));break;case"TEXCOORD":k=k||{},void 0===k[i.set]&&(k[i.set]=[]),k[i.set].push(new s.c(l.data[r],l.data[r+1]));break;case"COLOR":j.push((new s.j).setRGB(l.data[r],l.data[r+1],l.data[r+2]))}if(0===w.length)if(i=this.vertices.input.NORMAL){l=Ve[i.source],c=l.accessor.params.length;for(var _=0,N=x.length;_<N;_++)w.push(Ne(l.data,x[_]*c))}else t.calcNormals=!0;if(!k&&(k={},i=this.vertices.input.TEXCOORD)){f.push(i.set),l=Ve[i.source],c=l.accessor.params.length;for(var _=0,N=x.length;_<N;_++)r=x[_]*c,void 0===k[i.set]&&(k[i.set]=[]),k[i.set].push(new s.c(l.data[r],1-l.data[r+1]))}if(0===j.length&&(i=this.vertices.input.COLOR)){l=Ve[i.source],c=l.accessor.params.length;for(var _=0,N=x.length;_<N;_++)r=x[_]*c,j.push((new s.j).setRGB(l.data[r],l.data[r+1],l.data[r+2]))}var C,A,M=null,O=[];if(3===h)O.push(new s.X(x[0],x[1],x[2],w,j.length?j:new s.j));else if(4===h)O.push(new s.X(x[0],x[1],x[3],w.length?[w[0].clone(),w[1].clone(),w[3].clone()]:[],j.length?[j[0],j[1],j[3]]:new s.j)),O.push(new s.X(x[1],x[2],x[3],w.length?[w[1].clone(),w[2].clone(),w[3].clone()]:[],j.length?[j[1],j[2],j[3]]:new s.j));else if(h>4&&We.subdivideFaces){var T=j.length?j:new s.j;for(o=1;o<h-1;)O.push(new s.X(x[0],x[o],x[o+1],w.length?[w[0].clone(),w[o++].clone(),w[o].clone()]:[],T))}if(O.length)for(var _=0,N=O.length;_<N;_++)for(M=O[_],M.daeMaterial=e.material,t.faces.push(M),o=0;o<f.length;o++)C=k[f[o]],A=h>4?[C[0],C[_+1],C[_+2]]:4===h?0===_?[C[0],C[1],C[3]]:[C[1].clone(),C[2],C[3].clone()]:[C[0],C[1],C[2]],void 0===t.faceVertexUvs[o]&&(t.faceVertexUvs[o]=[]),t.faceVertexUvs[o].push(A);else console.log("dropped face with vcount "+h+" for geometry with id: "+t.id);y+=m*h}},D.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},D.prototype.parse=function(e){this.material=e.getAttribute("material"),this.count=ye(e,"count",0);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"input":this.inputs.push((new H).parse(e.childNodes[t]));break;case"vcount":this.vcount=ve(n.textContent);break;case"p":this.p.push(ve(n.textContent));break;case"ph":console.warn("polygon holes not yet supported!")}}return this},V.prototype=i()(D.prototype),V.prototype.constructor=V,B.prototype=i()(D.prototype),B.prototype.constructor=B,X.prototype=i()(D.prototype),X.prototype.constructor=X,Y.prototype.parse=function(e){this.params=[],this.source=e.getAttribute("source"),this.count=ye(e,"count",0),this.stride=ye(e,"stride",0);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("param"===n.nodeName){var o={};o.name=n.getAttribute("name"),o.type=n.getAttribute("type"),this.params.push(o)}}return this},q.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++)if("input"===e.childNodes[t].nodeName){var n=(new H).parse(e.childNodes[t]);this.input[n.semantic]=n}return this},H.prototype.parse=function(e){return this.semantic=e.getAttribute("semantic"),this.source=e.getAttribute("source").replace(/^#/,""),this.set=ye(e,"set",-1),this.offset=ye(e,"offset",0),"TEXCOORD"===this.semantic&&this.set<0&&(this.set=0),this},Z.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"bool_array":this.data=me(n.textContent),this.type=n.nodeName;break;case"float_array":this.data=fe(n.textContent),this.type=n.nodeName;break;case"int_array":this.data=ve(n.textContent),this.type=n.nodeName;break;case"IDREF_array":case"Name_array":this.data=be(n.textContent),this.type=n.nodeName;break;case"technique_common":for(var o=0;o<n.childNodes.length;o++)if("accessor"===n.childNodes[o].nodeName){this.accessor=(new Y).parse(n.childNodes[o]);break}}}return this},Z.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(var n=0;n<this.data.length;n+=16){var o=this.data.slice(n,n+16),i=Ce(o);e.push(i)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+t.type+".")}return e},$.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++)if("instance_effect"===e.childNodes[t].nodeName){this.instance_effect=(new ee).parse(e.childNodes[t]);break}return this},G.prototype.isColor=function(){return null===this.texture},G.prototype.isTexture=function(){return null!=this.texture},G.prototype.parse=function(e){"transparent"===e.nodeName&&(this.opaque=e.getAttribute("opaque"));for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"color":var o=fe(n.textContent);this.color=new s.j,this.color.setRGB(o[0],o[1],o[2]),this.color.a=o[3];break;case"texture":this.texture=n.getAttribute("texture"),this.texcoord=n.getAttribute("texcoord"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(n)}}return this},G.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&"extra"===e.childNodes[1].nodeName&&(e=e.childNodes[1],e.childNodes[1]&&"technique"===e.childNodes[1].nodeName&&(e=e.childNodes[1]));for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"offsetU":case"offsetV":case"repeatU":case"repeatV":this.texOpts[n.nodeName]=parseFloat(n.textContent);break;case"wrapU":case"wrapV":"TRUE"===n.textContent.toUpperCase()?this.texOpts[n.nodeName]=1:this.texOpts[n.nodeName]=parseInt(n.textContent);break;default:this.texOpts[n.nodeName]=n.textContent}}return this},J.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"emission":case"diffuse":case"specular":case"transparent":this[n.nodeName]=(new G).parse(n);break;case"bump":var o=n.getAttribute("bumptype");o?"heightfield"===o.toLowerCase()?this.bump=(new G).parse(n):"normalmap"===o.toLowerCase()?this.normal=(new G).parse(n):(console.error("Shader.prototype.parse: Invalid value for attribute 'bumptype' ("+o+") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'"),this.bump=(new G).parse(n)):(console.warn("Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'"),this.bump=(new G).parse(n));break;case"shininess":case"reflectivity":case"index_of_refraction":case"transparency":var i=n.querySelectorAll("float");i.length>0&&(this[n.nodeName]=parseFloat(i[0].textContent))}}return this.create(),this},J.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var n=(this.transparent,(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency);n>0&&(t=!0,e.transparent=!0,e.opacity=1-n)}var o={diffuse:"map",ambient:"lightMap",specular:"specularMap",emission:"emissionMap",bump:"bumpMap",normal:"normalMap"};for(var i in this)switch(i){case"ambient":case"emission":case"diffuse":case"specular":case"bump":case"normal":var a=this[i];if(a instanceof G)if(a.isTexture()){var r=a.texture,l=this.effect.sampler[r];if(void 0!==l&&void 0!==l.source){var c=this.effect.surface[l.source];if(void 0!==c){var h=Be[c.init_from];if(h){var d,u=ze+h.init_from,p=s.e.Handlers.get(u);null!==p?d=p.load(u):(d=new s.Y,xe(d,u)),"MIRROR"===l.wrap_s?d.wrapS=s.Z:"WRAP"===l.wrap_s||a.texOpts.wrapU?d.wrapS=s.i:d.wrapS=s._0,"MIRROR"===l.wrap_t?d.wrapT=s.Z:"WRAP"===l.wrap_t||a.texOpts.wrapV?d.wrapT=s.i:d.wrapT=s._0,d.offset.x=a.texOpts.offsetU,d.offset.y=a.texOpts.offsetV,d.repeat.x=a.texOpts.repeatU,d.repeat.y=a.texOpts.repeatV,e[o[i]]=d,"emission"===i&&(e.emissive=16777215)}}}}else"diffuse"!==i&&t||("emission"===i?e.emissive=a.color.getHex():e[i]=a.color.getHex());break;case"shininess":e[i]=this[i];break;case"reflectivity":e[i]=this[i],e[i]>0&&(e.envMap=We.defaultEnvMap),e.combine=s._1;break;case"index_of_refraction":e.refractionRatio=this[i],1!==this[i]&&(e.envMap=We.defaultEnvMap)}switch(e.shading=Je,e.side=this.effect.doubleSided?s.P:s.h,void 0!==e.diffuse&&(e.color=e.diffuse,delete e.diffuse),this.type){case"constant":void 0!=e.emissive&&(e.color=e.emissive),this.material=new s._2(e);break;case"phong":case"blinn":this.material=new s.k(e);break;case"lambert":default:this.material=new s.Q(e)}return this.material},W.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"init_from":this.init_from=n.textContent;break;case"format":this.format=n.textContent;break;default:console.log("unhandled Surface prop: "+n.nodeName)}}return this},Q.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"source":this.source=n.textContent;break;case"minfilter":this.minfilter=n.textContent;break;case"magfilter":this.magfilter=n.textContent;break;case"mipfilter":this.mipfilter=n.textContent;break;case"wrap_s":this.wrap_s=n.textContent;break;case"wrap_t":this.wrap_t=n.textContent;break;default:console.log("unhandled Sampler2D prop: "+n.nodeName)}}return this},K.prototype.create=function(){if(null===this.shader)return null},K.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),we(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"profile_COMMON":this.parseTechnique(this.parseProfileCOMMON(n))}}return this},K.prototype.parseNewparam=function(e){for(var t=e.getAttribute("sid"),n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"surface":this.surface[t]=new W(this).parse(o);break;case"sampler2D":this.sampler[t]=new Q(this).parse(o);break;case"extra":break;default:console.log(o.nodeName)}}},K.prototype.parseProfileCOMMON=function(e){for(var t,n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"profile_COMMON":this.parseProfileCOMMON(o);break;case"technique":t=o;break;case"newparam":this.parseNewparam(o);break;case"image":var i=(new M).parse(o);Be[i.id]=i;break;case"extra":break;default:console.log(o.nodeName)}}return t},K.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.shader=new J(n.nodeName,this).parse(n);break;case"extra":this.parseExtra(n)}}},K.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique":this.parseExtraTechnique(n)}}},K.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"bump":this.shader.parse(e)}}},ee.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},te.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.source={};for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"animation":var o=(new te).parse(n);for(var i in o.source)this.source[i]=o.source[i];for(var s=0;s<o.channel.length;s++)this.channel.push(o.channel[s]),this.sampler.push(o.sampler[s]);break;case"source":var i=(new Z).parse(n);this.source[i.id]=i;break;case"sampler":this.sampler.push(new oe(this).parse(n));break;case"channel":this.channel.push(new ne(this).parse(n))}}return this},ne.prototype.parse=function(e){this.source=e.getAttribute("source").replace(/^#/,""),this.target=e.getAttribute("target");var t=this.target.split("/"),n=(t.shift(),t.shift()),o=n.indexOf(".")>=0,i=n.indexOf("(")>=0;if(o)t=n.split("."),this.sid=t.shift(),this.member=t.shift();else if(i){var s=n.split("(");this.sid=s.shift();for(var a=0;a<s.length;a++)s[a]=parseInt(s[a].replace(/\)/,""));this.arrIndices=s}else this.sid=n;return this.fullSid=n,this.dotSyntax=o,this.arrSyntax=i,this},oe.prototype.parse=function(e){this.id=e.getAttribute("id"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"input":this.inputs.push((new H).parse(n))}}return this},oe.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],n=this.animation.source[t.source];switch(t.semantic){case"INPUT":this.input=n.read();break;case"OUTPUT":this.output=n.read(),this.strideOut=n.accessor.stride;break;case"INTERPOLATION":this.interpolation=n.read();break;case"IN_TANGENT":case"OUT_TANGENT":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},oe.prototype.getData=function(e,t,n){var o;if("matrix"===e&&16===this.strideOut)o=this.output[t];else if(this.strideOut>1){o=[],t*=this.strideOut;for(var i=0;i<this.strideOut;++i)o[i]=this.output[t+i];if(3===this.strideOut)switch(e){case"rotate":case"translate":je(o,-1);break;case"scale":je(o,1)}else 4===this.strideOut&&"matrix"===e&&je(o,-1)}else o=this.output[t],n&&"translate"===e&&(o=_e(n,o));return o},ie.prototype.addTarget=function(e,t,n,o){this.targets.push({sid:e,member:n,transform:t,data:o})},ie.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var n=this.targets[t];e&&n.sid!==e||n.transform.update(n.data,n.member)}},ie.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},ie.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},ie.prototype.interpolate=function(e,t){for(var n=0,o=this.targets.length;n<o;n++){var i,s=this.targets[n],a=e.getTarget(s.sid);if("matrix"!==s.transform.type&&a){var r=(t-this.time)/(e.time-this.time),l=a.data,c=s.data;if(r<0&&(r=0),r>1&&(r=1),c.length){i=[];for(var h=0;h<c.length;++h)i[h]=c[h]+(l[h]-c[h])*r}else i=c+(l-c)*r}else i=s.data;s.transform.update(i,s.member)}},se.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"optics":this.parseOptics(n)}}return this},se.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if("technique_common"===e.childNodes[t].nodeName)for(var n=e.childNodes[t],o=0;o<n.childNodes.length;o++)if(this.technique=n.childNodes[o].nodeName,"perspective"===this.technique)for(var i=n.childNodes[o],s=0;s<i.childNodes.length;s++){var a=i.childNodes[s];switch(a.nodeName){case"yfov":this.yfov=a.textContent;break;case"xfov":this.xfov=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}else if("orthographic"===this.technique)for(var r=n.childNodes[o],s=0;s<r.childNodes.length;s++){var a=r.childNodes[s];switch(a.nodeName){case"xmag":this.xmag=a.textContent;break;case"ymag":this.ymag=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}return this},ae.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},re.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique_common":this.parseCommon(n);break;case"technique":this.parseTechnique(n)}}return this},re.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case"directional":case"point":case"spot":case"ambient":this.technique=e.childNodes[t].nodeName;for(var n=e.childNodes[t],o=0;o<n.childNodes.length;o++){var i=n.childNodes[o];switch(i.nodeName){case"color":var a=fe(i.textContent);this.color=new s.j(0),this.color.setRGB(a[0],a[1],a[2]),this.color.a=a[3];break;case"falloff_angle":this.falloff_angle=parseFloat(i.textContent);break;case"quadratic_attenuation":var r=parseFloat(i.textContent);this.distance=r?Math.sqrt(1/r):0}}}return this},re.prototype.parseTechnique=function(e){this.profile=e.getAttribute("profile");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"intensity":this.intensity=parseFloat(n.textContent)}}return this},le.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},ce.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique_common":this.parseCommon(n)}}return this},ce.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(e.childNodes[t].nodeName){case"joint":this.joints.push((new he).parse(n));break;case"link":this.links.push((new de).parse(n))}}return this},he.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.axis=new s.b,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0;var t=e.querySelector("axis"),n=fe(t.textContent);this.axis=Ne(n,0);var o=e.querySelector("limits min")?parseFloat(e.querySelector("limits min").textContent):-360,i=e.querySelector("limits max")?parseFloat(e.querySelector("limits max").textContent):360;this.limits={min:o,max:i};for(var a=["prismatic","revolute"],r=0;r<a.length;r++){var l=a[r];e.querySelector(l)&&(this.type=l)}return this.limits.min>=this.limits.max&&(this.static=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},de.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"attachment_full":this.attachments.push((new ue).parse(n));break;case"rotate":case"translate":case"matrix":this.transforms.push((new I).parse(n))}}return this},ue.prototype.parse=function(e){this.joint=e.getAttribute("joint").split("/").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"link":this.links.push((new de).parse(n));break;case"rotate":case"translate":case"matrix":this.transforms.push((new I).parse(n))}}return this},{load:e,parse:t,setPreferredShading:n,applySkin:b,geometries:qe,options:We}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(11),i=n.n(o),s=n(1),a=function e(){this._parser=e.parse};a.prototype=i()(s.m.prototype),a.prototype.constructor=a,a.parse=function(e,t){function n(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var o={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},i=n("DXT1"),a=n("DXT3"),r=n("DXT5"),l=n("ETC1"),c=new Int32Array(e,0,31);if(542327876!==c[0])return console.error("DDSLoader.parse: Invalid magic number in DDS header."),o;if(4&!c[20])return console.error("DDSLoader.parse: Unsupported format, must contain a FourCC code."),o;var h,d=c[21],u=!1;switch(d){case i:h=8,o.format=s.n;break;case a:h=16,o.format=s.o;break;case r:h=16,o.format=s.p;break;case l:h=8,o.format=s.q;break;default:if(!(32===c[22]&&16711680&c[23]&&65280&c[24]&&255&c[25]&&4278190080&c[26]))return console.error("DDSLoader.parse: Unsupported FourCC code ",function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}(d)),o;u=!0,h=64,o.format=s.r}o.mipmapCount=1,131072&c[2]&&!1!==t&&(o.mipmapCount=Math.max(1,c[7]));var p=c[28];if(o.isCubemap=!!(512&p),o.isCubemap&&(!(1024&p)||!(2048&p)||!(4096&p)||!(8192&p)||!(16384&p)||!(32768&p)))return console.error("DDSLoader.parse: Incomplete cubemap faces"),o;o.width=c[4],o.height=c[3];for(var m=c[1]+4,f=o.isCubemap?6:1,v=0;v<f;v++)for(var b=o.width,g=o.height,y=0;y<o.mipmapCount;y++){if(u)var x=function(e,t,n,o){for(var i=n*o*4,s=new Uint8Array(e,t,i),a=new Uint8Array(i),r=0,l=0,c=0;c<o;c++)for(var h=0;h<n;h++){var d=s[l];l++;var u=s[l];l++;var p=s[l];l++;var m=s[l];l++,a[r]=p,r++,a[r]=u,r++,a[r]=d,r++,a[r]=m,r++}return a}(e,m,b,g),w=x.length;else var w=Math.max(4,b)/4*Math.max(4,g)/4*h,x=new Uint8Array(e,m,w);var k={data:x,width:b,height:g};o.mipmaps.push(k),m+=w,b=Math.max(b>>1,1),g=Math.max(g>>1,1)}return o}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(1),i=n(101),s=o.e.Handlers;s.add(/\.dds$/i,new i.a);var a=function(e){this.manager=void 0!==e?e:o.f};a.prototype={constructor:a,load:function(e,t,n,i){var s=this,a=new o.g(this.manager);a.setPath(this.path),a.load(e,function(e){t(s.parse(e))},n,i)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},o=/\s+/,i={},s=0;s<t.length;s++){var r=t[s];if(r=r.trim(),0!==r.length&&"#"!==r.charAt(0)){var l=r.indexOf(" "),c=l>=0?r.substring(0,l):r;c=c.toLowerCase();var h=l>=0?r.substring(l+1):"";if(h=h.trim(),"newmtl"===c)n={name:h},i[h]=n;else if(n)if("ka"===c||"kd"===c||"ks"===c){var d=h.split(o,3);n[c]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else n[c]=h}}var u=new a.MaterialCreator(this.texturePath||this.path,this.materialOptions);return u.setCrossOrigin(this.crossOrigin),u.setManager(this.manager),u.setMaterials(i),u}},a.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:o.h,this.wrap=this.options&&this.options.wrap?this.options.wrap:o.i},a.MaterialCreator.prototype={constructor:a.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var o=e[n],i={};t[n]=i;for(var s in o){var a=!0,r=o[s],l=s.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(r=[r[0]/255,r[1]/255,r[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===r[0]&&0===r[1]&&0===r[2]&&(a=!1)}a&&(i[l]=r)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){function t(e,t){return"string"!=typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t}function n(e,n){if(!a[e]){var o=i.getTextureParams(n,a),s=i.loadTexture(t(i.baseUrl,o.url));s.repeat.copy(o.scale),s.offset.copy(o.offset),s.wrapS=i.wrap,s.wrapT=i.wrap,a[e]=s}}var i=this,s=this.materialsInfo[e],a={name:e,side:this.side};for(var r in s){var l,c=s[r];if(""!==c)switch(r.toLowerCase()){case"kd":a.color=(new o.j).fromArray(c);break;case"ks":a.specular=(new o.j).fromArray(c);break;case"map_kd":n("map",c);break;case"map_ks":n("specularMap",c);break;case"norm":n("normalMap",c);break;case"map_bump":case"bump":n("bumpMap",c);break;case"ns":a.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(a.opacity=l,a.transparent=!0);break;case"tr":l=parseFloat(c),l>0&&(a.opacity=1-l,a.transparent=!0)}}return this.materials[e]=new o.k(a),this.materials[e]},getTextureParams:function(e,t){var n,i={scale:new o.c(1,1),offset:new o.c(0,0)},s=e.split(/\s+/);return n=s.indexOf("-bm"),n>=0&&(t.bumpScale=parseFloat(s[n+1]),s.splice(n,2)),n=s.indexOf("-s"),n>=0&&(i.scale.set(parseFloat(s[n+1]),parseFloat(s[n+2])),s.splice(n,4)),n=s.indexOf("-o"),n>=0&&(i.offset.set(parseFloat(s[n+1]),parseFloat(s[n+2])),s.splice(n,4)),i.url=s.join(" ").trim(),i},loadTexture:function(e,t,n,i,a){var r,l=s.get(e),c=void 0!==this.manager?this.manager:o.f;return null===l&&(l=new o.l(c)),l.setCrossOrigin&&l.setCrossOrigin(this.crossOrigin),r=l.load(e,n,i,a),void 0!==t&&(r.mapping=t),r}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(1),i=function(e){this.manager=void 0!==e?e:o.f,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};i.prototype={constructor:i,load:function(e,t,n,i){var s=this,a=new o.g(s.manager);a.setPath(this.path),a.load(e,function(e){t(s.parse(e))},n,i)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var o={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var o=n.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var o=this.vertices,i=this.object.geometry.vertices;i.push(o[e+0]),i.push(o[e+1]),i.push(o[e+2]),i.push(o[t+0]),i.push(o[t+1]),i.push(o[t+2]),i.push(o[n+0]),i.push(o[n+1]),i.push(o[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var o=this.normals,i=this.object.geometry.normals;i.push(o[e+0]),i.push(o[e+1]),i.push(o[e+2]),i.push(o[t+0]),i.push(o[t+1]),i.push(o[t+2]),i.push(o[n+0]),i.push(o[n+1]),i.push(o[n+2])},addUV:function(e,t,n){var o=this.uvs,i=this.object.geometry.uvs;i.push(o[e+0]),i.push(o[e+1]),i.push(o[t+0]),i.push(o[t+1]),i.push(o[n+0]),i.push(o[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,o,i,s,a,r,l,c,h,d){var u,p=this.vertices.length,m=this.parseVertexIndex(e,p),f=this.parseVertexIndex(t,p),v=this.parseVertexIndex(n,p);if(void 0===o?this.addVertex(m,f,v):(u=this.parseVertexIndex(o,p),this.addVertex(m,f,u),this.addVertex(f,v,u)),void 0!==i){var b=this.uvs.length;m=this.parseUVIndex(i,b),f=this.parseUVIndex(s,b),v=this.parseUVIndex(a,b),void 0===o?this.addUV(m,f,v):(u=this.parseUVIndex(r,b),this.addUV(m,f,u),this.addUV(f,v,u))}if(void 0!==l){var g=this.normals.length;m=this.parseNormalIndex(l,g),f=l===c?m:this.parseNormalIndex(c,g),v=l===h?m:this.parseNormalIndex(h,g),void 0===o?this.addNormal(m,f,v):(u=this.parseNormalIndex(d,g),this.addNormal(m,f,u),this.addNormal(f,v,u))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,o=this.uvs.length,i=0,s=e.length;i<s;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(var a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],o))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),i="",s="",a="",r=[],l="function"==typeof"".trimLeft,c=0,h=n.length;c<h;c++)if(i=n[c],i=l?i.trimLeft():i.trim(),0!==i.length&&"#"!==(s=i.charAt(0)))if("v"===s)if(" "===(a=i.charAt(1))&&null!==(r=this.regexp.vertex_pattern.exec(i)))t.vertices.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));else if("n"===a&&null!==(r=this.regexp.normal_pattern.exec(i)))t.normals.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));else{if("t"!==a||null===(r=this.regexp.uv_pattern.exec(i)))throw new Error("Unexpected vertex/normal/uv line: '"+i+"'");t.uvs.push(parseFloat(r[1]),parseFloat(r[2]))}else if("f"===s)if(null!==(r=this.regexp.face_vertex_uv_normal.exec(i)))t.addFace(r[1],r[4],r[7],r[10],r[2],r[5],r[8],r[11],r[3],r[6],r[9],r[12]);else if(null!==(r=this.regexp.face_vertex_uv.exec(i)))t.addFace(r[1],r[3],r[5],r[7],r[2],r[4],r[6],r[8]);else if(null!==(r=this.regexp.face_vertex_normal.exec(i)))t.addFace(r[1],r[3],r[5],r[7],void 0,void 0,void 0,void 0,r[2],r[4],r[6],r[8]);else{if(null===(r=this.regexp.face_vertex.exec(i)))throw new Error("Unexpected face line: '"+i+"'");t.addFace(r[1],r[2],r[3],r[4])}else if("l"===s){var d=i.substring(1).trim().split(" "),u=[],p=[];if(-1===i.indexOf("/"))u=d;else for(var m=0,f=d.length;m<f;m++){var v=d[m].split("/");""!==v[0]&&u.push(v[0]),""!==v[1]&&p.push(v[1])}t.addLineGeometry(u,p)}else if(null!==(r=this.regexp.object_pattern.exec(i))){var b=(" "+r[0].substr(1).trim()).substr(1);t.startObject(b)}else if(this.regexp.material_use_pattern.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(i))t.materialLibraries.push(i.substring(7).trim());else{if(null===(r=this.regexp.smoothing_pattern.exec(i))){if("\0"===i)continue;throw new Error("Unexpected line: '"+i+"'")}var g=r[1].trim().toLowerCase();t.object.smooth="1"===g||"on"===g;var y=t.object.currentMaterial();y&&(y.smooth=t.object.smooth)}t.finalize();var x=new o.s;x.materialLibraries=[].concat(t.materialLibraries);for(var c=0,h=t.objects.length;c<h;c++){var w=t.objects[c],k=w.geometry,j=w.materials,_="Line"===k.type;if(0!==k.vertices.length){var N=new o.t;N.addAttribute("position",new o.d(new Float32Array(k.vertices),3)),k.normals.length>0?N.addAttribute("normal",new o.d(new Float32Array(k.normals),3)):N.computeVertexNormals(),k.uvs.length>0&&N.addAttribute("uv",new o.d(new Float32Array(k.uvs),2));for(var C=[],A=0,M=j.length;A<M;A++){var O=j[A],y=void 0;if(null!==this.materials&&(y=this.materials.create(O.name),_&&y&&!(y instanceof o.u))){var T=new o.u;T.copy(y),y=T}y||(y=_?new o.u:new o.k,y.name=O.name),y.shading=O.smooth?o.v:o.w,C.push(y)}var L;if(C.length>1){for(var A=0,M=j.length;A<M;A++){var O=j[A];N.addGroup(O.groupStart,O.groupCount,A)}L=_?new o.y(N,C):new o.x(N,C)}else L=_?new o.y(N,C[0]):new o.x(N,C[0]);L.name=w.name,x.add(L)}}return console.timeEnd("OBJLoader"),x}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(1),i=function(e){this.manager=void 0!==e?e:o.f};i.prototype={constructor:i,load:function(e,t,n,i){var s=this,a=new o.g(s.manager);a.setResponseType("arraybuffer"),a.load(e,function(e){t(s.parse(e))},n,i)},parse:function(e){var t=this.ensureBinary(e);return function(){var e,n,o;if(o=new DataView(t),e=50,n=o.getUint32(80,!0),84+n*e===o.byteLength)return!0;for(var i=[115,111,108,105,100],s=0;s<5;s++)if(i[s]!=o.getUint8(s,!1))return!0;return!1}()?this.parseBinary(t):this.parseASCII(this.ensureString(e))},parseBinary:function(e){for(var t,n,i,s,a,r,l,c,h=new DataView(e),d=h.getUint32(80,!0),u=!1,p=0;p<70;p++)1129270351==h.getUint32(p,!1)&&82==h.getUint8(p+4)&&61==h.getUint8(p+5)&&(u=!0,s=[],a=h.getUint8(p+6)/255,r=h.getUint8(p+7)/255,l=h.getUint8(p+8)/255,c=h.getUint8(p+9)/255);for(var m=new o.t,f=[],v=[],b=0;b<d;b++){var g=84+50*b,y=h.getFloat32(g,!0),x=h.getFloat32(g+4,!0),w=h.getFloat32(g+8,!0);if(u){var k=h.getUint16(g+48,!0);0==(32768&k)?(t=(31&k)/31,n=(k>>5&31)/31,i=(k>>10&31)/31):(t=a,n=r,i=l)}for(var j=1;j<=3;j++){var _=g+12*j;f.push(h.getFloat32(_,!0)),f.push(h.getFloat32(_+4,!0)),f.push(h.getFloat32(_+8,!0)),v.push(y,x,w),u&&s.push(t,n,i)}}return m.addAttribute("position",new o.d(new Float32Array(f),3)),m.addAttribute("normal",new o.d(new Float32Array(v),3)),u&&(m.addAttribute("color",new o.d(new Float32Array(s),3)),m.hasColors=!0,m.alpha=c),m},parseASCII:function(e){var t,n,i,s,a,r;t=new o.t,n=/facet([\s\S]*?)endfacet/g;for(var l=[],c=[],h=new o.b;null!==(a=n.exec(e));){for(r=a[0],i=/normal[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!==(a=i.exec(r));)h.x=parseFloat(a[1]),h.y=parseFloat(a[3]),h.z=parseFloat(a[5]);for(s=/vertex[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!==(a=s.exec(r));)l.push(parseFloat(a[1]),parseFloat(a[3]),parseFloat(a[5])),c.push(h.x,h.y,h.z)}return t.addAttribute("position",new o.d(new Float32Array(l),3)),t.addAttribute("normal",new o.d(new Float32Array(c),3)),t},ensureString:function(e){if("string"!=typeof e){for(var t=new Uint8Array(e),n=[],o=0;o<e.byteLength;o++)n.push(String.fromCharCode(t[o]));return n.join("")}return e},ensureBinary:function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}}}],[81]);
//# sourceMappingURL=app.5b30df929881188d2dfc.js.map