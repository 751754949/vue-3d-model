{"version":3,"sources":["webpack:///static/js/app.92b4f17a1ab4de59733c.js","webpack:///./src/util.js","webpack:///./examples/App.vue?02f8","webpack:///./examples/router/index.js","webpack:///./examples/components/demo-block.vue?d481","webpack:///./examples/pages/demo-basic.vue?9629","webpack:///./src/model-obj.vue","webpack:///./examples/pages/demo-basic.vue?e3c1","webpack:///./src/model-obj.vue?10eb","webpack:///./examples/components/demo-block.vue?e469","webpack:///./examples/App.vue?2e8f","webpack:///./examples/index.js","webpack:///App.vue","webpack:///demo-block.vue","webpack:///demo-basic.vue","webpack:///model-obj.vue","webpack:///./src/controls/OrbitControls.js","webpack:///./src/loaders/OBJLoader.js","webpack:///./src/model-mixin.js"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","getSize","object","box","setFromObject","getCenter","d","__WEBPACK_IMPORTED_MODULE_0_three_build_three_module_js__","exports","Component","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages_demo_basic__","__WEBPACK_IMPORTED_MODULE_2__pages_demo_basic___default","n","use","routes","path","name","component","a","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","code","slot","backgroundAlpha","src","staticRenderFns","style","_t","_v","ref","domProps","textContent","_s","_m","to","href","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue___default","__WEBPACK_IMPORTED_MODULE_2__router__","el","router","h","__WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_color_brewer_css__","__WEBPACK_IMPORTED_MODULE_1_highlight_js__","__WEBPACK_IMPORTED_MODULE_1_highlight_js___default","props","String","mounted","highlightBlock","$refs","data","methods","components","__WEBPACK_IMPORTED_MODULE_0__components_demo_block__","__WEBPACK_IMPORTED_MODULE_0__components_demo_block___default","__WEBPACK_IMPORTED_MODULE_2__src_model_obj_vue__","__WEBPACK_IMPORTED_MODULE_2__src_model_obj_vue___default","intersected","ModelObj","DemoBlock","__WEBPACK_IMPORTED_MODULE_0__loaders_OBJLoader__","__WEBPACK_IMPORTED_MODULE_1__model_mixin__","mixins","lights","type","Array","default","position","x","y","z","skyColor","groundColor","intensity","color","loader","OrbitControls","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default","__WEBPACK_IMPORTED_MODULE_1_three__","domElement","getAutoRotationAngle","Math","PI","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","rotateLeft","angle","sphericalDelta","theta","rotateUp","phi","dollyIn","dollyScale","scale","zoom","max","minZoom","min","maxZoom","updateProjectionMatrix","zoomChanged","console","warn","enableZoom","dollyOut","handleMouseDownRotate","event","rotateStart","set","clientX","clientY","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","subVectors","element","document","body","clientWidth","rotateSpeed","clientHeight","copy","update","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","deltaY","handleKeyDown","keyCode","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","dx","dy","distance","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","onMouseDown","enabled","preventDefault","button","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","addEventListener","onMouseMove","onMouseUp","dispatchEvent","startEvent","removeEventListener","endEvent","onMouseWheel","stopPropagation","onKeyDown","enableKeys","onTouchStart","length","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","undefined","target","minDistance","maxDistance","Infinity","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","autoRotate","MIDDLE","target0","clone","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","reset","changeEvent","offset","quat","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","makeSafe","radius","add","panOffset","setFromSpherical","lookAt","distanceToSquared","EPS","dot","quaternion","dispose","window","panLeft","v","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","deltaX","targetDistance","tan","fov","matrix","right","left","top","bottom","prototype","constructor","OBJLoader","__WEBPACK_IMPORTED_MODULE_0_three__","manager","materials","regexp","vertex_pattern","normal_pattern","uv_pattern","face_vertex","face_vertex_uv","face_vertex_uv_normal","face_vertex_normal","object_pattern","smoothing_pattern","material_library_pattern","material_use_pattern","load","url","onLoad","onProgress","onError","setPath","text","parse","setMaterials","_createParserState","objects","vertices","normals","uvs","materialLibraries","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","geometry","smooth","startMaterial","libraries","previous","inherited","groupCount","splice","index","material","mtllib","isArray","groupStart","groupEnd","cloned","bind","push","end","lastMultiMaterial","mi","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","parseUVIndex","addVertex","b","c","dst","addVertexLine","addNormal","addUV","addUVLine","addFace","ua","ub","uc","ud","na","nb","nc","nd","id","vLen","ia","ib","ic","uvLen","nLen","addLineGeometry","vi","l","uvi","time","indexOf","replace","lines","split","line","lineFirstChar","lineSecondChar","result","trimLeft","i","trim","charAt","exec","parseFloat","Error","lineParts","substring","lineVertices","lineUVs","li","llen","parts","substr","test","toLowerCase","container","concat","isLine","buffergeometry","addAttribute","Float32Array","computeVertexNormals","createdMaterials","miLen","sourceMaterial","create","materialLine","shading","mesh","addGroup","timeEnd","__WEBPACK_IMPORTED_MODULE_1__util__","__WEBPACK_IMPORTED_MODULE_2__controls_OrbitControls__","width","Number","height","rotation","cameraPosition","cameraRotation","cameraUp","cameraLookAt","backgroundColor","controllable","Boolean","size","raycaster","mouse","camera","scene","renderer","controls","allLights","renderHandler","computed","styleObj","created","onResize","$el","offsetWidth","offsetHeight","antialias","alpha","canvas","shadowMap","onClick","beforeDestroy","watch","deep","handler","val","oldVal","updateLights","updateCamera","updateRenderer","updateControls","_this","$nextTick","pick","$emit","rect","getBoundingClientRect","setFromCamera","intersects","intersectObject","updateModel","setSize","setPixelRatio","devicePixelRatio","setClearAlpha","center","aspect","_this2","remove","apply","forEach","item","light","decay","PointLight","reutrn","_this3","animate","requestAnimationFrame","immediateRender","cancelAnimationFrame"],"mappings":"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","file":"static/js/app.92b4f17a1ab4de59733c.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getCenter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three_build_three_module_js__ = __webpack_require__(0);\n\n\nvar box = new __WEBPACK_IMPORTED_MODULE_0_three_build_three_module_js__[\"z\" /* Box3 */]();\n\nfunction getSize(object) {\n\n\tbox.setFromObject(object);\n\n\treturn box.getSize();\n}\n\nfunction getCenter(object) {\n\n\tbox.setFromObject(object);\n\n\treturn box.getCenter();\n}\n\nfunction lightsDiff(lights, oldLights) {}\n\n\n\n/***/ }),\n/* 16 */,\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(30)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(58),\n  /* template */\n  __webpack_require__(25),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_demo_basic__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_demo_basic___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_demo_basic__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n    routes: [{\n        path: '/demo-basic',\n        name: 'demo-basic',\n        component: __WEBPACK_IMPORTED_MODULE_2__pages_demo_basic___default.a\n    }]\n}));\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(29)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(59),\n  /* template */\n  __webpack_require__(24),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(28)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(60),\n  /* template */\n  __webpack_require__(22),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(61),\n  /* template */\n  __webpack_require__(23),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-basic\"\n  }, [_c('demo-block', {\n    attrs: {\n      \"code\": _vm.code\n    }\n  }, [_c('template', {\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/LeePerrySmith.obj\"\n    }\n  })], 1)], 2)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('canvas', {\n    style: (_vm.styleObj)\n  })\n},staticRenderFns: []}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-block\"\n  }, [_c('div', {\n    staticClass: \"demo-block-preview\"\n  }, [_vm._t(\"preview\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code\"\n  }, [_c('pre', [_vm._v(\"\\n            \"), _c('code', {\n    ref: \"code\",\n    staticClass: \"html\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.code)\n    }\n  }), _vm._v(\"\\n        \")])])])\n},staticRenderFns: []}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('ul', {\n    staticClass: \"examples-nav\"\n  }, [_c('li', {\n    staticClass: \"examples-nav-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-basic\"\n    }\n  }, [_vm._v(\"Basic\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"examples-content\"\n  }, [_c('router-view')], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples-header\"\n  }, [_c('h2', [_vm._v(\"Vue 3D Model\")]), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"https://github.com/hujiulong/vue-3d-model\"\n    }\n  }, [_vm._v(\"Github\")])])\n}]}\n\n/***/ }),\n/* 26 */,\n/* 27 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(18);\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App_vue___default.a);\n  }\n});\n\n/***/ }),\n/* 58 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app'\n});\n\n/***/ }),\n/* 59 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_color_brewer_css__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_color_brewer_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_highlight_js_styles_color_brewer_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_highlight_js__);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'app',\n    props: {\n        code: String\n    },\n    mounted: function mounted() {\n        __WEBPACK_IMPORTED_MODULE_1_highlight_js___default.a.highlightBlock(this.$refs.code);\n    },\n    data: function data() {\n        return {};\n    },\n\n    methods: {},\n    components: {}\n});\n\n/***/ }),\n/* 60 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_demo_block__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_highlight_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_highlight_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__src_model_obj_vue__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__src_model_obj_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__src_model_obj_vue__);\n\n\n\n\n\n\nvar code = '\\n\\n<template>\\n    <model-obj src=\"static/models/obj/LeePerrySmith.obj\"></model-obj>\\n</template>\\n\\n<script>\\n    import { ModelObj } from \\'vue-3d-model\\'\\n\\n    export default {\\n        components: {\\n            ModelObj\\n        }\\n    }\\n</script>\\n\\n';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'demo-basic',\n    data: function data() {\n        return {\n            code: code,\n            intersected: null\n        };\n    },\n\n    components: {\n        ModelObj: __WEBPACK_IMPORTED_MODULE_2__src_model_obj_vue___default.a,\n        DemoBlock: __WEBPACK_IMPORTED_MODULE_0__components_demo_block___default.a\n    }\n});\n\n/***/ }),\n/* 61 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__loaders_OBJLoader__ = __webpack_require__(63);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model_mixin__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util__ = __webpack_require__(15);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'model-obj',\n    mixins: [__WEBPACK_IMPORTED_MODULE_1__model_mixin__[\"a\" /* default */]],\n    props: {\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [{\n                    type: 'HemisphereLight',\n                    position: { x: 0, y: 1, z: 0 },\n                    skyColor: 0xaaaaff,\n                    groundColor: 0x806060,\n                    intensity: 0.2\n                }, {\n                    type: 'DirectionalLight',\n                    position: { x: 1, y: 1, z: 1 },\n                    color: 0xffffff,\n                    intensity: 0.8\n                }];\n            }\n        }\n    },\n    data: function data() {\n        return {\n            loader: new __WEBPACK_IMPORTED_MODULE_0__loaders_OBJLoader__[\"a\" /* OBJLoader */]()\n        };\n    }\n});\n\n/***/ }),\n/* 62 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OrbitControls; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_three__ = __webpack_require__(0);\n\n\n\nvar OrbitControls = function OrbitControls(object, domElement) {\n\n\t\tthis.object = object;\n\n\t\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t\tthis.enabled = true;\n\n\t\tthis.target = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\tthis.minPolarAngle = 0;\n\t\tthis.maxPolarAngle = Math.PI;\n\t\tthis.minAzimuthAngle = -Infinity;\n\t\tthis.maxAzimuthAngle = Infinity;\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0;\n\t\tthis.enableKeys = true;\n\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\tthis.mouseButtons = { ORBIT: __WEBPACK_IMPORTED_MODULE_1_three__[\"u\" /* MOUSE */].LEFT, ZOOM: __WEBPACK_IMPORTED_MODULE_1_three__[\"u\" /* MOUSE */].MIDDLE, PAN: __WEBPACK_IMPORTED_MODULE_1_three__[\"u\" /* MOUSE */].RIGHT };\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\t\treturn spherical.phi;\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\t\treturn spherical.theta;\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\t\tscope.target0.copy(scope.target);\n\t\t\t\tscope.position0.copy(scope.object.position);\n\t\t\t\tscope.zoom0 = scope.object.zoom;\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\t\tscope.target.copy(scope.target0);\n\t\t\t\tscope.object.position.copy(scope.position0);\n\t\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tscope.update();\n\n\t\t\t\tstate = STATE.NONE;\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\t\tvar offset = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\n\t\t\t\tvar quat = new __WEBPACK_IMPORTED_MODULE_1_three__[\"v\" /* Quaternion */]().setFromUnitVectors(object.up, new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */](0, 1, 0));\n\t\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\t\tvar lastPosition = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\t\t\t\tvar lastQuaternion = new __WEBPACK_IMPORTED_MODULE_1_three__[\"v\" /* Quaternion */]();\n\n\t\t\t\treturn function update() {\n\n\t\t\t\t\t\tvar position = scope.object.position;\n\n\t\t\t\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\t\t\t\toffset.applyQuaternion(quat);\n\n\t\t\t\t\t\tspherical.setFromVector3(offset);\n\n\t\t\t\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\t\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\t\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\t\t\t\tspherical.makeSafe();\n\n\t\t\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\t\t\t\tscope.target.add(panOffset);\n\n\t\t\t\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\t\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\t\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\t\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\t\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\t\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\t\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tscale = 1;\n\t\t\t\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\t\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\t\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\t\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\t\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\t\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\t\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\t\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\t\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\t\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\t\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\t\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\t\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\t\t};\n\n\t\tvar scope = this;\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar spherical = new __WEBPACK_IMPORTED_MODULE_1_three__[\"w\" /* Spherical */]();\n\t\tvar sphericalDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"w\" /* Spherical */]();\n\n\t\tvar scale = 1;\n\t\tvar panOffset = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\t\tvar zoomChanged = false;\n\n\t\tvar rotateStart = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\t\tvar rotateEnd = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\t\tvar rotateDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\n\t\tvar panStart = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\t\tvar panEnd = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\t\tvar panDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\n\t\tvar dollyStart = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\t\tvar dollyEnd = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\t\tvar dollyDelta = new __WEBPACK_IMPORTED_MODULE_1_three__[\"m\" /* Vector2 */]();\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t\t}\n\n\t\tfunction rotateLeft(angle) {\n\n\t\t\t\tsphericalDelta.theta -= angle;\n\t\t}\n\n\t\tfunction rotateUp(angle) {\n\n\t\t\t\tsphericalDelta.phi -= angle;\n\t\t}\n\n\t\tvar panLeft = function () {\n\n\t\t\t\tvar v = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\n\t\t\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\t\t\t\tv.setFromMatrixColumn(objectMatrix, 0);\n\t\t\t\t\t\tv.multiplyScalar(-distance);\n\n\t\t\t\t\t\tpanOffset.add(v);\n\t\t\t\t};\n\t\t}();\n\n\t\tvar panUp = function () {\n\n\t\t\t\tvar v = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\n\t\t\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\t\t\t\tv.setFromMatrixColumn(objectMatrix, 1);\n\t\t\t\t\t\tv.multiplyScalar(distance);\n\n\t\t\t\t\t\tpanOffset.add(v);\n\t\t\t\t};\n\t\t}();\n\n\t\tvar pan = function () {\n\n\t\t\t\tvar offset = new __WEBPACK_IMPORTED_MODULE_1_three__[\"t\" /* Vector3 */]();\n\n\t\t\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\t\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* PerspectiveCamera */]) {\n\t\t\t\t\t\t\t\tvar position = scope.object.position;\n\t\t\t\t\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\t\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\t\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\t\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\t\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"x\" /* OrthographicCamera */]) {\n\t\t\t\t\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\t\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\t\t\t\t\tscope.enablePan = false;\n\t\t\t\t\t\t}\n\t\t\t\t};\n\t\t}();\n\n\t\tfunction dollyIn(dollyScale) {\n\n\t\t\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* PerspectiveCamera */]) {\n\n\t\t\t\t\t\tscale /= dollyScale;\n\t\t\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"x\" /* OrthographicCamera */]) {\n\n\t\t\t\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\t\tzoomChanged = true;\n\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\t\t\t\tscope.enableZoom = false;\n\t\t\t\t}\n\t\t}\n\n\t\tfunction dollyOut(dollyScale) {\n\n\t\t\t\tif (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"n\" /* PerspectiveCamera */]) {\n\n\t\t\t\t\t\tscale *= dollyScale;\n\t\t\t\t} else if (scope.object instanceof __WEBPACK_IMPORTED_MODULE_1_three__[\"x\" /* OrthographicCamera */]) {\n\n\t\t\t\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\t\t\tzoomChanged = true;\n\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\t\t\t\tscope.enableZoom = false;\n\t\t\t\t}\n\t\t}\n\n\t\tfunction handleMouseDownRotate(event) {\n\n\t\t\t\trotateStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tfunction handleMouseDownDolly(event) {\n\n\t\t\t\tdollyStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tfunction handleMouseDownPan(event) {\n\n\t\t\t\tpanStart.set(event.clientX, event.clientY);\n\t\t}\n\n\t\tfunction handleMouseMoveRotate(event) {\n\n\t\t\t\trotateEnd.set(event.clientX, event.clientY);\n\t\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleMouseMoveDolly(event) {\n\n\t\t\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy(dollyEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleMouseMovePan(event) {\n\n\t\t\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tpan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleMouseUp(event) {}\n\n\t\tfunction handleMouseWheel(event) {\n\n\t\t\t\tif (event.deltaY < 0) {\n\n\t\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t\t} else if (event.deltaY > 0) {\n\n\t\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t\t}\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleKeyDown(event) {\n\n\t\t\t\tswitch (event.keyCode) {\n\n\t\t\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\t\t\t\t\tscope.update();\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction handleTouchStartRotate(event) {\n\n\t\t\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t}\n\n\t\tfunction handleTouchStartDolly(event) {\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tdollyStart.set(0, distance);\n\t\t}\n\n\t\tfunction handleTouchStartPan(event) {\n\n\t\t\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t}\n\n\t\tfunction handleTouchMoveRotate(event) {\n\n\t\t\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\t\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\t\t\trotateStart.copy(rotateEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleTouchMoveDolly(event) {\n\n\t\t\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\t\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\t\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\t\t\tdollyEnd.set(0, distance);\n\n\t\t\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\t\t\tif (dollyDelta.y > 0) {\n\n\t\t\t\t\t\tdollyOut(getZoomScale());\n\t\t\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\t\t\t\tdollyIn(getZoomScale());\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy(dollyEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleTouchMovePan(event) {\n\n\t\t\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\t\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\t\t\tpan(panDelta.x, panDelta.y);\n\n\t\t\t\tpanStart.copy(panEnd);\n\n\t\t\t\tscope.update();\n\t\t}\n\n\t\tfunction handleTouchEnd(event) {}\n\n\t\tfunction onMouseDown(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tswitch (event.button) {\n\n\t\t\t\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseDownRotate(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseDownDolly(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseDownPan(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\n\t\t\t\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\t\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onMouseMove(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tswitch (state) {\n\n\t\t\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseMoveRotate(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseMoveDolly(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\t\t\thandleMouseMovePan(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onMouseUp(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\thandleMouseUp(event);\n\n\t\t\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\t\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\t\t\tscope.dispatchEvent(endEvent);\n\n\t\t\t\tstate = STATE.NONE;\n\t\t}\n\n\t\tfunction onMouseWheel(event) {\n\n\t\t\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\thandleMouseWheel(event);\n\n\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t\tscope.dispatchEvent(endEvent);\n\t\t}\n\n\t\tfunction onKeyDown(event) {\n\n\t\t\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\t\t\thandleKeyDown(event);\n\t\t}\n\n\t\tfunction onTouchStart(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 1:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\t\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 2:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\t\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 3:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\t\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tif (state !== STATE.NONE) {\n\n\t\t\t\t\t\tscope.dispatchEvent(startEvent);\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onTouchMove(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tswitch (event.touches.length) {\n\n\t\t\t\t\t\tcase 1:\n\n\t\t\t\t\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\t\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return;\n\n\t\t\t\t\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 2:\n\n\t\t\t\t\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\t\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return;\n\n\t\t\t\t\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 3:\n\n\t\t\t\t\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\t\t\t\t\tif (state !== STATE.TOUCH_PAN) return;\n\n\t\t\t\t\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\t\t}\n\n\t\tfunction onTouchEnd(event) {\n\n\t\t\t\tif (scope.enabled === false) return;\n\n\t\t\t\thandleTouchEnd(event);\n\n\t\t\t\tscope.dispatchEvent(endEvent);\n\n\t\t\t\tstate = STATE.NONE;\n\t\t}\n\n\t\tfunction onContextMenu(event) {\n\n\t\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\t\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\t\twindow.addEventListener('keydown', onKeyDown, false);\n\n\t\tthis.update();\n};\n\nOrbitControls.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(__WEBPACK_IMPORTED_MODULE_1_three__[\"y\" /* EventDispatcher */].prototype);\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OBJLoader; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(0);\n\n\nvar OBJLoader = function OBJLoader(manager) {\n\n\t\t\t\tthis.manager = manager !== undefined ? manager : __WEBPACK_IMPORTED_MODULE_0_three__[\"a\" /* DefaultLoadingManager */];\n\n\t\t\t\tthis.materials = null;\n\n\t\t\t\tthis.regexp = {\n\t\t\t\t\t\t\t\tvertex_pattern: /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n\n\t\t\t\t\t\t\t\tnormal_pattern: /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n\n\t\t\t\t\t\t\t\tuv_pattern: /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\n\n\t\t\t\t\t\t\t\tface_vertex: /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tface_vertex_uv: /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tface_vertex_uv_normal: /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tface_vertex_normal: /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\n\n\t\t\t\t\t\t\t\tobject_pattern: /^[og]\\s*(.+)?/,\n\n\t\t\t\t\t\t\t\tsmoothing_pattern: /^s\\s+(\\d+|on|off)/,\n\n\t\t\t\t\t\t\t\tmaterial_library_pattern: /^mtllib /,\n\n\t\t\t\t\t\t\t\tmaterial_use_pattern: /^usemtl /\n\t\t\t\t};\n};\n\nOBJLoader.prototype = {\n\n\t\t\t\tconstructor: OBJLoader,\n\n\t\t\t\tload: function load(url, onLoad, onProgress, onError) {\n\n\t\t\t\t\t\t\t\tvar scope = this;\n\n\t\t\t\t\t\t\t\tvar loader = new __WEBPACK_IMPORTED_MODULE_0_three__[\"b\" /* FileLoader */](scope.manager);\n\t\t\t\t\t\t\t\tloader.setPath(this.path);\n\t\t\t\t\t\t\t\tloader.load(url, function (text) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tonLoad(scope.parse(text));\n\t\t\t\t\t\t\t\t}, onProgress, onError);\n\t\t\t\t},\n\n\t\t\t\tsetPath: function setPath(value) {\n\n\t\t\t\t\t\t\t\tthis.path = value;\n\t\t\t\t},\n\n\t\t\t\tsetMaterials: function setMaterials(materials) {\n\n\t\t\t\t\t\t\t\tthis.materials = materials;\n\t\t\t\t},\n\n\t\t\t\t_createParserState: function _createParserState() {\n\n\t\t\t\t\t\t\t\tvar state = {\n\t\t\t\t\t\t\t\t\t\t\t\tobjects: [],\n\t\t\t\t\t\t\t\t\t\t\t\tobject: {},\n\n\t\t\t\t\t\t\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\t\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\t\t\t\t\t\t\tuvs: [],\n\n\t\t\t\t\t\t\t\t\t\t\t\tmaterialLibraries: [],\n\n\t\t\t\t\t\t\t\t\t\t\t\tstartObject: function startObject(name, fromDeclaration) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.object && this.object.fromDeclaration === false) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.fromDeclaration = fromDeclaration !== false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar previousMaterial = this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.object && typeof this.object._finalize === 'function') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object._finalize(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfromDeclaration: fromDeclaration !== false,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeometry: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnormals: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuvs: []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterials: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartMaterial: function startMaterial(name, libraries) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar previous = this._finalize(false);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (previous && (previous.inherited || previous.groupCount <= 0)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.splice(previous.index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar material = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmtllib: Array.isArray(libraries) && libraries.length > 0 ? libraries[libraries.length - 1] : '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: previous !== undefined ? previous.smooth : this.smooth,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupStart: previous !== undefined ? previous.groupEnd : 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupEnd: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupCount: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclone: function clone(index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar cloned = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex: typeof index === 'number' ? index : this.index,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupEnd: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupCount: -1,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind(cloned);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn cloned;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.push(material);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn material;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentMaterial: function currentMaterial() {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.materials.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn this.materials[this.materials.length - 1];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_finalize: function _finalize(end) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (lastMultiMaterial && lastMultiMaterial.groupEnd === -1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (end && this.materials.length > 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var mi = this.materials.length - 1; mi >= 0; mi--) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.materials[mi].groupCount <= 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.splice(mi, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (end && this.materials.length === 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.materials.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn lastMultiMaterial;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (previousMaterial && previousMaterial.name && typeof previousMaterial.clone === \"function\") {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar declared = previousMaterial.clone(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.materials.push(declared);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.objects.push(this.object);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tfinalize: function finalize() {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.object && typeof this.object._finalize === 'function') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object._finalize(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tparseVertexIndex: function parseVertexIndex(value, len) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 3) * 3;\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tparseNormalIndex: function parseNormalIndex(value, len) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 3) * 3;\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\tparseUVIndex: function parseUVIndex(value, len) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = parseInt(value, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (index >= 0 ? index - 1 : index + len / 2) * 2;\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddVertex: function addVertex(a, b, c) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.vertices;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddVertexLine: function addVertexLine(a) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.vertices;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddNormal: function addNormal(a, b, c) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.normals;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.normals;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 2]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddUV: function addUV(a, b, c) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.uvs;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[b + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[c + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddUVLine: function addUVLine(a) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar src = this.uvs;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dst = this.object.geometry.uvs;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdst.push(src[a + 1]);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddFace: function addFace(a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ia = this.parseVertexIndex(a, vLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ib = this.parseVertexIndex(b, vLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar ic = this.parseVertexIndex(c, vLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertex(ia, ib, ic);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = this.parseVertexIndex(d, vLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertex(ia, ib, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertex(ib, ic, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ua !== undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tia = this.parseUVIndex(ua, uvLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tib = this.parseUVIndex(ub, uvLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tic = this.parseUVIndex(uc, uvLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUV(ia, ib, ic);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = this.parseUVIndex(ud, uvLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUV(ia, ib, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUV(ib, ic, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (na !== undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar nLen = this.normals.length;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tia = this.parseNormalIndex(na, nLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex(nb, nLen);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex(nc, nLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (d === undefined) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addNormal(ia, ib, ic);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid = this.parseNormalIndex(nd, nLen);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addNormal(ia, ib, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addNormal(ib, ic, id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t\t\t\t\taddLineGeometry: function addLineGeometry(vertices, uvs) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar vLen = this.vertices.length;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar uvLen = this.uvs.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var vi = 0, l = vertices.length; vi < l; vi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addVertexLine(this.parseVertexIndex(vertices[vi], vLen));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var uvi = 0, l = uvs.length; uvi < l; uvi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addUVLine(this.parseUVIndex(uvs[uvi], uvLen));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tstate.startObject('', false);\n\n\t\t\t\t\t\t\t\treturn state;\n\t\t\t\t},\n\n\t\t\t\tparse: function parse(text) {\n\n\t\t\t\t\t\t\t\tconsole.time('OBJLoader');\n\n\t\t\t\t\t\t\t\tvar state = this._createParserState();\n\n\t\t\t\t\t\t\t\tif (text.indexOf('\\r\\n') !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\ttext = text.replace(/\\r\\n/g, '\\n');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (text.indexOf('\\\\\\n') !== -1) {\n\t\t\t\t\t\t\t\t\t\t\t\ttext = text.replace(/\\\\\\n/g, '');\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar lines = text.split('\\n');\n\t\t\t\t\t\t\t\tvar line = '',\n\t\t\t\t\t\t\t\t    lineFirstChar = '',\n\t\t\t\t\t\t\t\t    lineSecondChar = '';\n\t\t\t\t\t\t\t\tvar lineLength = 0;\n\t\t\t\t\t\t\t\tvar result = [];\n\n\t\t\t\t\t\t\t\tvar trimLeft = typeof ''.trimLeft === 'function';\n\n\t\t\t\t\t\t\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tline = lines[i];\n\n\t\t\t\t\t\t\t\t\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\n\t\t\t\t\t\t\t\t\t\t\t\tlineLength = line.length;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (lineLength === 0) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tlineFirstChar = line.charAt(0);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (lineFirstChar === '#') continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (lineFirstChar === 'v') {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineSecondChar = line.charAt(1);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (lineSecondChar === ' ' && (result = this.regexp.vertex_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.vertices.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineSecondChar === 'n' && (result = this.regexp.normal_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.normals.push(parseFloat(result[1]), parseFloat(result[2]), parseFloat(result[3]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineSecondChar === 't' && (result = this.regexp.uv_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.uvs.push(parseFloat(result[1]), parseFloat(result[2]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Unexpected vertex/normal/uv line: '\" + line + \"'\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineFirstChar === \"f\") {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ((result = this.regexp.face_vertex_uv_normal.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[4], result[7], result[10], result[2], result[5], result[8], result[11], result[3], result[6], result[9], result[12]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.face_vertex_uv.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[3], result[5], result[7], result[2], result[4], result[6], result[8]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.face_vertex_normal.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[3], result[5], result[7], undefined, undefined, undefined, undefined, result[2], result[4], result[6], result[8]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.face_vertex.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addFace(result[1], result[2], result[3], result[4]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Unexpected face line: '\" + line + \"'\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (lineFirstChar === \"l\") {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar lineParts = line.substring(1).trim().split(\" \");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar lineVertices = [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t    lineUVs = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (line.indexOf(\"/\") === -1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlineVertices = lineParts;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var li = 0, llen = lineParts.length; li < llen; li++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar parts = lineParts[li].split(\"/\");\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parts[0] !== \"\") lineVertices.push(parts[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (parts[1] !== \"\") lineUVs.push(parts[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.addLineGeometry(lineVertices, lineUVs);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.object_pattern.exec(line)) !== null) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar name = (\" \" + result[0].substr(1).trim()).substr(1);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.startObject(name);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (this.regexp.material_use_pattern.test(line)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.object.startMaterial(line.substring(7).trim(), state.materialLibraries);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (this.regexp.material_library_pattern.test(line)) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.materialLibraries.push(line.substring(7).trim());\n\t\t\t\t\t\t\t\t\t\t\t\t} else if ((result = this.regexp.smoothing_pattern.exec(line)) !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar value = result[1].trim().toLowerCase();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate.object.smooth = value === '1' || value === 'on';\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (material) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.smooth = state.object.smooth;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (line === '\\0') continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\"Unexpected line: '\" + line + \"'\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tstate.finalize();\n\n\t\t\t\t\t\t\t\tvar container = new __WEBPACK_IMPORTED_MODULE_0_three__[\"c\" /* Group */]();\n\t\t\t\t\t\t\t\tcontainer.materialLibraries = [].concat(state.materialLibraries);\n\n\t\t\t\t\t\t\t\tfor (var i = 0, l = state.objects.length; i < l; i++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar object = state.objects[i];\n\t\t\t\t\t\t\t\t\t\t\t\tvar geometry = object.geometry;\n\t\t\t\t\t\t\t\t\t\t\t\tvar materials = object.materials;\n\t\t\t\t\t\t\t\t\t\t\t\tvar isLine = geometry.type === 'Line';\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (geometry.vertices.length === 0) continue;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar buffergeometry = new __WEBPACK_IMPORTED_MODULE_0_three__[\"d\" /* BufferGeometry */]();\n\n\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addAttribute('position', new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferAttribute */](new Float32Array(geometry.vertices), 3));\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (geometry.normals.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addAttribute('normal', new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferAttribute */](new Float32Array(geometry.normals), 3));\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (geometry.uvs.length > 0) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addAttribute('uv', new __WEBPACK_IMPORTED_MODULE_0_three__[\"e\" /* BufferAttribute */](new Float32Array(geometry.uvs), 2));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar createdMaterials = [];\n\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sourceMaterial = materials[mi];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar material = undefined;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.materials !== null) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = this.materials.create(sourceMaterial.name);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (isLine && material && !(material instanceof __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* LineBasicMaterial */])) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar materialLine = new __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* LineBasicMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterialLine.copy(material);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = materialLine;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!material) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial = !isLine ? new __WEBPACK_IMPORTED_MODULE_0_three__[\"g\" /* MeshPhongMaterial */]() : new __WEBPACK_IMPORTED_MODULE_0_three__[\"f\" /* LineBasicMaterial */]();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaterial.shading = sourceMaterial.smooth ? __WEBPACK_IMPORTED_MODULE_0_three__[\"h\" /* SmoothShading */] : __WEBPACK_IMPORTED_MODULE_0_three__[\"i\" /* FlatShading */];\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcreatedMaterials.push(material);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar mesh;\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (createdMaterials.length > 1) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var mi = 0, miLen = materials.length; mi < miLen; mi++) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sourceMaterial = materials[mi];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbuffergeometry.addGroup(sourceMaterial.groupStart, sourceMaterial.groupCount, mi);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmesh = !isLine ? new __WEBPACK_IMPORTED_MODULE_0_three__[\"j\" /* Mesh */](buffergeometry, createdMaterials) : new __WEBPACK_IMPORTED_MODULE_0_three__[\"k\" /* LineSegments */](buffergeometry, createdMaterials);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmesh = !isLine ? new __WEBPACK_IMPORTED_MODULE_0_three__[\"j\" /* Mesh */](buffergeometry, createdMaterials[0]) : new __WEBPACK_IMPORTED_MODULE_0_three__[\"k\" /* LineSegments */](buffergeometry, createdMaterials[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tmesh.name = object.name;\n\n\t\t\t\t\t\t\t\t\t\t\t\tcontainer.add(mesh);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconsole.timeEnd('OBJLoader');\n\n\t\t\t\t\t\t\t\treturn container;\n\t\t\t\t}\n\n};\n\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__controls_OrbitControls__ = __webpack_require__(62);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    props: {\n        src: {\n            type: String\n        },\n        width: {\n            type: Number\n        },\n        height: {\n            type: Number\n        },\n        position: {\n            type: Object,\n            default: function _default() {\n                return { x: 0, y: 0, z: 0 };\n            }\n        },\n        rotation: {\n            type: Object,\n            default: function _default() {\n                return { x: 0, y: 0, z: 0 };\n            }\n        },\n        scale: {\n            type: Object,\n            default: function _default() {\n                return { x: 1, y: 1, z: 1 };\n            }\n        },\n        lights: {\n            type: Array,\n            default: function _default() {\n                return [];\n            }\n        },\n        cameraPosition: {\n            type: Object\n        },\n        cameraRotation: {\n            type: Object\n        },\n        cameraUp: {\n            type: Object\n        },\n        cameraLookAt: {\n            type: Object\n        },\n        backgroundColor: {\n            default: 0xffffff\n        },\n        backgroundAlpha: {\n            type: Number,\n            default: 1\n        },\n        controllable: {\n            type: Boolean,\n            default: true\n        }\n    },\n    data: function data() {\n        return {\n            size: {\n                width: this.width,\n                height: this.height\n            },\n            object: null,\n            raycaster: new __WEBPACK_IMPORTED_MODULE_0_three__[\"l\" /* Raycaster */](),\n            mouse: new __WEBPACK_IMPORTED_MODULE_0_three__[\"m\" /* Vector2 */](),\n            camera: new __WEBPACK_IMPORTED_MODULE_0_three__[\"n\" /* PerspectiveCamera */](45, 1, 0.001, 100000),\n            scene: new __WEBPACK_IMPORTED_MODULE_0_three__[\"o\" /* Scene */](),\n            renderer: null,\n            controls: null,\n            allLights: [],\n            renderHandler: null\n        };\n    },\n\n    computed: {\n        styleObj: function styleObj() {\n            return {\n                width: this.width !== undefined ? this.width + 'px' : '100%',\n                height: this.height !== undefined ? this.height + 'px' : '100%'\n            };\n        }\n    },\n    created: function created() {\n        if (window) {\n            window.addEventListener('resize', this.onResize, false);\n        }\n    },\n    mounted: function mounted() {\n\n        if (this.width === undefined || this.height === undefined) {\n            this.size = {\n                width: this.$el.offsetWidth,\n                height: this.$el.offsetHeight\n            };\n        }\n\n        this.renderer = new __WEBPACK_IMPORTED_MODULE_0_three__[\"p\" /* WebGLRenderer */]({ antialias: true, alpha: true, canvas: this.$el });\n        this.renderer.shadowMap.enabled = true;\n\n        this.load();\n        this.update();\n\n        this.$el.addEventListener('mousedown', this.onMouseDown, false);\n        this.$el.addEventListener('mousemove', this.onMouseMove, false);\n        this.$el.addEventListener('mouseup', this.onMouseUp, false);\n        this.$el.addEventListener('click', this.onClick, false);\n    },\n    beforeDestroy: function beforeDestroy() {\n\n        this.$el.removeEventListener('mousedown', this.onMouseDown, false);\n        this.$el.removeEventListener('mousemove', this.onMouseMove, false);\n        this.$el.removeEventListener('mouseup', this.onMouseUp, false);\n        this.$el.removeEventListener('click', this.onClick, false);\n    },\n\n    watch: {\n        src: function src() {\n            this.load();\n        },\n        object: function object() {\n            this.render();\n        },\n\n        lights: {\n            deep: true,\n            handler: function handler(val, oldVal) {\n                this.updateLights();\n            }\n        },\n        size: {\n            deep: true,\n            handler: function handler(val) {\n                this.updateCamera();\n                this.updateRenderer();\n            }\n        },\n        controllable: function controllable() {\n            this.updateControls();\n        }\n    },\n    methods: {\n        onResize: function onResize() {\n            var _this = this;\n\n            if (this.width === undefined || this.height === undefined) {\n\n                this.$nextTick(function () {\n                    _this.size = {\n                        width: _this.$el.offsetWidth,\n                        height: _this.$el.offsetHeight\n                    };\n                });\n            }\n        },\n        onMouseDown: function onMouseDown(event) {\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-mousedown', intersected);\n        },\n        onMouseMove: function onMouseMove(event) {\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-mousemove', intersected);\n        },\n        onMouseUp: function onMouseUp(event) {\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-mouseup', intersected);\n        },\n        onClick: function onClick(event) {\n\n            var intersected = this.pick(event.clientX, event.clientY);\n            this.$emit('on-click', intersected);\n        },\n        pick: function pick(x, y) {\n\n            if (!this.object) return;\n\n            var rect = this.$el.getBoundingClientRect();\n\n            x -= rect.left;\n            y -= rect.top;\n\n            this.mouse.x = x / this.size.width * 2 - 1;\n            this.mouse.y = -(y / this.size.height) * 2 + 1;\n\n            this.raycaster.setFromCamera(this.mouse, this.camera);\n\n            var intersects = this.raycaster.intersectObject(this.object, true);\n\n            return (intersects && intersects.length) > 0 ? intersects[0] : null;\n        },\n        update: function update() {\n\n            this.updateRenderer();\n            this.updateModel();\n            this.updateCamera();\n            this.updateLights();\n            this.updateControls();\n\n            this.render();\n        },\n        updateModel: function updateModel() {\n\n            var object = this.object;\n\n            if (!object) return;\n\n            object.position.copy(this.position);\n            object.rotation.copy(this.rotation);\n            object.scale.copy(this.scale);\n        },\n        updateRenderer: function updateRenderer() {\n\n            var renderer = this.renderer;\n\n            renderer.setSize(this.size.width, this.size.height);\n            renderer.setPixelRatio(window.devicePixelRatio || 1);\n\n            renderer.setClearAlpha(this.backgroundAlpha);\n        },\n        updateCamera: function updateCamera() {\n\n            var camera = this.camera;\n            var object = this.object;\n\n            var distance = 0;\n            var center = null;\n\n            camera.aspect = this.size.width / this.size.height;\n            camera.updateProjectionMatrix();\n\n            if (!this.cameraLookAt && !this.cameraPosition && !this.cameraRotation && !this.cameraUp) {\n\n                if (!object) return;\n\n                distance = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"a\" /* getSize */])(object).length();\n                center = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__[\"b\" /* getCenter */])(object);\n\n                camera.position.set(0, 0, 0);\n                camera.position.z = distance;\n                camera.position.add(center);\n                camera.lookAt(center);\n            } else {}\n\n            if (this.controls) this.controls.target.copy(center);\n        },\n        updateLights: function updateLights() {\n            var _this2 = this;\n\n            this.scene.remove.apply(this.scene, this.allLights);\n\n            this.allLights = [];\n\n            this.lights.forEach(function (item) {\n\n                if (!item.type) return;\n\n                var type = item.type.toLowerCase();\n\n                var light = null;\n\n                if (type === 'ambient' || type === 'ambientlight') {\n\n                    var color = item.color || 0x404040;\n                    var intensity = item.intensity || 1;\n\n                    light = new __WEBPACK_IMPORTED_MODULE_0_three__[\"q\" /* AmbientLight */](color, intensity);\n                } else if (type === 'point' || type === 'pointlight') {\n\n                    var _color = item.color || 0xffffff;\n                    var _intensity = item.intensity || 1;\n                    var distance = item.distance || 0;\n                    var decay = item.decay || 1;\n\n                    light = new PointLight(_color, _intensity, distance, decay);\n\n                    if (item.position) {\n                        light.position.copy(item.position);\n                    }\n                } else if (type === 'directional' || type === 'directionallight') {\n\n                    var _color2 = item.color || 0xffffff;\n                    var _intensity2 = item.intensity || 1;\n\n                    light = new __WEBPACK_IMPORTED_MODULE_0_three__[\"r\" /* DirectionalLight */](_color2, _intensity2);\n\n                    if (item.position) {\n                        light.position.copy(item.position);\n                    }\n\n                    if (item.target) {\n                        light.target.copy(item.target);\n                    }\n                } else if (type === 'hemisphere' || type === 'hemispherelight') {\n\n                    var skyColor = item.skyColor || 0xffffff;\n                    var groundColor = item.groundColor || 0xffffff;\n                    var _intensity3 = item.intensity || 1;\n\n                    light = new __WEBPACK_IMPORTED_MODULE_0_three__[\"s\" /* HemisphereLight */](skyColor, groundColor, _intensity3);\n\n                    if (item.position) {\n                        light.position.copy(item.position);\n                    }\n                }\n\n                _this2.allLights.push(light);\n                _this2.scene.add(light);\n            });\n        },\n        updateControls: function updateControls() {\n\n            if (this.controllable && this.controls) reutrn;\n\n            if (this.controllable) {\n\n                if (this.controls) return;\n\n                this.controls = new __WEBPACK_IMPORTED_MODULE_2__controls_OrbitControls__[\"a\" /* OrbitControls */](this.camera, this.$el);\n                this.controls.addEventListener('change', this.render, false);\n                this.controls.type = 'orbit';\n            } else {\n\n                if (this.controls) {\n\n                    this.controls.dispose();\n                    this.controls = null;\n                }\n            }\n        },\n        load: function load() {\n            var _this3 = this;\n\n            if (!this.src) return;\n\n            if (this.object) {\n                this.scene.remove(this.object);\n            }\n\n            this.loader.load(this.src, function (object) {\n\n                _this3.object = object;\n\n                _this3.scene.add(_this3.object);\n\n                _this3.updateCamera();\n            });\n        },\n        animate: function animate() {\n            requestAnimationFrame(this.animate);\n            this.render();\n        },\n        immediateRender: function immediateRender() {\n            this.renderer.render(this.scene, this.camera);\n        },\n        render: function render() {\n            cancelAnimationFrame(this.renderHandler);\n            this.renderHandler = requestAnimationFrame(this.immediateRender);\n        }\n    }\n});\n\n/***/ })\n],[57]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.92b4f17a1ab4de59733c.js","import { Box3 } from 'three/build/three.module.js';\r\n\r\nlet box = new Box3();\r\n\r\nfunction getSize ( object ) {\r\n\r\n\tbox.setFromObject( object );\r\n\r\n\treturn box.getSize();\r\n}\r\n\r\nfunction getCenter ( object ) {\r\n\r\n\tbox.setFromObject( object );\r\n\r\n\treturn box.getCenter();\r\n}\r\n\r\nfunction lightsDiff ( lights, oldLights ) {\r\n\r\n}\r\n\r\nexport { getSize, getCenter }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","\n/* styles */\nrequire(\"!!../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7a736b78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a736b78\\\"}!../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/App.vue\n// module id = 17\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport DemoBasic from '../pages/demo-basic'\n\nVue.use( Router )\n\nexport default new Router( {\n    routes: [ \n        {\n            path: '/demo-basic',\n            name: 'demo-basic',\n            component: DemoBasic\n        }\n    ]\n} )\n\n\n// WEBPACK FOOTER //\n// ./examples/router/index.js","\n/* styles */\nrequire(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-5d8f5ef3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./demo-block.vue\")\n\nvar Component = require(\"!../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-block.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d8f5ef3\\\"}!../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-block.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/components/demo-block.vue\n// module id = 19\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-333e0508\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./demo-basic.vue\")\n\nvar Component = require(\"!../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./demo-basic.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-333e0508\\\"}!../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./demo-basic.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./examples/pages/demo-basic.vue\n// module id = 20\n// module chunks = 1","var Component = require(\"!../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./model-obj.vue\"),\n  /* template */\n  require(\"!!../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b9599fb\\\"}!../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./model-obj.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model-obj.vue\n// module id = 21\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-basic\"\n  }, [_c('demo-block', {\n    attrs: {\n      \"code\": _vm.code\n    }\n  }, [_c('template', {\n    slot: \"preview\"\n  }, [_c('model-obj', {\n    attrs: {\n      \"backgroundAlpha\": 0,\n      \"src\": \"static/models/obj/LeePerrySmith.obj\"\n    }\n  })], 1)], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-333e0508\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/pages/demo-basic.vue\n// module id = 22\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('canvas', {\n    style: (_vm.styleObj)\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-3b9599fb\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/model-obj.vue\n// module id = 23\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"demo-block\"\n  }, [_c('div', {\n    staticClass: \"demo-block-preview\"\n  }, [_vm._t(\"preview\")], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"demo-block-code\"\n  }, [_c('pre', [_vm._v(\"\\n            \"), _c('code', {\n    ref: \"code\",\n    staticClass: \"html\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.code)\n    }\n  }), _vm._v(\"\\n        \")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-5d8f5ef3\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/components/demo-block.vue\n// module id = 24\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('ul', {\n    staticClass: \"examples-nav\"\n  }, [_c('li', {\n    staticClass: \"examples-nav-item\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": \"demo-basic\"\n    }\n  }, [_vm._v(\"Basic\")])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"examples-content\"\n  }, [_c('router-view')], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"examples-header\"\n  }, [_c('h2', [_vm._v(\"Vue 3D Model\")]), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"https://github.com/hujiulong/vue-3d-model\"\n    }\n  }, [_vm._v(\"Github\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a736b78\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./examples/App.vue\n// module id = 25\n// module chunks = 1","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./examples/index.js","<template>\r\n    <div class=\"examples\">\r\n        <div class=\"examples-header\">\r\n            <h2>Vue 3D Model</h2>\r\n            <a href=\"https://github.com/hujiulong/vue-3d-model\">Github</a>\r\n        </div>\r\n        <ul class=\"examples-nav\">\r\n            <li class=\"examples-nav-item\">\r\n                <router-link to=\"demo-basic\">Basic</router-link>\r\n            </li>\r\n        </ul>\r\n        <div class=\"examples-content\">\r\n            <router-view></router-view>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'app'\r\n}\r\n</script>\r\n<style>\r\n* {\r\n    margin: 0;\r\n    border: 0;\r\n    padding: 0;\r\n}\r\n\r\nul, ol, li {\r\n    list-style: none;\r\n}\r\n\r\na {\r\n    color: #657180;\r\n    text-decoration: none;\r\n}\r\n\r\nhtml, body, .examples {\r\n    width: 100%;\r\n    height: 100%;\r\n    color: #657180;\r\n}\r\n\r\nbody {\r\n    background: #eee;\r\n}\r\n\r\n.examples-header {\r\n    padding: 20px 40px;\r\n}\r\n\r\n.examples-header h2 {\r\n    display: inline-block;\r\n}\r\n\r\n.examples-header > a {\r\n    color: #39f;\r\n    display: inline-block;\r\n    float: right;\r\n}\r\n\r\n.examples-nav {\r\n    position: fixed;\r\n    left: 40px;\r\n    top: 100px;\r\n}\r\n\r\n.examples-nav .examples-nav-item {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 12px 16px;\r\n    font-size: 16px;\r\n}\r\n\r\n.examples-nav .examples-nav-item:hover > a {\r\n    color: #39f;\r\n}\r\n\r\n.examples-content {\r\n    width: 90%;\r\n    max-width: 1100px;\r\n    min-width: 900px;\r\n    margin: 30px auto 20px;\r\n    padding: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?2dc5fcf0","<template>\r\n    <div class=\"demo-block\">\r\n        <div class=\"demo-block-preview\">\r\n            <slot name=\"preview\"></slot>\r\n        </div>\r\n        <div class=\"demo-block-code\">\r\n            <pre>\r\n                <code ref=\"code\" v-text=\"code\" class=\"html\"></code>\r\n            </pre>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport 'highlight.js/styles/color-brewer.css';\r\nimport hljs from 'highlight.js'\r\n\r\nexport default {\r\n    name: 'app',\r\n    props: {\r\n        code: String\r\n    },\r\n    mounted () {\r\n        hljs.highlightBlock( this.$refs.code );\r\n    },\r\n    data () {\r\n    \treturn {}\r\n    },\r\n    methods: {\r\n\r\n    },\r\n    components: {\r\n\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .demo-block, .demo-block * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .demo-block {\r\n        background-color: #fff;\r\n        border-radius: 3px;\r\n        border: 1px solid #eee;\r\n    }\r\n\r\n\t.demo-block::after {\r\n        content: '';\r\n        display: block;\r\n        clear: both;\r\n    }\r\n\r\n    .demo-block .demo-block-preview {\r\n        width: 500px;\r\n        height: 500px;\r\n        float: left;\r\n    }\r\n\r\n    .demo-block .demo-block-code {\r\n        height: 500px;\r\n        overflow: auto;\r\n        padding: 20px;\r\n        background: #f9fafc;\r\n        border-left: 1px dashed #aaa;\r\n        font-family: Menlo,Monaco,Consolas,Courier,monospace;\r\n        font-size: 13px;\r\n    }\r\n    \r\n\r\n    .demo-block .demo-block-code .hljs {\r\n        background: #f9fafc;\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-block.vue?594ee74d","<template>\r\n    <div class=\"demo-basic\">\r\n        <demo-block :code=\"code\">\r\n            <template slot=\"preview\">\r\n                <model-obj :backgroundAlpha=\"0\"\r\n                    src=\"static/models/obj/LeePerrySmith.obj\"></model-obj>\r\n            </template>\r\n        </demo-block>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DemoBlock from '../components/demo-block';\r\nimport hljs from 'highlight.js'\r\nimport ModelObj from '../../src/model-obj.vue'\r\n\r\nconst code = `\r\n\r\n<template>\r\n    <model-obj src=\"static/models/obj/LeePerrySmith.obj\"></model-obj>\r\n</template>\r\n\r\n<script>\r\n    import { ModelObj } from 'vue-3d-model'\r\n\r\n    export default {\r\n        components: {\r\n            ModelObj\r\n        }\r\n    }\r\n<\\/script>\r\n\r\n`\r\n\r\nexport default {\r\n    name: 'demo-basic',\r\n    data () {\r\n    \treturn {\r\n            code,\r\n    \t\tintersected: null\r\n    \t}\r\n    },\r\n    components: {\r\n        ModelObj,\r\n        DemoBlock\r\n    }\r\n}\r\n</script>\r\n<style>\r\n\t.demo-basic {\r\n        padding: 20px;\r\n        background: #fff;\r\n        box-shadow: 0 2px 4px 0 rgba(0,0,0,.1), 0 16px 24px 0 rgba(81,129,228,.1);\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// demo-basic.vue?af97bc76","<template>\r\n    <canvas :style=\"styleObj\"></canvas>\r\n</template>\r\n\r\n<script>\r\nimport { OBJLoader } from './loaders/OBJLoader'\r\nimport mixin from './model-mixin'\r\nimport { getSize, getCenter } from './util'\r\n\r\nexport default {\r\n    name: 'model-obj',\r\n    mixins: [ mixin ],\r\n    props: {\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [\r\n                    {\r\n                        type: 'HemisphereLight',\r\n                        position: { x: 0, y: 1, z: 0 },\r\n                        skyColor: 0xaaaaff,\r\n                        groundColor: 0x806060,\r\n                        intensity: 0.2\r\n                    },\r\n                    {\r\n                        type: 'DirectionalLight',\r\n                        position: { x: 1, y: 1, z: 1 },\r\n                        color: 0xffffff,\r\n                        intensity: 0.8\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            loader: new OBJLoader\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// model-obj.vue?79020499","import * as THREE from 'three';\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/controls/OrbitControls.js\r\n\r\nconst OrbitControls = function ( object, domElement ) {\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new THREE.Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.25;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().inverse();\r\n\r\n\t\tvar lastPosition = new THREE.Vector3();\r\n\t\tvar lastQuaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new THREE.Spherical();\r\n\tvar sphericalDelta = new THREE.Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new THREE.Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new THREE.Vector2();\r\n\tvar rotateEnd = new THREE.Vector2();\r\n\tvar rotateDelta = new THREE.Vector2();\r\n\r\n\tvar panStart = new THREE.Vector2();\r\n\tvar panEnd = new THREE.Vector2();\r\n\tvar panDelta = new THREE.Vector2();\r\n\r\n\tvar dollyStart = new THREE.Vector2();\r\n\tvar dollyEnd = new THREE.Vector2();\r\n\tvar dollyDelta = new THREE.Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownRotate' );\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownDolly' );\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownPan' );\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMoveRotate' );\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t// rotating across whole screen goes 360 degrees around\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMoveDolly' );\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMovePan' );\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( event ) {\r\n\r\n\t\t// console.log( 'handleMouseUp' );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\t// console.log( 'handleMouseWheel' );\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\t//console.log( 'handleKeyDown' );\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartRotate' );\r\n\r\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartDolly' );\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartPan' );\r\n\r\n\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMoveRotate' );\r\n\r\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t// rotating across whole screen goes 360 degrees around\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMoveDolly' );\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMovePan' );\r\n\r\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( event ) {\r\n\r\n\t\t//console.log( 'handleTouchEnd' );\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase scope.mouseButtons.ORBIT:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.mouseButtons.ZOOM:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.mouseButtons.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\r\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\t// one-fingered touch: rotate\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\t// two-fingered touch: dolly\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleTouchStartDolly( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3: // three-fingered touch: pan\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1: // one-fingered touch: rotate\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2: // two-fingered touch: dolly\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3: // three-fingered touch: pan\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\twindow.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\nexport { OrbitControls };\n\n\n// WEBPACK FOOTER //\n// ./src/controls/OrbitControls.js","import * as THREE from 'three';\r\n\r\n// https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/OBJLoader.js\r\n\r\nconst OBJLoader = function ( manager ) {\r\n\r\n\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\r\n\r\n\tthis.materials = null;\r\n\r\n\tthis.regexp = {\r\n\t\t// v float float float\r\n\t\tvertex_pattern           : /^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\r\n\t\t// vn float float float\r\n\t\tnormal_pattern           : /^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\r\n\t\t// vt float float\r\n\t\tuv_pattern               : /^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,\r\n\t\t// f vertex vertex vertex\r\n\t\tface_vertex              : /^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,\r\n\t\t// f vertex/uv vertex/uv vertex/uv\r\n\t\tface_vertex_uv           : /^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,\r\n\t\t// f vertex/uv/normal vertex/uv/normal vertex/uv/normal\r\n\t\tface_vertex_uv_normal    : /^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,\r\n\t\t// f vertex//normal vertex//normal vertex//normal\r\n\t\tface_vertex_normal       : /^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,\r\n\t\t// o object_name | g group_name\r\n\t\tobject_pattern           : /^[og]\\s*(.+)?/,\r\n\t\t// s boolean\r\n\t\tsmoothing_pattern        : /^s\\s+(\\d+|on|off)/,\r\n\t\t// mtllib file_reference\r\n\t\tmaterial_library_pattern : /^mtllib /,\r\n\t\t// usemtl material_name\r\n\t\tmaterial_use_pattern     : /^usemtl /\r\n\t};\r\n\r\n};\r\n\r\nOBJLoader.prototype = {\r\n\r\n\tconstructor: OBJLoader,\r\n\r\n\tload: function ( url, onLoad, onProgress, onError ) {\r\n\r\n\t\tvar scope = this;\r\n\r\n\t\tvar loader = new THREE.FileLoader( scope.manager );\r\n\t\tloader.setPath( this.path );\r\n\t\tloader.load( url, function ( text ) {\r\n\r\n\t\t\tonLoad( scope.parse( text ) );\r\n\r\n\t\t}, onProgress, onError );\r\n\r\n\t},\r\n\r\n\tsetPath: function ( value ) {\r\n\r\n\t\tthis.path = value;\r\n\r\n\t},\r\n\r\n\tsetMaterials: function ( materials ) {\r\n\r\n\t\tthis.materials = materials;\r\n\r\n\t},\r\n\r\n\t_createParserState : function () {\r\n\r\n\t\tvar state = {\r\n\t\t\tobjects  : [],\r\n\t\t\tobject   : {},\r\n\r\n\t\t\tvertices : [],\r\n\t\t\tnormals  : [],\r\n\t\t\tuvs      : [],\r\n\r\n\t\t\tmaterialLibraries : [],\r\n\r\n\t\t\tstartObject: function ( name, fromDeclaration ) {\r\n\r\n\t\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\r\n\t\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\r\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\r\n\r\n\t\t\t\t\tthis.object.name = name;\r\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.object = {\r\n\t\t\t\t\tname : name || '',\r\n\t\t\t\t\tfromDeclaration : ( fromDeclaration !== false ),\r\n\r\n\t\t\t\t\tgeometry : {\r\n\t\t\t\t\t\tvertices : [],\r\n\t\t\t\t\t\tnormals  : [],\r\n\t\t\t\t\t\tuvs      : []\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmaterials : [],\r\n\t\t\t\t\tsmooth : true,\r\n\r\n\t\t\t\t\tstartMaterial : function( name, libraries ) {\r\n\r\n\t\t\t\t\t\tvar previous = this._finalize( false );\r\n\r\n\t\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\r\n\t\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\r\n\t\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar material = {\r\n\t\t\t\t\t\t\tindex      : this.materials.length,\r\n\t\t\t\t\t\t\tname       : name || '',\r\n\t\t\t\t\t\t\tmtllib     : ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\r\n\t\t\t\t\t\t\tsmooth     : ( previous !== undefined ? previous.smooth : this.smooth ),\r\n\t\t\t\t\t\t\tgroupStart : ( previous !== undefined ? previous.groupEnd : 0 ),\r\n\t\t\t\t\t\t\tgroupEnd   : -1,\r\n\t\t\t\t\t\t\tgroupCount : -1,\r\n\t\t\t\t\t\t\tinherited  : false,\r\n\r\n\t\t\t\t\t\t\tclone : function( index ) {\r\n\t\t\t\t\t\t\t\tvar cloned = {\r\n\t\t\t\t\t\t\t\t\tindex      : ( typeof index === 'number' ? index : this.index ),\r\n\t\t\t\t\t\t\t\t\tname       : this.name,\r\n\t\t\t\t\t\t\t\t\tmtllib     : this.mtllib,\r\n\t\t\t\t\t\t\t\t\tsmooth     : this.smooth,\r\n\t\t\t\t\t\t\t\t\tgroupStart : 0,\r\n\t\t\t\t\t\t\t\t\tgroupEnd   : -1,\r\n\t\t\t\t\t\t\t\t\tgroupCount : -1,\r\n\t\t\t\t\t\t\t\t\tinherited  : false\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tcloned.clone = this.clone.bind(cloned);\r\n\t\t\t\t\t\t\t\treturn cloned;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.materials.push( material );\r\n\r\n\t\t\t\t\t\treturn material;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcurrentMaterial : function() {\r\n\r\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\r\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t_finalize : function( end ) {\r\n\r\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\r\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === -1 ) {\r\n\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\r\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\r\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\r\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\r\n\r\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi-- ) {\r\n\t\t\t\t\t\t\t\tif ( this.materials[mi].groupCount <= 0 ) {\r\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\r\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\r\n\r\n\t\t\t\t\t\t\tthis.materials.push({\r\n\t\t\t\t\t\t\t\tname   : '',\r\n\t\t\t\t\t\t\t\tsmooth : this.smooth\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn lastMultiMaterial;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Inherit previous objects material.\r\n\t\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\r\n\t\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\r\n\t\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\r\n\t\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\r\n\r\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === \"function\" ) {\r\n\r\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\r\n\t\t\t\t\tdeclared.inherited = true;\r\n\t\t\t\t\tthis.object.materials.push( declared );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.objects.push( this.object );\r\n\r\n\t\t\t},\r\n\r\n\t\t\tfinalize : function() {\r\n\r\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\r\n\r\n\t\t\t\t\tthis.object._finalize( true );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseVertexIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseNormalIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tparseUVIndex: function ( value, len ) {\r\n\r\n\t\t\t\tvar index = parseInt( value, 10 );\r\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertex: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ] );\r\n\t\t\t\tdst.push( src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ] );\r\n\t\t\t\tdst.push( src[ c + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddVertexLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.vertices;\r\n\t\t\t\tvar dst = this.object.geometry.vertices;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ a + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddNormal : function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.normals;\r\n\t\t\t\tvar dst = this.object.geometry.normals;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ a + 2 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ] );\r\n\t\t\t\tdst.push( src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 2 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ] );\r\n\t\t\t\tdst.push( src[ c + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 2 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUV: function ( a, b, c ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\t\t\t\tdst.push( src[ b + 0 ] );\r\n\t\t\t\tdst.push( src[ b + 1 ] );\r\n\t\t\t\tdst.push( src[ c + 0 ] );\r\n\t\t\t\tdst.push( src[ c + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddUVLine: function ( a ) {\r\n\r\n\t\t\t\tvar src = this.uvs;\r\n\t\t\t\tvar dst = this.object.geometry.uvs;\r\n\r\n\t\t\t\tdst.push( src[ a + 0 ] );\r\n\t\t\t\tdst.push( src[ a + 1 ] );\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddFace: function ( a, b, c, d, ua, ub, uc, ud, na, nb, nc, nd ) {\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\r\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\r\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\r\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\r\n\t\t\t\tvar id;\r\n\r\n\t\t\t\tif ( d === undefined ) {\r\n\r\n\t\t\t\t\tthis.addVertex( ia, ib, ic );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tid = this.parseVertexIndex( d, vLen );\r\n\r\n\t\t\t\t\tthis.addVertex( ia, ib, id );\r\n\t\t\t\t\tthis.addVertex( ib, ic, id );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ua !== undefined ) {\r\n\r\n\t\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\t\tia = this.parseUVIndex( ua, uvLen );\r\n\t\t\t\t\tib = this.parseUVIndex( ub, uvLen );\r\n\t\t\t\t\tic = this.parseUVIndex( uc, uvLen );\r\n\r\n\t\t\t\t\tif ( d === undefined ) {\r\n\r\n\t\t\t\t\t\tthis.addUV( ia, ib, ic );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tid = this.parseUVIndex( ud, uvLen );\r\n\r\n\t\t\t\t\t\tthis.addUV( ia, ib, id );\r\n\t\t\t\t\t\tthis.addUV( ib, ic, id );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( na !== undefined ) {\r\n\r\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\r\n\t\t\t\t\tvar nLen = this.normals.length;\r\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\r\n\r\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\r\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\r\n\r\n\t\t\t\t\tif ( d === undefined ) {\r\n\r\n\t\t\t\t\t\tthis.addNormal( ia, ib, ic );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tid = this.parseNormalIndex( nd, nLen );\r\n\r\n\t\t\t\t\t\tthis.addNormal( ia, ib, id );\r\n\t\t\t\t\t\tthis.addNormal( ib, ic, id );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\taddLineGeometry: function ( vertices, uvs ) {\r\n\r\n\t\t\t\tthis.object.geometry.type = 'Line';\r\n\r\n\t\t\t\tvar vLen = this.vertices.length;\r\n\t\t\t\tvar uvLen = this.uvs.length;\r\n\r\n\t\t\t\tfor ( var vi = 0, l = vertices.length; vi < l; vi ++ ) {\r\n\r\n\t\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( var uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\r\n\r\n\t\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tstate.startObject( '', false );\r\n\r\n\t\treturn state;\r\n\r\n\t},\r\n\r\n\tparse: function ( text ) {\r\n\r\n\t\tconsole.time( 'OBJLoader' );\r\n\r\n\t\tvar state = this._createParserState();\r\n\r\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\r\n\r\n\t\t\t// This is faster than String.split with regex that splits on both\r\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\r\n\r\n\t\t}\r\n\r\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1) {\r\n\r\n\t\t\t// join lines separated by a line continuation character (\\)\r\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\r\n\r\n\t\t}\r\n\r\n\t\tvar lines = text.split( '\\n' );\r\n\t\tvar line = '', lineFirstChar = '', lineSecondChar = '';\r\n\t\tvar lineLength = 0;\r\n\t\tvar result = [];\r\n\r\n\t\t// Faster to just trim left side of the line. Use if available.\r\n\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\r\n\r\n\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\r\n\r\n\t\t\tline = lines[ i ];\r\n\r\n\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\r\n\r\n\t\t\tlineLength = line.length;\r\n\r\n\t\t\tif ( lineLength === 0 ) continue;\r\n\r\n\t\t\tlineFirstChar = line.charAt( 0 );\r\n\r\n\t\t\t// @todo invoke passed in handler if any\r\n\t\t\tif ( lineFirstChar === '#' ) continue;\r\n\r\n\t\t\tif ( lineFirstChar === 'v' ) {\r\n\r\n\t\t\t\tlineSecondChar = line.charAt( 1 );\r\n\r\n\t\t\t\tif ( lineSecondChar === ' ' && ( result = this.regexp.vertex_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// 0                  1      2      3\r\n\t\t\t\t\t// [\"v 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\r\n\r\n\t\t\t\t\tstate.vertices.push(\r\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 2 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 3 ] )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( lineSecondChar === 'n' && ( result = this.regexp.normal_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// 0                   1      2      3\r\n\t\t\t\t\t// [\"vn 1.0 2.0 3.0\", \"1.0\", \"2.0\", \"3.0\"]\r\n\r\n\t\t\t\t\tstate.normals.push(\r\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 2 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 3 ] )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( lineSecondChar === 't' && ( result = this.regexp.uv_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// 0               1      2\r\n\t\t\t\t\t// [\"vt 0.1 0.2\", \"0.1\", \"0.2\"]\r\n\r\n\t\t\t\t\tstate.uvs.push(\r\n\t\t\t\t\t\tparseFloat( result[ 1 ] ),\r\n\t\t\t\t\t\tparseFloat( result[ 2 ] )\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( \"Unexpected vertex/normal/uv line: '\" + line  + \"'\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( lineFirstChar === \"f\" ) {\r\n\r\n\t\t\t\tif ( ( result = this.regexp.face_vertex_uv_normal.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex/uv/normal vertex/uv/normal vertex/uv/normal\r\n\t\t\t\t\t// 0                        1    2    3    4    5    6    7    8    9   10         11         12\r\n\t\t\t\t\t// [\"f 1/1/1 2/2/2 3/3/3\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"3\", \"3\", \"3\", undefined, undefined, undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 4 ], result[ 7 ], result[ 10 ],\r\n\t\t\t\t\t\tresult[ 2 ], result[ 5 ], result[ 8 ], result[ 11 ],\r\n\t\t\t\t\t\tresult[ 3 ], result[ 6 ], result[ 9 ], result[ 12 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( ( result = this.regexp.face_vertex_uv.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex/uv vertex/uv vertex/uv\r\n\t\t\t\t\t// 0                  1    2    3    4    5    6   7          8\r\n\t\t\t\t\t// [\"f 1/1 2/2 3/3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 3 ], result[ 5 ], result[ 7 ],\r\n\t\t\t\t\t\tresult[ 2 ], result[ 4 ], result[ 6 ], result[ 8 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( ( result = this.regexp.face_vertex_normal.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex//normal vertex//normal vertex//normal\r\n\t\t\t\t\t// 0                     1    2    3    4    5    6   7          8\r\n\t\t\t\t\t// [\"f 1//1 2//2 3//3\", \"1\", \"1\", \"2\", \"2\", \"3\", \"3\", undefined, undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 3 ], result[ 5 ], result[ 7 ],\r\n\t\t\t\t\t\tundefined, undefined, undefined, undefined,\r\n\t\t\t\t\t\tresult[ 2 ], result[ 4 ], result[ 6 ], result[ 8 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else if ( ( result = this.regexp.face_vertex.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t\t// f vertex vertex vertex\r\n\t\t\t\t\t// 0            1    2    3   4\r\n\t\t\t\t\t// [\"f 1 2 3\", \"1\", \"2\", \"3\", undefined]\r\n\r\n\t\t\t\t\tstate.addFace(\r\n\t\t\t\t\t\tresult[ 1 ], result[ 2 ], result[ 3 ], result[ 4 ]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tthrow new Error( \"Unexpected face line: '\" + line  + \"'\" );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( lineFirstChar === \"l\" ) {\r\n\r\n\t\t\t\tvar lineParts = line.substring( 1 ).trim().split( \" \" );\r\n\t\t\t\tvar lineVertices = [], lineUVs = [];\r\n\r\n\t\t\t\tif ( line.indexOf( \"/\" ) === - 1 ) {\r\n\r\n\t\t\t\t\tlineVertices = lineParts;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor ( var li = 0, llen = lineParts.length; li < llen; li ++ ) {\r\n\r\n\t\t\t\t\t\tvar parts = lineParts[ li ].split( \"/\" );\r\n\r\n\t\t\t\t\t\tif ( parts[ 0 ] !== \"\" ) lineVertices.push( parts[ 0 ] );\r\n\t\t\t\t\t\tif ( parts[ 1 ] !== \"\" ) lineUVs.push( parts[ 1 ] );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\r\n\r\n\t\t\t} else if ( ( result = this.regexp.object_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t// o object_name\r\n\t\t\t\t// or\r\n\t\t\t\t// g group_name\r\n\r\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\r\n\t\t\t\t// var name = result[ 0 ].substr( 1 ).trim();\r\n\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\r\n\r\n\t\t\t\tstate.startObject( name );\r\n\r\n\t\t\t} else if ( this.regexp.material_use_pattern.test( line ) ) {\r\n\r\n\t\t\t\t// material\r\n\r\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\r\n\r\n\t\t\t} else if ( this.regexp.material_library_pattern.test( line ) ) {\r\n\r\n\t\t\t\t// mtl file\r\n\r\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\r\n\r\n\t\t\t} else if ( ( result = this.regexp.smoothing_pattern.exec( line ) ) !== null ) {\r\n\r\n\t\t\t\t// smooth shading\r\n\r\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\r\n\t\t\t\t// but does not define a usemtl for each face set.\r\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\r\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\r\n\t\t\t\t// where explicit usemtl defines geometry groups.\r\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\r\n\r\n\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\r\n\t\t\t\tstate.object.smooth = ( value === '1' || value === 'on' );\r\n\r\n\t\t\t\tvar material = state.object.currentMaterial();\r\n\t\t\t\tif ( material ) {\r\n\r\n\t\t\t\t\tmaterial.smooth = state.object.smooth;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Handle null terminated files without exception\r\n\t\t\t\tif ( line === '\\0' ) continue;\r\n\r\n\t\t\t\tthrow new Error( \"Unexpected line: '\" + line  + \"'\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tstate.finalize();\r\n\r\n\t\tvar container = new THREE.Group();\r\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\r\n\r\n\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\r\n\r\n\t\t\tvar object = state.objects[ i ];\r\n\t\t\tvar geometry = object.geometry;\r\n\t\t\tvar materials = object.materials;\r\n\t\t\tvar isLine = ( geometry.type === 'Line' );\r\n\r\n\t\t\t// Skip o/g line declarations that did not follow with any faces\r\n\t\t\tif ( geometry.vertices.length === 0 ) continue;\r\n\r\n\t\t\tvar buffergeometry = new THREE.BufferGeometry();\r\n\r\n\t\t\tbuffergeometry.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( geometry.vertices ), 3 ) );\r\n\r\n\t\t\tif ( geometry.normals.length > 0 ) {\r\n\r\n\t\t\t\tbuffergeometry.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( geometry.normals ), 3 ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuffergeometry.computeVertexNormals();\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( geometry.uvs.length > 0 ) {\r\n\r\n\t\t\t\tbuffergeometry.addAttribute( 'uv', new THREE.BufferAttribute( new Float32Array( geometry.uvs ), 2 ) );\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Create materials\r\n\r\n\t\t\tvar createdMaterials = [];\r\n\r\n\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen ; mi++ ) {\r\n\r\n\t\t\t\tvar sourceMaterial = materials[mi];\r\n\t\t\t\tvar material = undefined;\r\n\r\n\t\t\t\tif ( this.materials !== null ) {\r\n\r\n\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\r\n\r\n\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\r\n\t\t\t\t\tif ( isLine && material && ! ( material instanceof THREE.LineBasicMaterial ) ) {\r\n\r\n\t\t\t\t\t\tvar materialLine = new THREE.LineBasicMaterial();\r\n\t\t\t\t\t\tmaterialLine.copy( material );\r\n\t\t\t\t\t\tmaterial = materialLine;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( ! material ) {\r\n\r\n\t\t\t\t\tmaterial = ( ! isLine ? new THREE.MeshPhongMaterial() : new THREE.LineBasicMaterial() );\r\n\t\t\t\t\tmaterial.name = sourceMaterial.name;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmaterial.shading = sourceMaterial.smooth ? THREE.SmoothShading : THREE.FlatShading;\r\n\r\n\t\t\t\tcreatedMaterials.push(material);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Create mesh\r\n\r\n\t\t\tvar mesh;\r\n\r\n\t\t\tif ( createdMaterials.length > 1 ) {\r\n\r\n\t\t\t\tfor ( var mi = 0, miLen = materials.length; mi < miLen ; mi++ ) {\r\n\r\n\t\t\t\t\tvar sourceMaterial = materials[mi];\r\n\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmesh = ( ! isLine ? new THREE.Mesh( buffergeometry, createdMaterials ) : new THREE.LineSegments( buffergeometry, createdMaterials ) );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tmesh = ( ! isLine ? new THREE.Mesh( buffergeometry, createdMaterials[ 0 ] ) : new THREE.LineSegments( buffergeometry, createdMaterials[ 0 ] ) );\r\n\t\t\t}\r\n\r\n\t\t\tmesh.name = object.name;\r\n\r\n\t\t\tcontainer.add( mesh );\r\n\r\n\t\t}\r\n\r\n\t\tconsole.timeEnd( 'OBJLoader' );\r\n\r\n\t\treturn container;\r\n\r\n\t}\r\n\r\n};\r\n\r\nexport { OBJLoader };\n\n\n// WEBPACK FOOTER //\n// ./src/loaders/OBJLoader.js","import {\r\n    Object3D,\r\n    Vector2,\r\n    Vector3,\r\n    Color,\r\n    Scene,\r\n    Raycaster,\r\n    WebGLRenderer,\r\n    PerspectiveCamera,\r\n    AmbientLight,\r\n    HemisphereLight,\r\n    DirectionalLight\r\n} from 'three'\r\nimport { getSize, getCenter } from './util'\r\nimport { OrbitControls } from './controls/OrbitControls'\r\n\r\nexport default {\r\n    props: {\r\n        src: {\r\n            type: String\r\n        },\r\n        width: {\r\n            type: Number\r\n        },\r\n        height: {\r\n            type: Number\r\n        },\r\n        position: {\r\n            type: Object,\r\n            default () {\r\n                return { x: 0, y: 0, z: 0 }\r\n            }\r\n        },\r\n        rotation: {\r\n            type: Object,\r\n            default () {\r\n                return { x: 0, y: 0, z: 0 }\r\n            }\r\n        },\r\n        scale: {\r\n            type: Object,\r\n            default () {\r\n                return { x: 1, y: 1, z: 1 }\r\n            }\r\n        },\r\n        lights: {\r\n            type: Array,\r\n            default () {\r\n                return [];\r\n            }\r\n        },\r\n        cameraPosition: {\r\n            type: Object\r\n        },\r\n        cameraRotation: {\r\n            type: Object\r\n        },\r\n        cameraUp: {\r\n            type: Object\r\n        },\r\n        cameraLookAt: {\r\n            type: Object\r\n        },\r\n        backgroundColor: {\r\n            default: 0xffffff\r\n        },\r\n        backgroundAlpha: {\r\n            type: Number,\r\n            default: 1\r\n        },\r\n        controllable: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            size: {\r\n                width: this.width,\r\n                height: this.height\r\n            },\r\n            object: null,\r\n            raycaster: new Raycaster(),\r\n            mouse: new Vector2(),\r\n            camera: new PerspectiveCamera( 45, 1, 0.001, 100000 ),\r\n            scene: new Scene(),\r\n            renderer: null,\r\n            controls: null,\r\n            allLights: [],\r\n            renderHandler: null\r\n        }\r\n    },\r\n    computed: {\r\n        styleObj () {\r\n            return {\r\n                width: this.width !== undefined ? this.width + 'px' : '100%',\r\n                height: this.height !== undefined ? this.height + 'px' : '100%',\r\n            }\r\n        }\r\n    },\r\n    created () {\r\n        if ( window ) {\r\n            window.addEventListener( 'resize', this.onResize, false );\r\n        }\r\n    },\r\n    mounted () {\r\n\r\n        if ( this.width === undefined || this.height === undefined ) {\r\n            this.size = {\r\n                width: this.$el.offsetWidth,\r\n                height: this.$el.offsetHeight\r\n            }\r\n        }\r\n\r\n        this.renderer = new WebGLRenderer( { antialias: true, alpha: true, canvas: this.$el } )\r\n        this.renderer.shadowMap.enabled = true;\r\n\r\n        this.load();\r\n        this.update();\r\n\r\n        this.$el.addEventListener( 'mousedown', this.onMouseDown, false );\r\n        this.$el.addEventListener( 'mousemove', this.onMouseMove, false );\r\n        this.$el.addEventListener( 'mouseup', this.onMouseUp, false );\r\n        this.$el.addEventListener( 'click', this.onClick, false );\r\n    },\r\n    beforeDestroy () {\r\n\r\n        this.$el.removeEventListener( 'mousedown', this.onMouseDown, false );\r\n        this.$el.removeEventListener( 'mousemove', this.onMouseMove, false );\r\n        this.$el.removeEventListener( 'mouseup', this.onMouseUp, false );\r\n        this.$el.removeEventListener( 'click', this.onClick, false );\r\n\r\n    },\r\n    watch: {\r\n        src () {\r\n            this.load();\r\n        },\r\n        object () {\r\n            this.render();\r\n        },\r\n        lights: {\r\n            deep: true,\r\n            handler( val, oldVal ) {\r\n                this.updateLights();\r\n            }\r\n        },\r\n        size: {\r\n            deep: true,\r\n            handler ( val ) {\r\n                this.updateCamera();\r\n                this.updateRenderer();\r\n            }\r\n        },\r\n        controllable () {\r\n            this.updateControls();\r\n        }\r\n    },\r\n    methods: {\r\n        onResize () {\r\n\r\n            if ( this.width === undefined || this.height === undefined ) {\r\n\r\n                this.$nextTick( () => {\r\n                    this.size = {\r\n                        width: this.$el.offsetWidth,\r\n                        height: this.$el.offsetHeight\r\n                    }\r\n                } )\r\n                \r\n            }\r\n        },\r\n        onMouseDown ( event ) {\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-mousedown', intersected );\r\n\r\n        },\r\n        onMouseMove ( event ) {\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-mousemove', intersected );\r\n\r\n        },\r\n        onMouseUp ( event ) {\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-mouseup', intersected );\r\n\r\n        },\r\n        onClick ( event ) {\r\n\r\n            const intersected = this.pick( event.clientX, event.clientY );\r\n            this.$emit( 'on-click', intersected );\r\n\r\n        },\r\n        pick ( x, y ) {\r\n\r\n            if ( !this.object ) return;\r\n\r\n            const rect = this.$el.getBoundingClientRect();\r\n\r\n            x -= rect.left;\r\n            y -= rect.top;\r\n\r\n            this.mouse.x = ( x / this.size.width ) * 2 - 1;\r\n            this.mouse.y = - ( y / this.size.height ) * 2 + 1;\r\n\r\n            this.raycaster.setFromCamera( this.mouse, this.camera );\r\n\r\n            const intersects = this.raycaster.intersectObject( this.object, true );\r\n\r\n            return ( intersects && intersects.length ) > 0 ? intersects[ 0 ] : null;\r\n\r\n        },\r\n        update () {\r\n\r\n            this.updateRenderer();\r\n            this.updateModel();\r\n            this.updateCamera();\r\n            this.updateLights();\r\n            this.updateControls();\r\n\r\n            this.render();\r\n            \r\n        },\r\n        updateModel () {\r\n\r\n            let object = this.object;\r\n\r\n            if ( !object ) return;\r\n\r\n            object.position.copy( this.position );\r\n            object.rotation.copy( this.rotation );\r\n            object.scale.copy( this.scale );\r\n\r\n        },\r\n        updateRenderer () {\r\n\r\n            let renderer = this.renderer;\r\n\r\n            renderer.setSize( this.size.width, this.size.height );\r\n            renderer.setPixelRatio( window.devicePixelRatio || 1 );\r\n            // renderer.setClearColor( new Color( this.backgroundColor ).getHex() );\r\n            renderer.setClearAlpha( this.backgroundAlpha );\r\n        },\r\n        updateCamera () {\r\n\r\n            let camera = this.camera;\r\n            let object = this.object;\r\n\r\n            let distance = 0;\r\n            let center = null;\r\n\r\n            camera.aspect = this.size.width / this.size.height;\r\n            camera.updateProjectionMatrix();\r\n\r\n            if ( !this.cameraLookAt && !this.cameraPosition && !this.cameraRotation && !this.cameraUp ) {\r\n\r\n                if ( !object ) return;\r\n\r\n                distance = getSize( object ).length();\r\n                center = getCenter( object );\r\n\r\n                camera.position.set( 0, 0, 0 );\r\n                camera.position.z = distance;\r\n                camera.position.add( center );\r\n                camera.lookAt( center );\r\n\r\n            } else {\r\n                // TODO\r\n            }\r\n\r\n            if ( this.controls ) this.controls.target.copy( center );\r\n\r\n        },\r\n        updateLights () {\r\n\r\n            this.scene.remove.apply( this.scene, this.allLights );\r\n\r\n            this.allLights = [];\r\n\r\n            this.lights.forEach( item => {\r\n\r\n                if ( !item.type ) return;\r\n\r\n                const type = item.type.toLowerCase();\r\n\r\n                let light = null;\r\n\r\n                if ( type === 'ambient' || type === 'ambientlight' ) {\r\n\r\n                    const color = item.color || 0x404040;\r\n                    const intensity = item.intensity || 1;\r\n\r\n                    light = new AmbientLight( color, intensity );\r\n\r\n                } else if ( type === 'point' || type === 'pointlight' ) {\r\n\r\n                    const color = item.color || 0xffffff;\r\n                    const intensity = item.intensity || 1;\r\n                    const distance = item.distance || 0;\r\n                    const decay = item.decay || 1;\r\n\r\n                    light = new PointLight( color, intensity, distance, decay );\r\n\r\n                    if ( item.position ) {\r\n                        light.position.copy( item.position );\r\n                    }\r\n\r\n                } else if ( type === 'directional' || type === 'directionallight' ) {\r\n\r\n                    const color = item.color || 0xffffff;\r\n                    const intensity = item.intensity || 1;\r\n\r\n                    light = new DirectionalLight( color, intensity );\r\n\r\n                    if ( item.position ) {\r\n                        light.position.copy( item.position );\r\n                    }\r\n\r\n                    if ( item.target ) {\r\n                        light.target.copy( item.target );\r\n                    }\r\n\r\n                } else if ( type === 'hemisphere' || type === 'hemispherelight' ) {\r\n\r\n                    const skyColor = item.skyColor || 0xffffff;\r\n                    const groundColor = item.groundColor || 0xffffff;\r\n                    const intensity = item.intensity || 1;\r\n\r\n                    light = new HemisphereLight( skyColor, groundColor, intensity );\r\n\r\n                    if ( item.position ) {\r\n                        light.position.copy( item.position );\r\n                    }\r\n\r\n                }\r\n\r\n                this.allLights.push( light );\r\n                this.scene.add( light );\r\n\r\n            } )\r\n\r\n        },\r\n        updateControls () {\r\n\r\n            if ( this.controllable && this.controls ) reutrn;\r\n\r\n            if ( this.controllable ) {\r\n\r\n                if ( this.controls ) return;\r\n\r\n                this.controls = new OrbitControls( this.camera, this.$el );\r\n                this.controls.addEventListener( 'change', this.render, false );\r\n                this.controls.type = 'orbit';\r\n\r\n            } else {\r\n\r\n                if ( this.controls ) {\r\n\r\n                    this.controls.dispose();\r\n                    this.controls = null;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n        load () {\r\n\r\n            if ( !this.src ) return;\r\n\r\n            if ( this.object ) {\r\n                this.scene.remove( this.object );\r\n            }\r\n\r\n            this.loader.load( this.src, object => {\r\n\r\n                this.object = object;\r\n\r\n                this.scene.add( this.object );\r\n\r\n                this.updateCamera();\r\n\r\n            } );\r\n\r\n        },\r\n        animate () {\r\n            requestAnimationFrame( this.animate );\r\n            this.render();\r\n        },\r\n        immediateRender () {\r\n            this.renderer.render( this.scene, this.camera );\r\n        },\r\n        render () {\r\n            cancelAnimationFrame( this.renderHandler );\r\n            this.renderHandler = requestAnimationFrame( this.immediateRender );\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model-mixin.js"],"sourceRoot":""}