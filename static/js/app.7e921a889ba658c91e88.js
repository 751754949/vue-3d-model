webpackJsonp([1],[,,function(e,t,n){n(44);var o=n(0)(n(76),n(38),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(84),null,null,null);e.exports=o.exports},,,,function(e,t,n){var o=n(0)(n(83),n(41),null,null);e.exports=o.exports},,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return s.setFromObject(e),s.getSize()}function i(e){return s.setFromObject(e),s.getCenter()}function r(e){function t(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}var n,o=e.getAttribute("position").array,i=void 0!==e.getAttribute("uv");i&&(n=e.getAttribute("uv").array);var r,s=void 0!==e.getAttribute("normal");s&&(r=e.getAttribute("normal").array);for(var l,c,d,u,h=[],p=[],m=[],f=[],b=new a.g,v=new a.g,g=new a.g,x=new a.g,y=new a.g,w=new a.g,j=new a.i,k=new a.i,_=new a.i,C=0;C<o.length;C+=9)b.x=o[C],b.y=o[C+1],b.z=o[C+2],v.x=o[C+3],v.y=o[C+4],v.z=o[C+5],g.x=o[C+6],g.y=o[C+7],g.z=o[C+8],l=[b,v,g],s&&(x.x=r[C],x.y=r[C+1],x.z=r[C+2],y.x=r[C+3],y.y=r[C+4],y.z=r[C+5],w.x=r[C+6],w.y=r[C+7],w.z=r[C+8],c=[x,y,w]),i&&(j.x=n[C],j.y=n[C+1],k.x=n[C+2],k.y=n[C+3],_.x=n[C+4],_.y=n[C+5],d=[j,k,_]),u=[],l.forEach(function(e,n){var o=t(e,p);-1==o&&(o=p.length,p.push(e.clone()),s&&m.push(c[n].clone()),i&&f.push(d[n].clone())),u.push(o)}),h.push(u[0],u[1],u[2]);var E=new Float32Array(3*p.length);if(s)var A=new Float32Array(3*p.length);if(i)var M=new Float32Array(2*p.length);var L=0,O=0;for(C=0;C<p.length;C++)O=3*C,E[O]=p[C].x,E[O+1]=p[C].y,E[O+2]=p[C].z,s&&(A[O]=m[C].x,A[O+1]=m[C].y,A[O+2]=m[C].z),i&&(L=2*C,M[L]=f[C].x,M[L+1]=f[C].y);return e.addAttribute("position",new a.f(E,3)),s&&e.addAttribute("normal",new a.f(A,3)),i&&e.addAttribute("uv",new a.f(M,2)),e.setIndex(new a.f(new Uint32Array(h),1)),e}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r});var a=n(1),s=new a.v},function(e,t,n){n(45);var o=n(0)(n(75),n(40),null,null);e.exports=o.exports},function(e,t,n){"use strict";var o=n(11),i=n(71),r=n(27),a=n.n(r),s=n(28),l=n.n(s),c=n(26),d=n.n(c),u=n(30),h=n.n(u),p=n(29),m=n.n(p),f=n(31),b=n.n(f);o.a.use(i.a),t.a=new i.a({routes:[{path:"/demo-basic",name:"demo-basic",component:a.a},{path:"/demo-event",name:"demo-event",component:l.a},{path:"/demo-background",name:"demo-background",component:d.a},{path:"/demo-rotate",name:"demo-rotate",component:h.a},{path:"/demo-obj",name:"demo-obj",component:m.a},{path:"/demo-stl",name:"demo-stl",component:b.a},{path:"*",redirect:"/demo-basic"}]})},function(e,t,n){t=e.exports=n(6)(void 0),t.push([e.i,".background-text{position:absolute;top:50%;left:0;z-index:1;width:100%;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-align:center;font-size:60px}.background-buttons{position:absolute;top:0;left:10px;z-index:3}.background-buttons>p{margin-top:15px;color:#000}.background-buttons>button{background:#fff;padding:4px 6px;margin-top:5px;outline:none;border:1px solid #c4c4c4}.model-box{position:relative;z-index:2}",""])},function(e,t,n){t=e.exports=n(6)(void 0),t.push([e.i,'.demo-block{width:100%;height:100%;background-color:#fff;border-radius:3px}.demo-block .demo-block-preview{width:50%;height:100%;float:left;position:relative}.demo-block .demo-block-code{width:50%;height:100%;background:#f9fafc;border-left:1px solid #dfe2e7;font-family:Menlo,Monaco,Consolas,Courier,monospace;font-size:13px;float:left}.demo-block .demo-block-code .demo-block-code-box{width:100%;height:50%;position:relative;overflow:hidden}.demo-block .demo-block-code-box:after{content:"";display:block;position:absolute;bottom:0;left:0;width:90%;height:1px;background:-webkit-linear-gradient(left,#dfe2e7 80%,rgba(223,226,231,0))}.demo-block .demo-block-code-box h3{width:100%;padding:10px 20px;font-size:16px;font-weight:700;position:absolute}.demo-block .demo-block-code-box-content{position:absolute;top:40px;bottom:10px;left:20px;right:20px;overflow:auto}.demo-block .demo-block-code code{position:absolute;top:0;left:0}.demo-block .demo-block-code .hljs{background:#f9fafc}',""])},function(e,t,n){t=e.exports=n(6)(void 0),t.push([e.i,'*{margin:0;border:0;padding:0;box-sizing:border-box}li,ol,ul{list-style:none}a{color:#657180;text-decoration:none}.examples,body,html{width:100%;height:100%;color:#657180}body{background:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;background:#fff}.examples-header{position:absolute;top:0;width:100%;background:#f3f6fb;text-shadow:0 1px 0 hsla(0,0%,100%,.5);border-bottom:1px solid #dfe2e7;padding:15px 15px 15px 30px;line-height:20px}.examples-header .title{font-weight:700;font-size:18px;display:inline-block}.examples-header .github{color:#39f;display:inline-block;font-size:12px;float:right}.examples-content{width:100%;height:100%;padding-top:52px;overflow:hidden}.examples-menu{float:left;width:230px;height:100%;border-right:1px solid #dfe2e7;padding:10px 30px}.examples-menu .examples-menu-item{display:block;width:100%;height:30px;line-height:30px;font-size:14px;cursor:pointer}.examples-menu .examples-menu-item>a{display:block;width:100%;height:100%}.examples-menu .examples-menu-title{display:block;width:100%;padding:6px 0;margin-top:10px;font-size:14px;font-weight:700}.examples-menu .examples-menu-item:hover>a{color:#39f}.examples-pages{height:100%;overflow:hidden}.example-loading{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.example-loading:before{border-radius:100%;margin:2px;border:3px solid #20a0ff;border-bottom-color:transparent;height:36px;width:36px;-webkit-animation:loading-rotate .75s 0s linear infinite;animation:loading-rotate .75s 0s linear infinite}.example-loading:after,.example-loading:before{content:"";display:inline-block;vertical-align:middle}.example-loading:after{height:100%;width:0}@-webkit-keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}@keyframes loading-rotate{0%{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}50%{-webkit-transform:rotate(180deg) scale(.6);transform:rotate(180deg) scale(.6)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}',""])},function(e,t,n){n(43);var o=n(0)(n(77),n(37),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(78),n(36),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(79),n(42),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(80),n(35),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(81),n(39),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(82),n(34),null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(85),null,null,null);e.exports=o.exports},function(e,t,n){var o=n(0)(n(86),null,null,null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-stl",{attrs:{backgroundAlpha:0,src:"static/models/stl/gear.stl"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{attrs:{backgroundAlpha:0,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-three",{attrs:{backgroundAlpha:0,src:"static/models/json/scene.json"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("p",{staticClass:"background-text"},[e._v("\n            Vue"),n("br"),e._v("3D"),n("br"),e._v("Model"),n("br"),e._v("Background\n        ")]),e._v(" "),n("div",{staticClass:"background-buttons"},[n("p",[e._v("Color")]),e._v(" "),n("button",{on:{click:function(t){e.bgColor="#ff0"}}},[e._v("#ff0")]),e._v(" "),n("button",{on:{click:function(t){e.bgColor="#f00"}}},[e._v("#f00")]),e._v(" "),n("button",{on:{click:function(t){e.bgColor="#13ce66"}}},[e._v("#13ce66")]),e._v(" "),n("p",[e._v("Alpha")]),e._v(" "),n("button",{on:{click:function(t){e.bgAlpha=.5}}},[e._v("0.5")]),e._v(" "),n("button",{on:{click:function(t){e.bgAlpha=1}}},[e._v("1")]),e._v(" "),n("button",{on:{click:function(t){e.bgAlpha=0}}},[e._v("0")])]),e._v(" "),n("model-obj",{staticClass:"model-box",attrs:{backgroundAlpha:e.bgAlpha,backgroundColor:e.bgColor,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-block"},[n("div",{staticClass:"demo-block-preview"},[e._t("preview")],2),e._v(" "),n("div",{staticClass:"demo-block-code"},[n("div",{staticClass:"demo-block-code-box"},[n("h3",[e._v("Vue Component & Webpack")]),e._v(" "),n("div",{staticClass:"demo-block-code-box-content"},[n("pre",[e._v("\n                    "),n("code",{ref:"vueCode",staticClass:"html"},[e._v(e._s(e._f("code")(e.vueCode)))]),e._v("\n                ")])])]),e._v(" "),n("div",{staticClass:"demo-block-code-box"},[n("h3",[e._v("HTML & JS")]),e._v(" "),n("div",{staticClass:"demo-block-code-box-content"},[n("pre",[e._v("\n                    "),n("code",{ref:"htmlCode",staticClass:"html"},[e._v(e._s(e._f("code")(e.htmlCode)))]),e._v("\n                ")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{attrs:{backgroundAlpha:0,rotation:e.rotation,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examples"},[e._m(0),e._v(" "),n("div",{staticClass:"examples-content"},[n("ul",{staticClass:"examples-menu"},[n("li",{staticClass:"examples-menu-title"},[e._v("Examples")]),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-basic"}},[e._v("Basic")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-rotate"}},[e._v("rotate")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-background"}},[e._v("background")])],1),e._v(" "),n("li",{staticClass:"examples-menu-title"},[e._v("Events")]),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-event"}},[e._v("mousemove")])],1),e._v(" "),n("li",{staticClass:"examples-menu-title"},[e._v("Model Formats")]),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-basic"}},[e._v("JSON Model (.json)")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-obj"}},[e._v("OBJ Model (.obj)")])],1),e._v(" "),n("li",{staticClass:"examples-menu-item"},[n("router-link",{attrs:{to:"demo-stl"}},[e._v("STL Model (.stl)")])],1)]),e._v(" "),n("div",{staticClass:"examples-pages"},[n("router-view")],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examples-header"},[n("a",{staticClass:"title",attrs:{href:"https://github.com/hujiulong/vue-3d-model"}},[e._v("Vue3DModel")]),e._v(" "),n("a",{staticClass:"github",attrs:{href:"https://github.com/hujiulong/vue-3d-model"}},[e._v("View on GitHub")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%",margin:"0",border:"0",padding:"0"}},[e.suportWebGL?n("canvas",{ref:"canvas",staticStyle:{width:"100%",height:"100%"}}):n("div",[e._t("default",[e._v("\n            Your browser does not seem to support "),n("a",{staticStyle:{color:"#000"},attrs:{href:"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation"}},[e._v("WebGL")]),e._v("."),n("br"),e._v("'\n        ")])],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("demo-block",{attrs:{"vue-code":e.code,"html-code":e.htmlCode}},[n("template",{slot:"preview"},[n("model-obj",{ref:"model",attrs:{backgroundAlpha:0,src:"static/models/obj/tree.obj"},on:{"on-load":e.onLoad,"on-mousemove":e.onMouseMove}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"example-loading"})],1)],2)},staticRenderFns:[]}},function(e,t,n){var o=n(23);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(8)("6e88b5b7",o,!0)},function(e,t,n){var o=n(24);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(8)("3bd70d8a",o,!0)},function(e,t,n){var o=n(25);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(8)("12d3a60f",o,!0)},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(21),r=n.n(i),a=n(22);new o.a({el:"#app",router:a.a,render:function(e){return e(r.a)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),i=(n.n(o),n(91)),r=n.n(i),a=function(e){return e.replace(/#scripts#/gi,'<script src="vue.js"><\/script>\n    <script src="vue-3d-model.min.js"><\/script>')};t.default={name:"app",props:{vueCode:String,htmlCode:{type:String,default:"// TODO"}},mounted:function(){r.a.highlightBlock(this.$refs.vueCode),r.a.highlightBlock(this.$refs.htmlCode)},data:function(){return{}},filters:{code:function(e){return a(e)}},components:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),r=n(3),a=n.n(r);t.default={name:"demo-background",data:function(){return{code:'\n<template>\n    <p class="background-text">\n        Vue<br>3D<br>Model<br>Background\n    </p>\n    <div class="background-buttons">\n        <p>Color</p>\n        <button @click="bgColor = \'#ff0\'">#ff0</button>\n        <button @click="bgColor = \'#f00\'">#f00</button>\n        <button @click="bgColor = \'#13ce66\'">#13ce66</button>\n        <p>Alpha</p>\n        <button @click="bgAlpha = 0.5">0.5</button>\n        <button @click="bgAlpha = 1">1</button>\n        <button @click="bgAlpha = 0">0</button>\n    </div>\n    <model-obj\n        :backgroundAlpha="bgAlpha"\n        :backgroundColor="bgColor"\n        src="static/models/obj/tree.obj"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from \'vue-3d-model\'\n\n    export default {\n        data () {\n            return {\n                bgColor: \'#ff0\',\n                bgAlpha: 0.5\n            }\n        },\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n',htmlCode:'\n<body>\n    <div id="app">\n        <p class="background-text">\n            Vue<br>3D<br>Model<br>Background\n        </p>\n        <div class="background-buttons">\n            <p>Color</p>\n            <button @click="bgColor = \'#ff0\'">#ff0</button>\n            <button @click="bgColor = \'#f00\'">#f00</button>\n            <button @click="bgColor = \'#13ce66\'">#13ce66</button>\n            <p>Alpha</p>\n            <button @click="bgAlpha = 0.5">0.5</button>\n            <button @click="bgAlpha = 1">1</button>\n            <button @click="bgAlpha = 0">0</button>\n        </div>\n        <model-obj\n            :backgroundAlpha="bgAlpha"\n            :backgroundColor="bgColor"\n            src="static/models/obj/tree.obj"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\',\n            data: {\n                bgColor: \'#ff0\',\n                bgAlpha: 0.5\n            }\n        })\n    <\/script>\n</body>\n',loading:!0,bgColor:"#ff0",bgAlpha:.5}},methods:{onLoad:function(){this.loading=!1},setBackground:function(e,t){}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),r=n(33),a=n.n(r);t.default={name:"demo-basic",data:function(){return{code:"\n<template>\n    <model-three src=\"static/models/json/scene.json\"></model-three>\n</template>\n\n<script>\n    import { ModelThree } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelThree\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-three src="static/models/json/scene.json"></model-three>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelThree:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),r=n(3),a=n.n(r);t.default={name:"demo-gltf",data:function(){return{code:"\n\n<template>\n    <model-obj \n        src=\"static/models/obj/tree.obj\"\n        @on-mousemove=\"onMouseMove\">\n    </model-obj>\n</template>\n\n<script>\n    import { ModelObj } from 'vue-3d-model'\n\n    export default {\n        data () {\n            return {\n                intersected: null\n            }\n        },\n        methods: {\n            onMouseMove ( event ) {\n\n                console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\n\n                if ( !event ) {\n\n                    if ( this.intersected ) {\n                        this.intersected.material.color.setStyle( '#fff' );\n                        this.$refs.model.render();  // 当在外部修改模型时，必须调用render，否则不会更新画面\n                    }\n\n                    this.intersected = null;\n                    return;\n                }\n\n                this.intersected = event.object;\n                this.intersected.material.color.setStyle( '#13ce66' );\n                this.$refs.model.render();  // render\n            }\n        },\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n\n",htmlCode:"\n<body>\n    <div id=\"app\">\n        <model-obj \n            src=\"static/models/obj/tree.obj\"\n            @on-mousemove=\"onMouseMove\">\n        </model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: '#app',\n            data: {\n                intersected: null\n            },\n            methods: {\n                onMouseMove ( event ) {\n\n                    console.log( event );   // event: { distance, face, faceIndex, point, index, uv, object }\n\n                    if ( !event ) {\n\n                        if ( this.intersected ) {\n                            this.intersected.material.color.setStyle( '#fff' );\n                            this.$refs.model.render();  // 当在外部修改模型时，必须调用render，否则不会更新画面\n                        }\n\n                        this.intersected = null;\n                        return;\n                    }\n\n                    this.intersected = event.object;\n                    this.intersected.material.color.setStyle( '#13ce66' );\n                    this.$refs.model.render();  // render\n                }\n            }\n        })\n    <\/script>\n</body>\n",loading:!0,intersected:null}},methods:{onLoad:function(){this.loading=!1},onMouseMove:function(e){if(console.log(e),!e)return this.intersected&&(this.intersected.material.color.setStyle("#fff"),this.$refs.model.render()),void(this.intersected=null);this.intersected=e.object,this.intersected.material.color.setStyle("#13ce66"),this.$refs.model.render()}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),r=n(3),a=n.n(r);t.default={name:"demo-obj",data:function(){return{code:"\n<template>\n    <model-obj src=\"static/models/obj/tree.obj\"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-obj src="static/models/obj/tree.obj"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),r=n(3),a=n.n(r);t.default={name:"demo-rotate",data:function(){return{code:'\n<template>\n    <model-obj\n        :rotation="rotation"\n        :on-load="onLoad"\n        src="static/models/obj/tree.obj"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from \'vue-3d-model\'\n\n    export default {\n        data: {\n            rotation: {\n                x: 0,\n                y: 0,\n                z: 0\n            }\n        },\n        methods: {\n            onLoad () {\n                this.rotate();\n            },\n            rotate () {\n                this.rotation.y += 0.01;\n                requestAnimationFrame( this.rotate );\n            }\n        },\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n',htmlCode:'\n<body>\n    <div id="app">\n        <model-obj\n            :rotation="rotation"\n            :on-load="onLoad"\n            src="static/models/obj/tree.obj"></model-obj>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\',\n            data: {\n                rotation: {\n                    x: 0,\n                    y: 0,\n                    z: 0\n                }\n            },\n            methods: {\n                onLoad () {\n                    this.rotate();\n                },\n                rotate () {\n                    this.rotation.y += 0.01;\n                    requestAnimationFrame( this.rotate );\n                }\n            }\n        })\n    <\/script>\n</body>\n',loading:!0,rotation:{x:0,y:0,z:0}}},methods:{onLoad:function(){this.loading=!1,this.rotate()},rotate:function(){this.rotation.y+=.01,requestAnimationFrame(this.rotate)}},components:{ModelObj:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n.n(o),r=n(32),a=n.n(r);t.default={name:"demo-stl",data:function(){return{code:"\n<template>\n    <model-stl src=\"static/models/stl/slotted_disk.stl\"></model-stl>\n</template>\n\n<script>\n    import { ModelStl } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelStl\n        }\n    }\n<\/script>\n",htmlCode:'\n<body>\n    <div id="app">\n        <model-stl src="static/models/stl/slotted_disk.stl"></model-stl>\n    </div>\n    #scripts#\n    <script>\n        new Vue({\n            el: \'#app\'\n        })\n    <\/script>\n</body>\n',loading:!0}},methods:{onLoad:function(){this.loading=!1}},components:{ModelStl:a.a,DemoBlock:i.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(20),r=n(87),a=function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),s=null;t.default={props:{src:{type:String},width:{type:Number},height:{type:Number},position:{type:Object,default:function(){return{x:0,y:0,z:0}}},rotation:{type:Object,default:function(){return{x:0,y:0,z:0}}},scale:{type:Object,default:function(){return{x:1,y:1,z:1}}},lights:{type:Array,default:function(){return[]}},cameraPosition:{type:Object},cameraRotation:{type:Object},cameraUp:{type:Object},cameraLookAt:{type:Object},backgroundColor:{default:16777215},backgroundAlpha:{type:Number,default:1},controllable:{type:Boolean,default:!0}},data:function(){return{suportWebGL:a,size:{width:this.width,height:this.height},object:null,raycaster:new o.h,mouse:new o.i,camera:new o.j(45,1,.001,1e5),scene:new o.k,renderer:null,controls:null,allLights:[],clock:"undefined"==typeof performance?Date:performance}},computed:{hasListener:function(){var e=this._events,t={};return["on-mousemove","on-mouseup","on-mousedown","on-click"].forEach(function(n){t[n]=!!e[n]&&e[n].length>0}),t}},created:function(){window.addEventListener("resize",this.onResize,!1)},mounted:function(){void 0!==this.width&&void 0!==this.height||(this.size={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),this.renderer=new o.l({antialias:!0,alpha:!0,canvas:this.$refs.canvas}),this.renderer.shadowMap.enabled=!0,this.load(),this.update(),this.$el.addEventListener("mousedown",this.onMouseDown,!1),this.$el.addEventListener("mousemove",this.onMouseMove,!1),this.$el.addEventListener("mouseup",this.onMouseUp,!1),this.$el.addEventListener("click",this.onClick,!1)},beforeDestroy:function(){this.$el.removeEventListener("mousedown",this.onMouseDown,!1),this.$el.removeEventListener("mousemove",this.onMouseMove,!1),this.$el.removeEventListener("mouseup",this.onMouseUp,!1),this.$el.removeEventListener("click",this.onClick,!1)},watch:{src:function(){this.load()},object:function(){this.render()},rotation:{deep:!0,handler:function(e){this.object&&(this.object.rotation.set(e.x,e.y,e.z),this.render())}},position:{deep:!0,handler:function(e){this.object&&(this.object.position.set(e.x,e.y,e.z),this.render())}},scale:{deep:!0,handler:function(e){this.object&&(this.object.scale.set(e.x,e.y,e.z),this.render())}},lights:{deep:!0,handler:function(e,t){this.updateLights()}},size:{deep:!0,handler:function(e){this.updateCamera(),this.updateRenderer(),this.render()}},controllable:function(){this.updateControls()},backgroundAlpha:function(){this.updateRenderer(),this.render()},backgroundColor:function(){this.updateRenderer(),this.render()}},methods:{onResize:function(){var e=this;void 0!==this.width&&void 0!==this.height||this.$nextTick(function(){e.size={width:e.$el.offsetWidth,height:e.$el.offsetHeight}})},onMouseDown:function(e){if(this.hasListener["on-mousedown"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousedown",t)}},onMouseMove:function(e){if(this.hasListener["on-mousemove"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousemove",t)}},onMouseUp:function(e){if(this.hasListener["on-mouseup"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mouseup",t)}},onClick:function(e){if(this.hasListener["on-click"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-click",t)}},pick:function(e,t){if(this.object){var n=this.$el.getBoundingClientRect();e-=n.left,t-=n.top,this.mouse.x=e/this.size.width*2-1,this.mouse.y=-t/this.size.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var o=this.raycaster.intersectObject(this.object,!0);return(o&&o.length)>0?o[0]:null}},update:function(){this.updateRenderer(),this.updateModel(),this.updateCamera(),this.updateLights(),this.updateControls(),this.render()},updateModel:function(){var e=this.object;e&&(e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale))},updateRenderer:function(){var e=this.renderer;e.setSize(this.size.width,this.size.height),e.setPixelRatio(window.devicePixelRatio||1),e.setClearColor(new o.m(this.backgroundColor).getHex()),e.setClearAlpha(this.backgroundAlpha)},updateCamera:function(){var e=this.camera,t=this.object,o=0,r=null;if(e.aspect=this.size.width/this.size.height,e.updateProjectionMatrix(),!(this.cameraLookAt||this.cameraPosition||this.cameraRotation||this.cameraUp)){if(!t)return;o=n.i(i.a)(t).length(),r=n.i(i.b)(t),e.position.set(0,0,0),e.position.z=o,e.position.add(r),e.lookAt(r)}this.controls&&r&&this.controls.target.copy(r)},updateLights:function(){var e=this;this.scene.remove.apply(this.scene,this.allLights),this.allLights=[],this.lights.forEach(function(t){if(t.type){var n=t.type.toLowerCase(),i=null;if("ambient"===n||"ambientlight"===n){var r=t.color||4210752,a=t.intensity||1;i=new o.n(r,a)}else if("point"===n||"pointlight"===n){var s=t.color||16777215,l=t.intensity||1,c=t.distance||0,d=t.decay||1;i=new PointLight(s,l,c,d),t.position&&i.position.copy(t.position)}else if("directional"===n||"directionallight"===n){var u=t.color||16777215,h=t.intensity||1;i=new o.o(u,h),t.position&&i.position.copy(t.position),t.target&&i.target.copy(t.target)}else if("hemisphere"===n||"hemispherelight"===n){var p=t.skyColor||16777215,m=t.groundColor||16777215,f=t.intensity||1;i=new o.p(p,m,f),t.position&&i.position.copy(t.position)}e.allLights.push(i),e.scene.add(i)}})},updateControls:function(){if(!this.controllable||!this.controls)if(this.controllable){if(this.controls)return;this.controls=new r.a(this.camera,this.$el),this.controls.addEventListener("change",this.render,!1),this.controls.type="orbit"}else this.controls&&(this.controls.dispose(),this.controls=null)},load:function(){var e=this;this.src&&(this.object&&this.scene.remove(this.object),this.loader.load(this.src,function(t){e.process&&e.process(t),e.object=t,e.scene.add(e.object),e.updateCamera(),e.$emit("on-load")},function(t){e.$emit("on-error",t)}))},animate:function(){requestAnimationFrame(this.animate),this.render()},immediateRender:function(){this.renderer.render(this.scene,this.camera)},render:function(){var e=this;s||(s=requestAnimationFrame(function(){s=null,e.immediateRender()}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),i=n(20),r=n(7),a=n.n(r);t.default={name:"model-obj",mixins:[a.a],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}},smoothing:{type:Boolean,default:!1}},data:function(){return{loader:new o.a}},methods:{process:function(e){this.smoothing&&e.traverse(function(e){e.geometry&&(e.geometry=n.i(i.c)(e.geometry),e.geometry.computeVertexNormals())})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(89),i=n(7),r=n.n(i),a=n(1);t.default={name:"model-stl",mixins:[r.a],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}}},data:function(){return{loader:new o.a}},methods:{load:function(){var e=this;this.src&&(this.object&&this.scene.remove(this.object),this.loader.load(this.src,function(t){e.object=new a.a(t,new a.b),e.scene.add(e.object),e.updateCamera(),e.$emit("on-load")},function(t){e.$emit("on-error",t)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(7),r=n.n(i);t.default={name:"model-three",mixins:[r.a],data:function(){return{loader:new o.B}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(73),i=n.n(o),r=n(1),a=function(e,t){function n(){return 2*Math.PI/60/60*N.autoRotateSpeed}function o(){return Math.pow(.95,N.zoomSpeed)}function i(e){$.theta-=e}function a(e){$.phi-=e}function s(e){N.object instanceof r.j?B/=e:N.object instanceof r.t?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom*e)),N.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),N.enableZoom=!1)}function l(e){N.object instanceof r.j?B*=e:N.object instanceof r.t?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom/e)),N.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),N.enableZoom=!1)}function c(e){X.set(e.clientX,e.clientY)}function d(e){K.set(e.clientX,e.clientY)}function u(e){q.set(e.clientX,e.clientY)}function h(e){G.set(e.clientX,e.clientY),Z.subVectors(G,X);var t=N.domElement===document?N.domElement.body:N.domElement;i(2*Math.PI*Z.x/t.clientWidth*N.rotateSpeed),a(2*Math.PI*Z.y/t.clientHeight*N.rotateSpeed),X.copy(G),N.update()}function p(e){Q.set(e.clientX,e.clientY),ee.subVectors(Q,K),ee.y>0?s(o()):ee.y<0&&l(o()),K.copy(Q),N.update()}function m(e){W.set(e.clientX,e.clientY),J.subVectors(W,q),oe(J.x,J.y),q.copy(W),N.update()}function f(e){}function b(e){e.deltaY<0?l(o()):e.deltaY>0&&s(o()),N.update()}function v(e){switch(e.keyCode){case N.keys.UP:oe(0,N.keyPanSpeed),N.update();break;case N.keys.BOTTOM:oe(0,-N.keyPanSpeed),N.update();break;case N.keys.LEFT:oe(N.keyPanSpeed,0),N.update();break;case N.keys.RIGHT:oe(-N.keyPanSpeed,0),N.update()}}function g(e){X.set(e.touches[0].pageX,e.touches[0].pageY)}function x(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);K.set(0,o)}function y(e){q.set(e.touches[0].pageX,e.touches[0].pageY)}function w(e){G.set(e.touches[0].pageX,e.touches[0].pageY),Z.subVectors(G,X);var t=N.domElement===document?N.domElement.body:N.domElement;i(2*Math.PI*Z.x/t.clientWidth*N.rotateSpeed),a(2*Math.PI*Z.y/t.clientHeight*N.rotateSpeed),X.copy(G),N.update()}function j(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);Q.set(0,i),ee.subVectors(Q,K),ee.y>0?l(o()):ee.y<0&&s(o()),K.copy(Q),N.update()}function k(e){W.set(e.touches[0].pageX,e.touches[0].pageY),J.subVectors(W,q),oe(J.x,J.y),q.copy(W),N.update()}function _(e){}function C(e){if(!1!==N.enabled){switch(e.preventDefault(),e.button){case N.mouseButtons.ORBIT:if(!1===N.enableRotate)return;c(e),I=U.ROTATE;break;case N.mouseButtons.ZOOM:if(!1===N.enableZoom)return;d(e),I=U.DOLLY;break;case N.mouseButtons.PAN:if(!1===N.enablePan)return;u(e),I=U.PAN}I!==U.NONE&&(document.addEventListener("mousemove",E,!1),document.addEventListener("mouseup",A,!1),N.dispatchEvent(R))}}function E(e){if(!1!==N.enabled)switch(e.preventDefault(),I){case U.ROTATE:if(!1===N.enableRotate)return;h(e);break;case U.DOLLY:if(!1===N.enableZoom)return;p(e);break;case U.PAN:if(!1===N.enablePan)return;m(e)}}function A(e){!1!==N.enabled&&(f(e),document.removeEventListener("mousemove",E,!1),document.removeEventListener("mouseup",A,!1),N.dispatchEvent(V),I=U.NONE)}function M(e){!1===N.enabled||!1===N.enableZoom||I!==U.NONE&&I!==U.ROTATE||(e.preventDefault(),e.stopPropagation(),b(e),N.dispatchEvent(R),N.dispatchEvent(V))}function L(e){!1!==N.enabled&&!1!==N.enableKeys&&!1!==N.enablePan&&v(e)}function O(e){if(!1!==N.enabled){switch(e.touches.length){case 1:if(!1===N.enableRotate)return;g(e),I=U.TOUCH_ROTATE;break;case 2:if(!1===N.enableZoom)return;x(e),I=U.TOUCH_DOLLY;break;case 3:if(!1===N.enablePan)return;y(e),I=U.TOUCH_PAN;break;default:I=U.NONE}I!==U.NONE&&N.dispatchEvent(R)}}function z(e){if(!1!==N.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===N.enableRotate)return;if(I!==U.TOUCH_ROTATE)return;w(e);break;case 2:if(!1===N.enableZoom)return;if(I!==U.TOUCH_DOLLY)return;j(e);break;case 3:if(!1===N.enablePan)return;if(I!==U.TOUCH_PAN)return;k(e);break;default:I=U.NONE}}function F(e){!1!==N.enabled&&(_(e),N.dispatchEvent(V),I=U.NONE)}function P(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new r.g,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.q.LEFT,ZOOM:r.q.MIDDLE,PAN:r.q.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return D.phi},this.getAzimuthalAngle=function(){return D.theta},this.saveState=function(){N.target0.copy(N.target),N.position0.copy(N.object.position),N.zoom0=N.object.zoom},this.reset=function(){N.target.copy(N.target0),N.object.position.copy(N.position0),N.object.zoom=N.zoom0,N.object.updateProjectionMatrix(),N.dispatchEvent(S),N.update(),I=U.NONE},this.update=function(){var t=new r.g,o=(new r.r).setFromUnitVectors(e.up,new r.g(0,1,0)),a=o.clone().inverse(),s=new r.g,l=new r.r;return function(){var e=N.object.position;return t.copy(e).sub(N.target),t.applyQuaternion(o),D.setFromVector3(t),N.autoRotate&&I===U.NONE&&i(n()),D.theta+=$.theta,D.phi+=$.phi,D.theta=Math.max(N.minAzimuthAngle,Math.min(N.maxAzimuthAngle,D.theta)),D.phi=Math.max(N.minPolarAngle,Math.min(N.maxPolarAngle,D.phi)),D.makeSafe(),D.radius*=B,D.radius=Math.max(N.minDistance,Math.min(N.maxDistance,D.radius)),N.target.add(Y),t.setFromSpherical(D),t.applyQuaternion(a),e.copy(N.target).add(t),N.object.lookAt(N.target),!0===N.enableDamping?($.theta*=1-N.dampingFactor,$.phi*=1-N.dampingFactor):$.set(0,0,0),B=1,Y.set(0,0,0),!!(H||s.distanceToSquared(N.object.position)>T||8*(1-l.dot(N.object.quaternion))>T)&&(N.dispatchEvent(S),s.copy(N.object.position),l.copy(N.object.quaternion),H=!1,!0)}}(),this.dispose=function(){N.domElement.removeEventListener("contextmenu",P,!1),N.domElement.removeEventListener("mousedown",C,!1),N.domElement.removeEventListener("wheel",M,!1),N.domElement.removeEventListener("touchstart",O,!1),N.domElement.removeEventListener("touchend",F,!1),N.domElement.removeEventListener("touchmove",z,!1),document.removeEventListener("mousemove",E,!1),document.removeEventListener("mouseup",A,!1),window.removeEventListener("keydown",L,!1)};var N=this,S={type:"change"},R={type:"start"},V={type:"end"},U={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},I=U.NONE,T=1e-6,D=new r.s,$=new r.s,B=1,Y=new r.g,H=!1,X=new r.i,G=new r.i,Z=new r.i,q=new r.i,W=new r.i,J=new r.i,K=new r.i,Q=new r.i,ee=new r.i,te=function(){var e=new r.g;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),Y.add(e)}}(),ne=function(){var e=new r.g;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),Y.add(e)}}(),oe=function(){var e=new r.g;return function(t,n){var o=N.domElement===document?N.domElement.body:N.domElement;if(N.object instanceof r.j){var i=N.object.position;e.copy(i).sub(N.target);var a=e.length();a*=Math.tan(N.object.fov/2*Math.PI/180),te(2*t*a/o.clientHeight,N.object.matrix),ne(2*n*a/o.clientHeight,N.object.matrix)}else N.object instanceof r.t?(te(t*(N.object.right-N.object.left)/N.object.zoom/o.clientWidth,N.object.matrix),ne(n*(N.object.top-N.object.bottom)/N.object.zoom/o.clientHeight,N.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),N.enablePan=!1)}}();N.domElement.addEventListener("contextmenu",P,!1),N.domElement.addEventListener("mousedown",C,!1),N.domElement.addEventListener("wheel",M,!1),N.domElement.addEventListener("touchstart",O,!1),N.domElement.addEventListener("touchend",F,!1),N.domElement.addEventListener("touchmove",z,!1),window.addEventListener("keydown",L,!1),this.update()};a.prototype=i()(r.u.prototype),a.prototype.constructor=a},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(1),i=function(e){this.manager=void 0!==e?e:o.c,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};i.prototype={constructor:i,load:function(e,t,n,i){var r=this,a=new o.d(r.manager);a.setPath(this.path),a.load(e,function(e){t(r.parse(e))},n,i)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var o={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var o=n.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var o=this.vertices,i=this.object.geometry.vertices;i.push(o[e+0]),i.push(o[e+1]),i.push(o[e+2]),i.push(o[t+0]),i.push(o[t+1]),i.push(o[t+2]),i.push(o[n+0]),i.push(o[n+1]),i.push(o[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var o=this.normals,i=this.object.geometry.normals;i.push(o[e+0]),i.push(o[e+1]),i.push(o[e+2]),i.push(o[t+0]),i.push(o[t+1]),i.push(o[t+2]),i.push(o[n+0]),i.push(o[n+1]),i.push(o[n+2])},addUV:function(e,t,n){var o=this.uvs,i=this.object.geometry.uvs;i.push(o[e+0]),i.push(o[e+1]),i.push(o[t+0]),i.push(o[t+1]),i.push(o[n+0]),i.push(o[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,o,i,r,a,s,l,c,d,u){var h,p=this.vertices.length,m=this.parseVertexIndex(e,p),f=this.parseVertexIndex(t,p),b=this.parseVertexIndex(n,p);if(void 0===o?this.addVertex(m,f,b):(h=this.parseVertexIndex(o,p),this.addVertex(m,f,h),this.addVertex(f,b,h)),void 0!==i){var v=this.uvs.length;m=this.parseUVIndex(i,v),f=this.parseUVIndex(r,v),b=this.parseUVIndex(a,v),void 0===o?this.addUV(m,f,b):(h=this.parseUVIndex(s,v),this.addUV(m,f,h),this.addUV(f,b,h))}if(void 0!==l){var g=this.normals.length;m=this.parseNormalIndex(l,g),f=l===c?m:this.parseNormalIndex(c,g),b=l===d?m:this.parseNormalIndex(d,g),void 0===o?this.addNormal(m,f,b):(h=this.parseNormalIndex(u,g),this.addNormal(m,f,h),this.addNormal(f,b,h))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,o=this.uvs.length,i=0,r=e.length;i<r;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(var a=0,r=t.length;a<r;a++)this.addUVLine(this.parseUVIndex(t[a],o))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),i="",r="",a="",s=[],l="function"==typeof"".trimLeft,c=0,d=n.length;c<d;c++)if(i=n[c],i=l?i.trimLeft():i.trim(),0!==i.length&&"#"!==(r=i.charAt(0)))if("v"===r)if(" "===(a=i.charAt(1))&&null!==(s=this.regexp.vertex_pattern.exec(i)))t.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if("n"===a&&null!==(s=this.regexp.normal_pattern.exec(i)))t.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if("t"!==a||null===(s=this.regexp.uv_pattern.exec(i)))throw new Error("Unexpected vertex/normal/uv line: '"+i+"'");t.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if("f"===r)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(i)))t.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(i)))t.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(i)))t.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(i)))throw new Error("Unexpected face line: '"+i+"'");t.addFace(s[1],s[2],s[3],s[4])}else if("l"===r){var u=i.substring(1).trim().split(" "),h=[],p=[];if(-1===i.indexOf("/"))h=u;else for(var m=0,f=u.length;m<f;m++){var b=u[m].split("/");""!==b[0]&&h.push(b[0]),""!==b[1]&&p.push(b[1])}t.addLineGeometry(h,p)}else if(null!==(s=this.regexp.object_pattern.exec(i))){var v=(" "+s[0].substr(1).trim()).substr(1);t.startObject(v)}else if(this.regexp.material_use_pattern.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(i))t.materialLibraries.push(i.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(i))){if("\0"===i)continue;throw new Error("Unexpected line: '"+i+"'")}var g=s[1].trim().toLowerCase();t.object.smooth="1"===g||"on"===g;var x=t.object.currentMaterial();x&&(x.smooth=t.object.smooth)}t.finalize();var y=new o.w;y.materialLibraries=[].concat(t.materialLibraries);for(var c=0,d=t.objects.length;c<d;c++){var w=t.objects[c],j=w.geometry,k=w.materials,_="Line"===j.type;if(0!==j.vertices.length){var C=new o.e;C.addAttribute("position",new o.f(new Float32Array(j.vertices),3)),j.normals.length>0?C.addAttribute("normal",new o.f(new Float32Array(j.normals),3)):C.computeVertexNormals(),j.uvs.length>0&&C.addAttribute("uv",new o.f(new Float32Array(j.uvs),2));for(var E=[],A=0,M=k.length;A<M;A++){var L=k[A],x=void 0;if(null!==this.materials&&(x=this.materials.create(L.name),_&&x&&!(x instanceof o.x))){var O=new o.x;O.copy(x),x=O}x||(x=_?new o.x:new o.b,x.name=L.name),x.shading=L.smooth?o.y:o.z,E.push(x)}var z;if(E.length>1){for(var A=0,M=k.length;A<M;A++){var L=k[A];C.addGroup(L.groupStart,L.groupCount,A)}z=_?new o.A(C,E):new o.a(C,E)}else z=_?new o.A(C,E[0]):new o.a(C,E[0]);z.name=w.name,y.add(z)}}return console.timeEnd("OBJLoader"),y}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(1),i=function(e){this.manager=void 0!==e?e:o.c};i.prototype={constructor:i,load:function(e,t,n,i){var r=this,a=new o.d(r.manager);a.setResponseType("arraybuffer"),a.load(e,function(e){t(r.parse(e))},n,i)},parse:function(e){var t=this.ensureBinary(e);return function(){var e,n,o;if(o=new DataView(t),e=50,n=o.getUint32(80,!0),84+n*e===o.byteLength)return!0;for(var i=[115,111,108,105,100],r=0;r<5;r++)if(i[r]!=o.getUint8(r,!1))return!0;return!1}()?this.parseBinary(t):this.parseASCII(this.ensureString(e))},parseBinary:function(e){for(var t,n,i,r,a,s,l,c,d=new DataView(e),u=d.getUint32(80,!0),h=!1,p=0;p<70;p++)1129270351==d.getUint32(p,!1)&&82==d.getUint8(p+4)&&61==d.getUint8(p+5)&&(h=!0,r=[],a=d.getUint8(p+6)/255,s=d.getUint8(p+7)/255,l=d.getUint8(p+8)/255,c=d.getUint8(p+9)/255);for(var m=new o.e,f=[],b=[],v=0;v<u;v++){var g=84+50*v,x=d.getFloat32(g,!0),y=d.getFloat32(g+4,!0),w=d.getFloat32(g+8,!0);if(h){var j=d.getUint16(g+48,!0);0==(32768&j)?(t=(31&j)/31,n=(j>>5&31)/31,i=(j>>10&31)/31):(t=a,n=s,i=l)}for(var k=1;k<=3;k++){var _=g+12*k;f.push(d.getFloat32(_,!0)),f.push(d.getFloat32(_+4,!0)),f.push(d.getFloat32(_+8,!0)),b.push(x,y,w),h&&r.push(t,n,i)}}return m.addAttribute("position",new o.f(new Float32Array(f),3)),m.addAttribute("normal",new o.f(new Float32Array(b),3)),h&&(m.addAttribute("color",new o.f(new Float32Array(r),3)),m.hasColors=!0,m.alpha=c),m},parseASCII:function(e){var t,n,i,r,a,s;t=new o.e,n=/facet([\s\S]*?)endfacet/g;for(var l=[],c=[],d=new o.g;null!==(a=n.exec(e));){for(s=a[0],i=/normal[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!==(a=i.exec(s));)d.x=parseFloat(a[1]),d.y=parseFloat(a[3]),d.z=parseFloat(a[5]);for(r=/vertex[\s]+([\-+]?[0-9]+\.?[0-9]*([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+[\s]+([\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?)+/g;null!==(a=r.exec(s));)l.push(parseFloat(a[1]),parseFloat(a[3]),parseFloat(a[5])),c.push(d.x,d.y,d.z)}return t.addAttribute("position",new o.f(new Float32Array(l),3)),t.addAttribute("normal",new o.f(new Float32Array(c),3)),t},ensureString:function(e){if("string"!=typeof e){for(var t=new Uint8Array(e),n=[],o=0;o<e.byteLength;o++)n.push(String.fromCharCode(t[o]));return n.join("")}return e},ensureBinary:function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}}}],[74]);
//# sourceMappingURL=app.7e921a889ba658c91e88.js.map