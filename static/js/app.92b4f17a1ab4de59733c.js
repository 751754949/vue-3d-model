webpackJsonp([1],[,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return a.setFromObject(e),a.getSize()}function o(e){return a.setFromObject(e),a.getCenter()}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var s=n(0),a=new s.z},,function(e,t,n){n(30);var i=n(1)(n(58),n(25),null,null);e.exports=i.exports},function(e,t,n){"use strict";var i=n(6),o=n(55),s=n(20),a=n.n(s);i.a.use(o.a),t.a=new o.a({routes:[{path:"/demo-basic",name:"demo-basic",component:a.a}]})},function(e,t,n){n(29);var i=n(1)(n(59),n(24),null,null);e.exports=i.exports},function(e,t,n){n(28);var i=n(1)(n(60),n(22),null,null);e.exports=i.exports},function(e,t,n){var i=n(1)(n(61),n(23),null,null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-basic"},[n("demo-block",{attrs:{code:e.code}},[n("template",{slot:"preview"},[n("model-obj",{attrs:{backgroundAlpha:0,src:"static/models/obj/LeePerrySmith.obj"}})],1)],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("canvas",{style:e.styleObj})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-block"},[n("div",{staticClass:"demo-block-preview"},[e._t("preview")],2),e._v(" "),n("div",{staticClass:"demo-block-code"},[n("pre",[e._v("\n            "),n("code",{ref:"code",staticClass:"html",domProps:{textContent:e._s(e.code)}}),e._v("\n        ")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examples"},[e._m(0),e._v(" "),n("ul",{staticClass:"examples-nav"},[n("li",{staticClass:"examples-nav-item"},[n("router-link",{attrs:{to:"demo-basic"}},[e._v("Basic")])],1)]),e._v(" "),n("div",{staticClass:"examples-content"},[n("router-view")],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"examples-header"},[n("h2",[e._v("Vue 3D Model")]),e._v(" "),n("a",{attrs:{href:"https://github.com/hujiulong/vue-3d-model"}},[e._v("Github")])])}]}},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(17),s=n.n(o),a=n(18);new i.a({el:"#app",router:a.a,render:function(e){return e(s.a)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=(n.n(i),n(16)),s=n.n(o);t.default={name:"app",props:{code:String},mounted:function(){s.a.highlightBlock(this.$refs.code)},data:function(){return{}},methods:{},components:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n.n(i),s=n(16),a=(n.n(s),n(21)),r=n.n(a);t.default={name:"demo-basic",data:function(){return{code:"\n\n<template>\n    <model-obj src=\"static/models/obj/LeePerrySmith.obj\"></model-obj>\n</template>\n\n<script>\n    import { ModelObj } from 'vue-3d-model'\n\n    export default {\n        components: {\n            ModelObj\n        }\n    }\n<\/script>\n\n",intersected:null}},components:{ModelObj:r.a,DemoBlock:o.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),o=n(64);n(15);t.default={name:"model-obj",mixins:[o.a],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}}},data:function(){return{loader:new i.a}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(56),o=n.n(i),s=n(0),a=function(e,t){function n(){return 2*Math.PI/60/60*R.autoRotateSpeed}function i(){return Math.pow(.95,R.zoomSpeed)}function o(e){Y.theta-=e}function a(e){Y.phi-=e}function r(e){R.object instanceof s.n?$/=e:R.object instanceof s.x?(R.object.zoom=Math.max(R.minZoom,Math.min(R.maxZoom,R.object.zoom*e)),R.object.updateProjectionMatrix(),X=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),R.enableZoom=!1)}function c(e){R.object instanceof s.n?$*=e:R.object instanceof s.x?(R.object.zoom=Math.max(R.minZoom,Math.min(R.maxZoom,R.object.zoom/e)),R.object.updateProjectionMatrix(),X=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),R.enableZoom=!1)}function u(e){Z.set(e.clientX,e.clientY)}function h(e){K.set(e.clientX,e.clientY)}function l(e){q.set(e.clientX,e.clientY)}function d(e){B.set(e.clientX,e.clientY),G.subVectors(B,Z);var t=R.domElement===document?R.domElement.body:R.domElement;o(2*Math.PI*G.x/t.clientWidth*R.rotateSpeed),a(2*Math.PI*G.y/t.clientHeight*R.rotateSpeed),Z.copy(B),R.update()}function p(e){Q.set(e.clientX,e.clientY),ee.subVectors(Q,K),ee.y>0?r(i()):ee.y<0&&c(i()),K.copy(Q),R.update()}function m(e){W.set(e.clientX,e.clientY),J.subVectors(W,q),ie(J.x,J.y),q.copy(W),R.update()}function f(e){}function v(e){e.deltaY<0?c(i()):e.deltaY>0&&r(i()),R.update()}function b(e){switch(e.keyCode){case R.keys.UP:ie(0,R.keyPanSpeed),R.update();break;case R.keys.BOTTOM:ie(0,-R.keyPanSpeed),R.update();break;case R.keys.LEFT:ie(R.keyPanSpeed,0),R.update();break;case R.keys.RIGHT:ie(-R.keyPanSpeed,0),R.update()}}function g(e){Z.set(e.touches[0].pageX,e.touches[0].pageY)}function y(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);K.set(0,i)}function x(e){q.set(e.touches[0].pageX,e.touches[0].pageY)}function j(e){B.set(e.touches[0].pageX,e.touches[0].pageY),G.subVectors(B,Z);var t=R.domElement===document?R.domElement.body:R.domElement;o(2*Math.PI*G.x/t.clientWidth*R.rotateSpeed),a(2*Math.PI*G.y/t.clientHeight*R.rotateSpeed),Z.copy(B),R.update()}function w(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);Q.set(0,o),ee.subVectors(Q,K),ee.y>0?c(i()):ee.y<0&&r(i()),K.copy(Q),R.update()}function E(e){W.set(e.touches[0].pageX,e.touches[0].pageY),J.subVectors(W,q),ie(J.x,J.y),q.copy(W),R.update()}function _(e){}function L(e){if(!1!==R.enabled){switch(e.preventDefault(),e.button){case R.mouseButtons.ORBIT:if(!1===R.enableRotate)return;u(e),S=V.ROTATE;break;case R.mouseButtons.ZOOM:if(!1===R.enableZoom)return;h(e),S=V.DOLLY;break;case R.mouseButtons.PAN:if(!1===R.enablePan)return;l(e),S=V.PAN}S!==V.NONE&&(document.addEventListener("mousemove",O,!1),document.addEventListener("mouseup",M,!1),R.dispatchEvent(T))}}function O(e){if(!1!==R.enabled)switch(e.preventDefault(),S){case V.ROTATE:if(!1===R.enableRotate)return;d(e);break;case V.DOLLY:if(!1===R.enableZoom)return;p(e);break;case V.PAN:if(!1===R.enablePan)return;m(e)}}function M(e){!1!==R.enabled&&(f(e),document.removeEventListener("mousemove",O,!1),document.removeEventListener("mouseup",M,!1),R.dispatchEvent(I),S=V.NONE)}function k(e){!1===R.enabled||!1===R.enableZoom||S!==V.NONE&&S!==V.ROTATE||(e.preventDefault(),e.stopPropagation(),v(e),R.dispatchEvent(T),R.dispatchEvent(I))}function P(e){!1!==R.enabled&&!1!==R.enableKeys&&!1!==R.enablePan&&b(e)}function A(e){if(!1!==R.enabled){switch(e.touches.length){case 1:if(!1===R.enableRotate)return;g(e),S=V.TOUCH_ROTATE;break;case 2:if(!1===R.enableZoom)return;y(e),S=V.TOUCH_DOLLY;break;case 3:if(!1===R.enablePan)return;x(e),S=V.TOUCH_PAN;break;default:S=V.NONE}S!==V.NONE&&R.dispatchEvent(T)}}function C(e){if(!1!==R.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===R.enableRotate)return;if(S!==V.TOUCH_ROTATE)return;j(e);break;case 2:if(!1===R.enableZoom)return;if(S!==V.TOUCH_DOLLY)return;w(e);break;case 3:if(!1===R.enablePan)return;if(S!==V.TOUCH_PAN)return;E(e);break;default:S=V.NONE}}function z(e){!1!==R.enabled&&(_(e),R.dispatchEvent(I),S=V.NONE)}function N(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new s.t,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:s.u.LEFT,ZOOM:s.u.MIDDLE,PAN:s.u.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return D.phi},this.getAzimuthalAngle=function(){return D.theta},this.saveState=function(){R.target0.copy(R.target),R.position0.copy(R.object.position),R.zoom0=R.object.zoom},this.reset=function(){R.target.copy(R.target0),R.object.position.copy(R.position0),R.object.zoom=R.zoom0,R.object.updateProjectionMatrix(),R.dispatchEvent(F),R.update(),S=V.NONE},this.update=function(){var t=new s.t,i=(new s.v).setFromUnitVectors(e.up,new s.t(0,1,0)),a=i.clone().inverse(),r=new s.t,c=new s.v;return function(){var e=R.object.position;return t.copy(e).sub(R.target),t.applyQuaternion(i),D.setFromVector3(t),R.autoRotate&&S===V.NONE&&o(n()),D.theta+=Y.theta,D.phi+=Y.phi,D.theta=Math.max(R.minAzimuthAngle,Math.min(R.maxAzimuthAngle,D.theta)),D.phi=Math.max(R.minPolarAngle,Math.min(R.maxPolarAngle,D.phi)),D.makeSafe(),D.radius*=$,D.radius=Math.max(R.minDistance,Math.min(R.maxDistance,D.radius)),R.target.add(H),t.setFromSpherical(D),t.applyQuaternion(a),e.copy(R.target).add(t),R.object.lookAt(R.target),!0===R.enableDamping?(Y.theta*=1-R.dampingFactor,Y.phi*=1-R.dampingFactor):Y.set(0,0,0),$=1,H.set(0,0,0),!!(X||r.distanceToSquared(R.object.position)>U||8*(1-c.dot(R.object.quaternion))>U)&&(R.dispatchEvent(F),r.copy(R.object.position),c.copy(R.object.quaternion),X=!1,!0)}}(),this.dispose=function(){R.domElement.removeEventListener("contextmenu",N,!1),R.domElement.removeEventListener("mousedown",L,!1),R.domElement.removeEventListener("wheel",k,!1),R.domElement.removeEventListener("touchstart",A,!1),R.domElement.removeEventListener("touchend",z,!1),R.domElement.removeEventListener("touchmove",C,!1),document.removeEventListener("mousemove",O,!1),document.removeEventListener("mouseup",M,!1),window.removeEventListener("keydown",P,!1)};var R=this,F={type:"change"},T={type:"start"},I={type:"end"},V={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},S=V.NONE,U=1e-6,D=new s.w,Y=new s.w,$=1,H=new s.t,X=!1,Z=new s.m,B=new s.m,G=new s.m,q=new s.m,W=new s.m,J=new s.m,K=new s.m,Q=new s.m,ee=new s.m,te=function(){var e=new s.t;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),H.add(e)}}(),ne=function(){var e=new s.t;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),H.add(e)}}(),ie=function(){var e=new s.t;return function(t,n){var i=R.domElement===document?R.domElement.body:R.domElement;if(R.object instanceof s.n){var o=R.object.position;e.copy(o).sub(R.target);var a=e.length();a*=Math.tan(R.object.fov/2*Math.PI/180),te(2*t*a/i.clientHeight,R.object.matrix),ne(2*n*a/i.clientHeight,R.object.matrix)}else R.object instanceof s.x?(te(t*(R.object.right-R.object.left)/R.object.zoom/i.clientWidth,R.object.matrix),ne(n*(R.object.top-R.object.bottom)/R.object.zoom/i.clientHeight,R.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),R.enablePan=!1)}}();R.domElement.addEventListener("contextmenu",N,!1),R.domElement.addEventListener("mousedown",L,!1),R.domElement.addEventListener("wheel",k,!1),R.domElement.addEventListener("touchstart",A,!1),R.domElement.addEventListener("touchend",z,!1),R.domElement.addEventListener("touchmove",C,!1),window.addEventListener("keydown",P,!1),this.update()};a.prototype=o()(s.y.prototype),a.prototype.constructor=a},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),o=function(e){this.manager=void 0!==e?e:i.a,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};o.prototype={constructor:o,load:function(e,t,n,o){var s=this,a=new i.b(s.manager);a.setPath(this.path),a.load(e,function(e){t(s.parse(e))},n,o)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var i={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var i=n.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var i=this.vertices,o=this.object.geometry.vertices;o.push(i[e+0]),o.push(i[e+1]),o.push(i[e+2]),o.push(i[t+0]),o.push(i[t+1]),o.push(i[t+2]),o.push(i[n+0]),o.push(i[n+1]),o.push(i[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var i=this.normals,o=this.object.geometry.normals;o.push(i[e+0]),o.push(i[e+1]),o.push(i[e+2]),o.push(i[t+0]),o.push(i[t+1]),o.push(i[t+2]),o.push(i[n+0]),o.push(i[n+1]),o.push(i[n+2])},addUV:function(e,t,n){var i=this.uvs,o=this.object.geometry.uvs;o.push(i[e+0]),o.push(i[e+1]),o.push(i[t+0]),o.push(i[t+1]),o.push(i[n+0]),o.push(i[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,i,o,s,a,r,c,u,h,l){var d,p=this.vertices.length,m=this.parseVertexIndex(e,p),f=this.parseVertexIndex(t,p),v=this.parseVertexIndex(n,p);if(void 0===i?this.addVertex(m,f,v):(d=this.parseVertexIndex(i,p),this.addVertex(m,f,d),this.addVertex(f,v,d)),void 0!==o){var b=this.uvs.length;m=this.parseUVIndex(o,b),f=this.parseUVIndex(s,b),v=this.parseUVIndex(a,b),void 0===i?this.addUV(m,f,v):(d=this.parseUVIndex(r,b),this.addUV(m,f,d),this.addUV(f,v,d))}if(void 0!==c){var g=this.normals.length;m=this.parseNormalIndex(c,g),f=c===u?m:this.parseNormalIndex(u,g),v=c===h?m:this.parseNormalIndex(h,g),void 0===i?this.addNormal(m,f,v):(d=this.parseNormalIndex(l,g),this.addNormal(m,f,d),this.addNormal(f,v,d))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,i=this.uvs.length,o=0,s=e.length;o<s;o++)this.addVertexLine(this.parseVertexIndex(e[o],n));for(var a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],i))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),o="",s="",a="",r=[],c="function"==typeof"".trimLeft,u=0,h=n.length;u<h;u++)if(o=n[u],o=c?o.trimLeft():o.trim(),0!==o.length&&"#"!==(s=o.charAt(0)))if("v"===s)if(" "===(a=o.charAt(1))&&null!==(r=this.regexp.vertex_pattern.exec(o)))t.vertices.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));else if("n"===a&&null!==(r=this.regexp.normal_pattern.exec(o)))t.normals.push(parseFloat(r[1]),parseFloat(r[2]),parseFloat(r[3]));else{if("t"!==a||null===(r=this.regexp.uv_pattern.exec(o)))throw new Error("Unexpected vertex/normal/uv line: '"+o+"'");t.uvs.push(parseFloat(r[1]),parseFloat(r[2]))}else if("f"===s)if(null!==(r=this.regexp.face_vertex_uv_normal.exec(o)))t.addFace(r[1],r[4],r[7],r[10],r[2],r[5],r[8],r[11],r[3],r[6],r[9],r[12]);else if(null!==(r=this.regexp.face_vertex_uv.exec(o)))t.addFace(r[1],r[3],r[5],r[7],r[2],r[4],r[6],r[8]);else if(null!==(r=this.regexp.face_vertex_normal.exec(o)))t.addFace(r[1],r[3],r[5],r[7],void 0,void 0,void 0,void 0,r[2],r[4],r[6],r[8]);else{if(null===(r=this.regexp.face_vertex.exec(o)))throw new Error("Unexpected face line: '"+o+"'");t.addFace(r[1],r[2],r[3],r[4])}else if("l"===s){var l=o.substring(1).trim().split(" "),d=[],p=[];if(-1===o.indexOf("/"))d=l;else for(var m=0,f=l.length;m<f;m++){var v=l[m].split("/");""!==v[0]&&d.push(v[0]),""!==v[1]&&p.push(v[1])}t.addLineGeometry(d,p)}else if(null!==(r=this.regexp.object_pattern.exec(o))){var b=(" "+r[0].substr(1).trim()).substr(1);t.startObject(b)}else if(this.regexp.material_use_pattern.test(o))t.object.startMaterial(o.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(o))t.materialLibraries.push(o.substring(7).trim());else{if(null===(r=this.regexp.smoothing_pattern.exec(o))){if("\0"===o)continue;throw new Error("Unexpected line: '"+o+"'")}var g=r[1].trim().toLowerCase();t.object.smooth="1"===g||"on"===g;var y=t.object.currentMaterial();y&&(y.smooth=t.object.smooth)}t.finalize();var x=new i.c;x.materialLibraries=[].concat(t.materialLibraries);for(var u=0,h=t.objects.length;u<h;u++){var j=t.objects[u],w=j.geometry,E=j.materials,_="Line"===w.type;if(0!==w.vertices.length){var L=new i.d;L.addAttribute("position",new i.e(new Float32Array(w.vertices),3)),w.normals.length>0?L.addAttribute("normal",new i.e(new Float32Array(w.normals),3)):L.computeVertexNormals(),w.uvs.length>0&&L.addAttribute("uv",new i.e(new Float32Array(w.uvs),2));for(var O=[],M=0,k=E.length;M<k;M++){var P=E[M],y=void 0;if(null!==this.materials&&(y=this.materials.create(P.name),_&&y&&!(y instanceof i.f))){var A=new i.f;A.copy(y),y=A}y||(y=_?new i.f:new i.g,y.name=P.name),y.shading=P.smooth?i.h:i.i,O.push(y)}var C;if(O.length>1){for(var M=0,k=E.length;M<k;M++){var P=E[M];L.addGroup(P.groupStart,P.groupCount,M)}C=_?new i.k(L,O):new i.j(L,O)}else C=_?new i.k(L,O[0]):new i.j(L,O[0]);C.name=j.name,x.add(C)}}return console.timeEnd("OBJLoader"),x}}},function(e,t,n){"use strict";var i=n(0),o=n(15),s=n(62);t.a={props:{src:{type:String},width:{type:Number},height:{type:Number},position:{type:Object,default:function(){return{x:0,y:0,z:0}}},rotation:{type:Object,default:function(){return{x:0,y:0,z:0}}},scale:{type:Object,default:function(){return{x:1,y:1,z:1}}},lights:{type:Array,default:function(){return[]}},cameraPosition:{type:Object},cameraRotation:{type:Object},cameraUp:{type:Object},cameraLookAt:{type:Object},backgroundColor:{default:16777215},backgroundAlpha:{type:Number,default:1},controllable:{type:Boolean,default:!0}},data:function(){return{size:{width:this.width,height:this.height},object:null,raycaster:new i.l,mouse:new i.m,camera:new i.n(45,1,.001,1e5),scene:new i.o,renderer:null,controls:null,allLights:[],renderHandler:null}},computed:{styleObj:function(){return{width:void 0!==this.width?this.width+"px":"100%",height:void 0!==this.height?this.height+"px":"100%"}}},created:function(){window&&window.addEventListener("resize",this.onResize,!1)},mounted:function(){void 0!==this.width&&void 0!==this.height||(this.size={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),this.renderer=new i.p({antialias:!0,alpha:!0,canvas:this.$el}),this.renderer.shadowMap.enabled=!0,this.load(),this.update(),this.$el.addEventListener("mousedown",this.onMouseDown,!1),this.$el.addEventListener("mousemove",this.onMouseMove,!1),this.$el.addEventListener("mouseup",this.onMouseUp,!1),this.$el.addEventListener("click",this.onClick,!1)},beforeDestroy:function(){this.$el.removeEventListener("mousedown",this.onMouseDown,!1),this.$el.removeEventListener("mousemove",this.onMouseMove,!1),this.$el.removeEventListener("mouseup",this.onMouseUp,!1),this.$el.removeEventListener("click",this.onClick,!1)},watch:{src:function(){this.load()},object:function(){this.render()},lights:{deep:!0,handler:function(e,t){this.updateLights()}},size:{deep:!0,handler:function(e){this.updateCamera(),this.updateRenderer()}},controllable:function(){this.updateControls()}},methods:{onResize:function(){var e=this;void 0!==this.width&&void 0!==this.height||this.$nextTick(function(){e.size={width:e.$el.offsetWidth,height:e.$el.offsetHeight}})},onMouseDown:function(e){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousedown",t)},onMouseMove:function(e){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousemove",t)},onMouseUp:function(e){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mouseup",t)},onClick:function(e){var t=this.pick(e.clientX,e.clientY);this.$emit("on-click",t)},pick:function(e,t){if(this.object){var n=this.$el.getBoundingClientRect();e-=n.left,t-=n.top,this.mouse.x=e/this.size.width*2-1,this.mouse.y=-t/this.size.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var i=this.raycaster.intersectObject(this.object,!0);return(i&&i.length)>0?i[0]:null}},update:function(){this.updateRenderer(),this.updateModel(),this.updateCamera(),this.updateLights(),this.updateControls(),this.render()},updateModel:function(){var e=this.object;e&&(e.position.copy(this.position),e.rotation.copy(this.rotation),e.scale.copy(this.scale))},updateRenderer:function(){var e=this.renderer;e.setSize(this.size.width,this.size.height),e.setPixelRatio(window.devicePixelRatio||1),e.setClearAlpha(this.backgroundAlpha)},updateCamera:function(){var e=this.camera,t=this.object,i=0,s=null;if(e.aspect=this.size.width/this.size.height,e.updateProjectionMatrix(),!(this.cameraLookAt||this.cameraPosition||this.cameraRotation||this.cameraUp)){if(!t)return;i=n.i(o.a)(t).length(),s=n.i(o.b)(t),e.position.set(0,0,0),e.position.z=i,e.position.add(s),e.lookAt(s)}this.controls&&this.controls.target.copy(s)},updateLights:function(){var e=this;this.scene.remove.apply(this.scene,this.allLights),this.allLights=[],this.lights.forEach(function(t){if(t.type){var n=t.type.toLowerCase(),o=null;if("ambient"===n||"ambientlight"===n){var s=t.color||4210752,a=t.intensity||1;o=new i.q(s,a)}else if("point"===n||"pointlight"===n){var r=t.color||16777215,c=t.intensity||1,u=t.distance||0,h=t.decay||1;o=new PointLight(r,c,u,h),t.position&&o.position.copy(t.position)}else if("directional"===n||"directionallight"===n){var l=t.color||16777215,d=t.intensity||1;o=new i.r(l,d),t.position&&o.position.copy(t.position),t.target&&o.target.copy(t.target)}else if("hemisphere"===n||"hemispherelight"===n){var p=t.skyColor||16777215,m=t.groundColor||16777215,f=t.intensity||1;o=new i.s(p,m,f),t.position&&o.position.copy(t.position)}e.allLights.push(o),e.scene.add(o)}})},updateControls:function(){if(this.controllable&&this.controls&&reutrn,this.controllable){if(this.controls)return;this.controls=new s.a(this.camera,this.$el),this.controls.addEventListener("change",this.render,!1),this.controls.type="orbit"}else this.controls&&(this.controls.dispose(),this.controls=null)},load:function(){var e=this;this.src&&(this.object&&this.scene.remove(this.object),this.loader.load(this.src,function(t){e.object=t,e.scene.add(e.object),e.updateCamera()}))},animate:function(){requestAnimationFrame(this.animate),this.render()},immediateRender:function(){this.renderer.render(this.scene,this.camera)},render:function(){cancelAnimationFrame(this.renderHandler),this.renderHandler=requestAnimationFrame(this.immediateRender)}}}}],[57]);
//# sourceMappingURL=app.92b4f17a1ab4de59733c.js.map